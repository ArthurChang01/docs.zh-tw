---
title: 架構部署方法 - 無伺服器應用
description: 企業體系結構部署到雲的不同方式的指南，比較 IaaS、PaaS、容器和無伺服器。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: c745a4eb1c6f4a00bf139100b02f31cf3327d01e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/14/2020
ms.locfileid: "72522723"
---
# <a name="architecture-deployment-approaches"></a><span data-ttu-id="eceb2-103">架構部署方法</span><span class="sxs-lookup"><span data-stu-id="eceb2-103">Architecture deployment approaches</span></span>

<span data-ttu-id="eceb2-104">無論用於設計商務應用程式的體系結構方法如何，這些應用程式的實現或部署可能會有所不同。</span><span class="sxs-lookup"><span data-stu-id="eceb2-104">Regardless of the architecture approach used to design a business application, the implementation, or deployment of those applications may vary.</span></span> <span data-ttu-id="eceb2-105">企業託管應用程式，從物理硬體到無伺服器功能。</span><span class="sxs-lookup"><span data-stu-id="eceb2-105">Businesses host applications on everything from physical hardware to serverless functions.</span></span>

## <a name="n-tier-applications"></a><span data-ttu-id="eceb2-106">N 層應用程式</span><span class="sxs-lookup"><span data-stu-id="eceb2-106">N-Tier applications</span></span>

<span data-ttu-id="eceb2-107">[N-Tier 體系結構模式](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)是一個成熟的體系結構，它僅指將各種邏輯層分隔成獨立實體層的應用程式。</span><span class="sxs-lookup"><span data-stu-id="eceb2-107">The [N-Tier architecture pattern](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier) is a mature architecture and simply refers to applications that separate various logical layers into separate physical tiers.</span></span> <span data-ttu-id="eceb2-108">N 層體系結構是 N 層體系結構的物理實現。</span><span class="sxs-lookup"><span data-stu-id="eceb2-108">N-Tier architecture is a physical implementation of N-Layer architecture.</span></span> <span data-ttu-id="eceb2-109">此體系結構的最常見實現包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-109">The most common implementation of this architecture includes:</span></span>

- <span data-ttu-id="eceb2-110">展示層，例如 Web 應用。</span><span class="sxs-lookup"><span data-stu-id="eceb2-110">A presentation tier, for example a web app.</span></span>
- <span data-ttu-id="eceb2-111">API 或資料訪問層，如 REST API。</span><span class="sxs-lookup"><span data-stu-id="eceb2-111">An API or data access tier, such as a REST API.</span></span>
- <span data-ttu-id="eceb2-112">資料層，如 SQL 資料庫。</span><span class="sxs-lookup"><span data-stu-id="eceb2-112">A data tier, such as a SQL database.</span></span>

![N 層體系結構](./media/n-tier-architecture.png)

<span data-ttu-id="eceb2-114">N 層解決方案具有以下特徵：</span><span class="sxs-lookup"><span data-stu-id="eceb2-114">N-tier solutions have the following characteristics:</span></span>

- <span data-ttu-id="eceb2-115">專案通常與層對齊。</span><span class="sxs-lookup"><span data-stu-id="eceb2-115">Projects are typically aligned with tiers.</span></span>
- <span data-ttu-id="eceb2-116">按層處理測試的方式可能不同。</span><span class="sxs-lookup"><span data-stu-id="eceb2-116">Testing may be approached differently by tier.</span></span>
- <span data-ttu-id="eceb2-117">層提供抽象層，例如，展示層通常不知道資料層的實現細節。</span><span class="sxs-lookup"><span data-stu-id="eceb2-117">Tiers provide layers of abstraction, for example the presentation tier is typically ignorant of the implementation details of the data tier.</span></span>
- <span data-ttu-id="eceb2-118">通常，圖層僅與相鄰圖層交互。</span><span class="sxs-lookup"><span data-stu-id="eceb2-118">Typically, layers only interact with adjacent layers.</span></span>
- <span data-ttu-id="eceb2-119">版本通常在專案管理，因此在層級別進行管理。</span><span class="sxs-lookup"><span data-stu-id="eceb2-119">Releases are often managed at the project, and therefore tier, level.</span></span> <span data-ttu-id="eceb2-120">簡單的 API 更改可能需要整個中介層的新版本。</span><span class="sxs-lookup"><span data-stu-id="eceb2-120">A simple API change may require a new release of an entire middle tier.</span></span>

<span data-ttu-id="eceb2-121">此方法提供了幾個好處，包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-121">This approach provides several benefits, including:</span></span>

- <span data-ttu-id="eceb2-122">資料庫的隔離（通常前端不能直接存取資料庫後端）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-122">Isolation of the database (often the front end doesn't have direct access to the database back end).</span></span>
- <span data-ttu-id="eceb2-123">重用 API（例如，移動、桌面和 Web 應用用戶端都可以重用相同的 API）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-123">Reuse of the API (for example, mobile, desktop, and web app clients can all reuse the same APIs).</span></span>
- <span data-ttu-id="eceb2-124">能夠相互獨立地橫向擴展層。</span><span class="sxs-lookup"><span data-stu-id="eceb2-124">Ability to scale out tiers independent of each other.</span></span>
- <span data-ttu-id="eceb2-125">重構隔離：一個層可以重構，而不會影響其他層。</span><span class="sxs-lookup"><span data-stu-id="eceb2-125">Refactoring isolation: one tier may be refactored without impacting other tiers.</span></span>

## <a name="on-premises-and-infrastructure-as-a-service-iaas"></a><span data-ttu-id="eceb2-126">本地和基礎架構即服務 （IaaS）</span><span class="sxs-lookup"><span data-stu-id="eceb2-126">On-premises and Infrastructure as a Service (IaaS)</span></span>

<span data-ttu-id="eceb2-127">傳統的託管應用程式方法需要購買硬體和管理所有軟體安裝，包括作業系統。</span><span class="sxs-lookup"><span data-stu-id="eceb2-127">The traditional approach to hosting applications requires buying hardware and managing all of the software installations, including the operating system.</span></span> <span data-ttu-id="eceb2-128">最初，這涉及到昂貴的資料中心和物理硬體。</span><span class="sxs-lookup"><span data-stu-id="eceb2-128">Originally this involved expensive data centers and physical hardware.</span></span> <span data-ttu-id="eceb2-129">操作物理硬體面臨的挑戰很多，包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-129">The challenges that come with operating physical hardware are many, including:</span></span>

- <span data-ttu-id="eceb2-130">需要購買超額"以防萬一"或需求高峰的情況。</span><span class="sxs-lookup"><span data-stu-id="eceb2-130">The need to buy excess for "just in case" or peak demand scenarios.</span></span>
- <span data-ttu-id="eceb2-131">保護對硬體的物理訪問。</span><span class="sxs-lookup"><span data-stu-id="eceb2-131">Securing physical access to the hardware.</span></span>
- <span data-ttu-id="eceb2-132">對硬體故障（如磁片故障）負責。</span><span class="sxs-lookup"><span data-stu-id="eceb2-132">Responsibility for hardware failure (such as disk failure).</span></span>
- <span data-ttu-id="eceb2-133">冷卻。</span><span class="sxs-lookup"><span data-stu-id="eceb2-133">Cooling.</span></span>
- <span data-ttu-id="eceb2-134">配置路由器和負載等化器。</span><span class="sxs-lookup"><span data-stu-id="eceb2-134">Configuring routers and load balancers.</span></span>
- <span data-ttu-id="eceb2-135">電源冗余。</span><span class="sxs-lookup"><span data-stu-id="eceb2-135">Power redundancy.</span></span>
- <span data-ttu-id="eceb2-136">保護軟體訪問。</span><span class="sxs-lookup"><span data-stu-id="eceb2-136">Securing software access.</span></span>

![IaaS 方法](./media/iaas-approach.png)

<span data-ttu-id="eceb2-138">通過"虛擬機器"實現硬體虛擬化，支援基礎架構即服務 （IaaS）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-138">Virtualization of hardware, via "virtual machines" enables Infrastructure as a Service (IaaS).</span></span> <span data-ttu-id="eceb2-139">主機得到有效分區，為具有分配自身記憶體、CPU 和存儲的實例提供資源。</span><span class="sxs-lookup"><span data-stu-id="eceb2-139">Host machines are effectively partitioned to provide resources to instances with allocations for their own memory, CPU, and storage.</span></span> <span data-ttu-id="eceb2-140">團隊提供必要的 VM 並配置關聯的網路和對存儲的訪問。</span><span class="sxs-lookup"><span data-stu-id="eceb2-140">The team provisions the necessary VMs and configures the associated networks and access to storage.</span></span>

<span data-ttu-id="eceb2-141">有關詳細資訊，請參閱虛擬機器[N 層引用體系結構](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)。</span><span class="sxs-lookup"><span data-stu-id="eceb2-141">For more information, see [virtual machine N-tier reference architecture](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier).</span></span>

<span data-ttu-id="eceb2-142">儘管虛擬化和基礎架構即服務 （IaaS） 解決了許多問題，但它仍然將大部分責任推給基礎架構團隊。</span><span class="sxs-lookup"><span data-stu-id="eceb2-142">Although virtualization and Infrastructure as a Service (IaaS) address many concerns, it still leaves much responsibility in the hands of the infrastructure team.</span></span> <span data-ttu-id="eceb2-143">團隊維護作業系統版本，應用安全修補程式，並在目的電腦上安裝協力廠商依賴項。</span><span class="sxs-lookup"><span data-stu-id="eceb2-143">The team maintains operating system versions, applies security patches, and installs third-party dependencies on the target machines.</span></span> <span data-ttu-id="eceb2-144">與測試環境相比，應用在生產電腦上的行為通常不同。</span><span class="sxs-lookup"><span data-stu-id="eceb2-144">Apps often behave differently on production machines compared to the test environment.</span></span> <span data-ttu-id="eceb2-145">由於依賴項版本和/或 OS SKU 級別不同，會出現問題。</span><span class="sxs-lookup"><span data-stu-id="eceb2-145">Issues arise due to different dependency versions and/or OS SKU levels.</span></span> <span data-ttu-id="eceb2-146">儘管許多組織將 N-Tier 應用程式部署到這些目標，但許多公司從部署到更雲本機模型（如[平臺即服務](#platform-as-a-service-paas)）中獲益。</span><span class="sxs-lookup"><span data-stu-id="eceb2-146">Although many organizations deploy N-Tier applications to these targets, many companies benefit from deploying to a more cloud native model such as [Platform as a Service](#platform-as-a-service-paas).</span></span> <span data-ttu-id="eceb2-147">具有微服務的體系結構更具挑戰性，因為需要橫向擴展以擴展彈性和彈性。</span><span class="sxs-lookup"><span data-stu-id="eceb2-147">Architectures with microservices are more challenging because of the requirements to scale out for elasticity and resiliency.</span></span>

<span data-ttu-id="eceb2-148">有關詳細資訊，請參閱[虛擬機器](https://docs.microsoft.com/azure/virtual-machines/)。</span><span class="sxs-lookup"><span data-stu-id="eceb2-148">For more information, see [virtual machines](https://docs.microsoft.com/azure/virtual-machines/).</span></span>

## <a name="platform-as-a-service-paas"></a><span data-ttu-id="eceb2-149">平台即服務 (PaaS)</span><span class="sxs-lookup"><span data-stu-id="eceb2-149">Platform as a Service (PaaS)</span></span>

<span data-ttu-id="eceb2-150">平臺即服務 （PaaS） 提供配置的解決方案，開發人員可以直接插入這些解決方案。</span><span class="sxs-lookup"><span data-stu-id="eceb2-150">Platform as a Service (PaaS) offers configured solutions that developers can plug into directly.</span></span> <span data-ttu-id="eceb2-151">PaaS 是託管託管的另一個術語。</span><span class="sxs-lookup"><span data-stu-id="eceb2-151">PaaS is another term for managed hosting.</span></span> <span data-ttu-id="eceb2-152">它消除了管理基本作業系統、安全修補程式以及在許多情況下任何協力廠商依賴關係的需要。</span><span class="sxs-lookup"><span data-stu-id="eceb2-152">It eliminates the need to manage the base operating system, security patches and in many cases any third-party dependencies.</span></span> <span data-ttu-id="eceb2-153">平臺的示例包括 Web 應用程式、資料庫和移動後端。</span><span class="sxs-lookup"><span data-stu-id="eceb2-153">Examples of platforms include web applications, databases, and mobile back ends.</span></span>

<span data-ttu-id="eceb2-154">PaaS 解決了 IaaS 面臨的共同挑戰。</span><span class="sxs-lookup"><span data-stu-id="eceb2-154">PaaS addresses the challenges common to IaaS.</span></span> <span data-ttu-id="eceb2-155">PaaS 允許開發人員專注于代碼或資料庫架構，而不是部署方式。</span><span class="sxs-lookup"><span data-stu-id="eceb2-155">PaaS allows the developer to focus on the code or database schema rather than how it gets deployed.</span></span> <span data-ttu-id="eceb2-156">PaaS 的優勢包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-156">Benefits of PaaS include:</span></span>

- <span data-ttu-id="eceb2-157">支付使用模型，消除投資閒置機器的開銷。</span><span class="sxs-lookup"><span data-stu-id="eceb2-157">Pay for use models that eliminate the overhead of investing in idle machines.</span></span>
- <span data-ttu-id="eceb2-158">直接部署和改進的 DevOps、持續集成 （CI） 和持續交付 （CD） 管道。</span><span class="sxs-lookup"><span data-stu-id="eceb2-158">Direct deployment and improved DevOps, continuous integration (CI), and continuous delivery (CD) pipelines.</span></span>
- <span data-ttu-id="eceb2-159">自動升級、更新和安全修補程式。</span><span class="sxs-lookup"><span data-stu-id="eceb2-159">Automatic upgrades, updates, and security patches.</span></span>
- <span data-ttu-id="eceb2-160">按鈕橫向擴展和放大（彈性刻度）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-160">Push-button scale out and scale up (elastic scale).</span></span>

<span data-ttu-id="eceb2-161">傳統上，PaaS 的主要缺點是供應商鎖定。</span><span class="sxs-lookup"><span data-stu-id="eceb2-161">The main disadvantage of PaaS traditionally has been vendor lock-in.</span></span> <span data-ttu-id="eceb2-162">例如，某些 PaaS 提供程式僅支援ASP.NET、Node.js 或其他特定語言和平臺。</span><span class="sxs-lookup"><span data-stu-id="eceb2-162">For example, some PaaS providers only support ASP.NET, Node.js, or other specific languages and platforms.</span></span> <span data-ttu-id="eceb2-163">Azure 應用服務等產品已演變為針對多個平臺，並支援託管 Web 應用的各種語言和框架。</span><span class="sxs-lookup"><span data-stu-id="eceb2-163">Products like Azure App Service have evolved to address multiple platforms and support a variety of languages and frameworks for hosting web apps.</span></span>

![平臺即服務架構](./media/paas-architecture.png)

## <a name="software-as-a-service-saas"></a><span data-ttu-id="eceb2-165">軟體即服務 (SaaS)</span><span class="sxs-lookup"><span data-stu-id="eceb2-165">Software as a Service (SaaS)</span></span>

<span data-ttu-id="eceb2-166">軟體即服務或 SaaS 是集中託管的，無需本地安裝或預配即可使用。</span><span class="sxs-lookup"><span data-stu-id="eceb2-166">Software as a Service or SaaS is centrally hosted and available without local installation or provisioning.</span></span> <span data-ttu-id="eceb2-167">SaaS 通常託管在 PaaS 之上，作為部署軟體的平臺。</span><span class="sxs-lookup"><span data-stu-id="eceb2-167">SaaS often is hosted on top of PaaS as a platform for deploying software.</span></span> <span data-ttu-id="eceb2-168">SaaS 提供用於運行和連接現有軟體的服務。</span><span class="sxs-lookup"><span data-stu-id="eceb2-168">SaaS provides services to run and connect with existing software.</span></span> <span data-ttu-id="eceb2-169">SaaS 通常是行業和垂直特定的。</span><span class="sxs-lookup"><span data-stu-id="eceb2-169">SaaS is often industry and vertical specific.</span></span> <span data-ttu-id="eceb2-170">SaaS 通常獲得許可，通常提供用戶端/伺服器模型。</span><span class="sxs-lookup"><span data-stu-id="eceb2-170">SaaS is often licensed and typically provides a client/server model.</span></span> <span data-ttu-id="eceb2-171">大多數現代 SaaS 產品都使用基於 Web 的應用程式來為用戶端服務。</span><span class="sxs-lookup"><span data-stu-id="eceb2-171">Most modern SaaS offerings use web-based apps for the client.</span></span> <span data-ttu-id="eceb2-172">公司通常將 SaaS 視為許可產品的業務解決方案。</span><span class="sxs-lookup"><span data-stu-id="eceb2-172">Companies typically consider SaaS as a business solution to license offerings.</span></span> <span data-ttu-id="eceb2-173">它通常不作為應用程式的可伸縮性和可維護性的體系結構考慮實現。</span><span class="sxs-lookup"><span data-stu-id="eceb2-173">It isn't often implemented as architecture consideration for scalability and maintainability of an application.</span></span> <span data-ttu-id="eceb2-174">實際上，大多數 SaaS 解決方案都基於 IaaS、PaaS 和/或無伺服器後端構建。</span><span class="sxs-lookup"><span data-stu-id="eceb2-174">Indeed, most SaaS solutions are built on IaaS, PaaS, and/or serverless back ends.</span></span>

<span data-ttu-id="eceb2-175">通過[應用程式範例](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)瞭解有關 SaaS 的更多。</span><span class="sxs-lookup"><span data-stu-id="eceb2-175">Learn more about SaaS through a [sample application](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app).</span></span>

## <a name="containers-and-functions-as-a-service-faas"></a><span data-ttu-id="eceb2-176">容器和功能作為服務 （FaaS）</span><span class="sxs-lookup"><span data-stu-id="eceb2-176">Containers and Functions as a Service (FaaS)</span></span>

<span data-ttu-id="eceb2-177">容器是一個有趣的解決方案，可實現類似 PaaS 的好處，而無需 IaaS 開銷。</span><span class="sxs-lookup"><span data-stu-id="eceb2-177">Containers are an interesting solution that enables PaaS-like benefits without the IaaS overhead.</span></span> <span data-ttu-id="eceb2-178">容器本質上是一個運行時，其中包含運行唯一應用程式所需的基本要素。</span><span class="sxs-lookup"><span data-stu-id="eceb2-178">A container is essentially a runtime that contains the bare essentials needed to run a unique application.</span></span> <span data-ttu-id="eceb2-179">主機作業系統的內核或核心部分以及存儲等服務在主機之間共用。</span><span class="sxs-lookup"><span data-stu-id="eceb2-179">The kernel or core part of the host operating system and services such as storage are shared across a host.</span></span> <span data-ttu-id="eceb2-180">共用內核使容器具有羽量級（有些容器的大小僅為百萬位元組，而典型虛擬機器的大小僅為千百萬位元組）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-180">The shared kernel enables containers to be lightweight (some are mere megabytes in size, compared to the gigabyte size of typical virtual machines).</span></span> <span data-ttu-id="eceb2-181">主機已經運行，容器可以快速啟動，從而促進高可用性。</span><span class="sxs-lookup"><span data-stu-id="eceb2-181">With hosts already running, containers can be started quickly, facilitating high availability.</span></span> <span data-ttu-id="eceb2-182">快速啟動容器的能力也提供了額外的彈性層。</span><span class="sxs-lookup"><span data-stu-id="eceb2-182">The ability to spin up containers quickly also provides extra layers of resiliency.</span></span> <span data-ttu-id="eceb2-183">Docker 是容器中較流行的實現之一。</span><span class="sxs-lookup"><span data-stu-id="eceb2-183">Docker is one of the more popular implementations of containers.</span></span>

<span data-ttu-id="eceb2-184">容器的優點包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-184">Benefits of containers include:</span></span>

- <span data-ttu-id="eceb2-185">輕便便攜</span><span class="sxs-lookup"><span data-stu-id="eceb2-185">Lightweight and portable</span></span>
- <span data-ttu-id="eceb2-186">自包含，因此無需安裝依賴項</span><span class="sxs-lookup"><span data-stu-id="eceb2-186">Self-contained so no need to install dependencies</span></span>
- <span data-ttu-id="eceb2-187">無論主機如何，都能提供一致的環境（在可擕式電腦上運行與雲伺服器上完全相同）</span><span class="sxs-lookup"><span data-stu-id="eceb2-187">Provide a consistent environment regardless of the host (runs exactly same on a laptop as on a cloud server)</span></span>
- <span data-ttu-id="eceb2-188">可快速調配，用於橫向擴展</span><span class="sxs-lookup"><span data-stu-id="eceb2-188">Can be provisioned quickly for scale-out</span></span>
- <span data-ttu-id="eceb2-189">可以快速重新開機以從故障中恢復</span><span class="sxs-lookup"><span data-stu-id="eceb2-189">Can be restarted quickly to recover from failure</span></span>

<span data-ttu-id="eceb2-190">容器在容器主機上運行（該容器可能在裸機或虛擬機器上運行）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-190">A container runs on a container host (that in turn may run on a bare metal machine or a virtual machine).</span></span> <span data-ttu-id="eceb2-191">同一容器的多個容器或實例可能在單個主機上運行。</span><span class="sxs-lookup"><span data-stu-id="eceb2-191">Multiple containers or instances of the same containers may run on a single host.</span></span> <span data-ttu-id="eceb2-192">為了實現真正的容錯移轉和恢復能力，容器必須跨主機縮放。</span><span class="sxs-lookup"><span data-stu-id="eceb2-192">For true failover and resiliency, containers must be scaled across hosts.</span></span>

<span data-ttu-id="eceb2-193">有關 Docker 容器的詳細資訊，請參閱[什麼是 Docker](../microservices/container-docker-introduction/docker-defined.md)。</span><span class="sxs-lookup"><span data-stu-id="eceb2-193">For more information about Docker containers, see [What is Docker](../microservices/container-docker-introduction/docker-defined.md).</span></span>

<span data-ttu-id="eceb2-194">跨主機管理容器通常需要業務流程工具（如 Kubernetes）。</span><span class="sxs-lookup"><span data-stu-id="eceb2-194">Managing containers across hosts typically requires an orchestration tool such as Kubernetes.</span></span> <span data-ttu-id="eceb2-195">配置和管理業務流程解決方案可能會增加專案的額外開銷和複雜性。</span><span class="sxs-lookup"><span data-stu-id="eceb2-195">Configuring and managing orchestration solutions may add additional overhead and complexity to projects.</span></span> <span data-ttu-id="eceb2-196">幸運的是，許多雲供應商通過 PaaS 解決方案提供編排服務，以簡化容器的管理。</span><span class="sxs-lookup"><span data-stu-id="eceb2-196">Fortunately, many cloud providers provide orchestration services through PaaS solutions to simplify the management of containers.</span></span>

<span data-ttu-id="eceb2-197">下圖演示了庫伯內斯安裝的示例。</span><span class="sxs-lookup"><span data-stu-id="eceb2-197">The following image illustrates an example Kubernetes installation.</span></span> <span data-ttu-id="eceb2-198">安裝位址中的節點橫向擴展和容錯移轉。</span><span class="sxs-lookup"><span data-stu-id="eceb2-198">Nodes in the installation address scale out and failover.</span></span> <span data-ttu-id="eceb2-199">它們運行由主伺服器管理的 Docker 容器實例。</span><span class="sxs-lookup"><span data-stu-id="eceb2-199">They run Docker container instances that are managed by the master server.</span></span> <span data-ttu-id="eceb2-200">*庫貝萊特*是中繼命令從庫伯內斯到 Docker 的用戶端。</span><span class="sxs-lookup"><span data-stu-id="eceb2-200">The *kubelet* is the client that relays commands from Kubernetes to Docker.</span></span>

![Kubernetes](./media/kubernetes-example.png)

<span data-ttu-id="eceb2-202">有關業務流程的詳細資訊，請參閱 Azure[上的庫伯內斯](https://docs.microsoft.com/azure/aks/intro-kubernetes)。</span><span class="sxs-lookup"><span data-stu-id="eceb2-202">For more information about orchestration, see [Kubernetes on Azure](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span></span>

<span data-ttu-id="eceb2-203">服務功能 （FaaS） 是類似于無伺服器的專用容器服務。</span><span class="sxs-lookup"><span data-stu-id="eceb2-203">Functions as a Service (FaaS) is a specialized container service that is similar to serverless.</span></span> <span data-ttu-id="eceb2-204">FaaS 的一個特定實現，稱為[OpenFaaS，](https://github.com/openfaas/faas)位於容器頂部，提供無伺服器功能。</span><span class="sxs-lookup"><span data-stu-id="eceb2-204">A specific implementation of FaaS, called [OpenFaaS](https://github.com/openfaas/faas), sits on top of containers to provide serverless capabilities.</span></span> <span data-ttu-id="eceb2-205">OpenFaaS 提供範本，用於打包運行程式碼片段所需的所有容器依賴項。</span><span class="sxs-lookup"><span data-stu-id="eceb2-205">OpenFaaS provides templates that package all of the container dependencies necessary to run a piece of code.</span></span> <span data-ttu-id="eceb2-206">使用範本簡化了將代碼作為功能單元部署的過程。</span><span class="sxs-lookup"><span data-stu-id="eceb2-206">Using templates simplifies the process of deploying code as a functional unit.</span></span> <span data-ttu-id="eceb2-207">OpenFaaS 面向已包含容器和協調器的體系結構，因為它可以使用現有的基礎結構。</span><span class="sxs-lookup"><span data-stu-id="eceb2-207">OpenFaaS targets architectures that already include containers and orchestrators because it can use the existing infrastructure.</span></span> <span data-ttu-id="eceb2-208">儘管它提供無伺服器功能，但它特別要求您使用 Docker 和協調器。</span><span class="sxs-lookup"><span data-stu-id="eceb2-208">Although it provides serverless functionality, it specifically requires you to use Docker and an orchestrator.</span></span>

## <a name="serverless"></a><span data-ttu-id="eceb2-209">無伺服器</span><span class="sxs-lookup"><span data-stu-id="eceb2-209">Serverless</span></span>

<span data-ttu-id="eceb2-210">無伺服器體系結構在代碼及其託管環境之間提供了明確的分離。</span><span class="sxs-lookup"><span data-stu-id="eceb2-210">A serverless architecture provides a clear separation between the code and its hosting environment.</span></span> <span data-ttu-id="eceb2-211">在*由觸發器*調用的*函數*中實現代碼。</span><span class="sxs-lookup"><span data-stu-id="eceb2-211">You implement code in a *function* that is invoked by a *trigger*.</span></span> <span data-ttu-id="eceb2-212">退出該函數後，可以釋放其所有所需的資源。</span><span class="sxs-lookup"><span data-stu-id="eceb2-212">After that function exits, all its needed resources may be freed.</span></span> <span data-ttu-id="eceb2-213">觸發器可以是手動的、定時的過程、HTTP 要求或檔上載。</span><span class="sxs-lookup"><span data-stu-id="eceb2-213">The trigger might be manual, a timed process, an HTTP request, or a file upload.</span></span> <span data-ttu-id="eceb2-214">觸發器的結果是代碼的執行。</span><span class="sxs-lookup"><span data-stu-id="eceb2-214">The result of the trigger is the execution of code.</span></span> <span data-ttu-id="eceb2-215">儘管無伺服器平臺各不相同，但大多數平臺都提供對預定義的 API 和綁定的訪問，以簡化任務，如寫入資料庫或排隊結果。</span><span class="sxs-lookup"><span data-stu-id="eceb2-215">Although serverless platforms vary, most provide access to pre-defined APIs and bindings to streamline tasks such as writing to a database or queueing results.</span></span>

<span data-ttu-id="eceb2-216">無伺服器是一種嚴重依賴抽象主機環境以專注于代碼的體系結構。</span><span class="sxs-lookup"><span data-stu-id="eceb2-216">Serverless is an architecture that relies heavily on abstracting away the host environment to focus on code.</span></span> <span data-ttu-id="eceb2-217">它可以被認為是*更少的伺服器*。</span><span class="sxs-lookup"><span data-stu-id="eceb2-217">It can be thought of as *less server*.</span></span>

<span data-ttu-id="eceb2-218">容器解決方案為開發人員提供現有生成腳本，將代碼發佈到無伺服器就緒映射。</span><span class="sxs-lookup"><span data-stu-id="eceb2-218">Container solutions provide developers existing build scripts to publish code to serverless-ready images.</span></span> <span data-ttu-id="eceb2-219">其他實現使用現有的 PaaS 解決方案來提供可擴展的體系結構。</span><span class="sxs-lookup"><span data-stu-id="eceb2-219">Other implementations use existing PaaS solutions to provide a scalable architecture.</span></span>

<span data-ttu-id="eceb2-220">抽象意味著 DevOps 團隊不必預配或管理伺服器，也不必管理特定的容器。</span><span class="sxs-lookup"><span data-stu-id="eceb2-220">The abstraction means the DevOps team doesn't have to provision or manage servers, nor specific containers.</span></span> <span data-ttu-id="eceb2-221">無伺服器平臺託管代碼，作為使用相關 SDK 構建的腳本或打包可執行檔，並為代碼分配必要的資源進行擴展。</span><span class="sxs-lookup"><span data-stu-id="eceb2-221">The serverless platform hosts code, either as script or packaged executables built with a related SDK, and allocates the necessary resources for the code to scale.</span></span>

<span data-ttu-id="eceb2-222">下圖顯示了四個無伺服器元件。</span><span class="sxs-lookup"><span data-stu-id="eceb2-222">The following illustration diagrams four serverless components.</span></span> <span data-ttu-id="eceb2-223">HTTP 要求會導致簽出 API 代碼運行。</span><span class="sxs-lookup"><span data-stu-id="eceb2-223">An HTTP request causes the Checkout API code to run.</span></span> <span data-ttu-id="eceb2-224">簽出 API 將代碼插入到資料庫中，插入將觸發其他幾個函數來運行以執行計算任務和完成順序等任務。</span><span class="sxs-lookup"><span data-stu-id="eceb2-224">The Checkout API inserts code into a database, and the insert triggers several other functions to run to perform tasks like computing tasks and fulfilling the order.</span></span>

![無伺服器實現](./media/serverless-implementation.png)

<span data-ttu-id="eceb2-226">無伺服器的優點包括：</span><span class="sxs-lookup"><span data-stu-id="eceb2-226">The advantages of serverless include:</span></span>

- <span data-ttu-id="eceb2-227">**高密度。**</span><span class="sxs-lookup"><span data-stu-id="eceb2-227">**High density.**</span></span> <span data-ttu-id="eceb2-228">與容器或虛擬機器相比，同一無伺服器代碼的許多實例可以在同一主機上運行。</span><span class="sxs-lookup"><span data-stu-id="eceb2-228">Many instances of the same serverless code can run on the same host compared to containers or virtual machines.</span></span> <span data-ttu-id="eceb2-229">實例跨多個主機擴展並進行恢復。</span><span class="sxs-lookup"><span data-stu-id="eceb2-229">The instances scale across multiple hosts scale out and resiliency.</span></span>
- <span data-ttu-id="eceb2-230">**微計費。**</span><span class="sxs-lookup"><span data-stu-id="eceb2-230">**Micro-billing.**</span></span> <span data-ttu-id="eceb2-231">大多數無伺服器供應商都根據無伺服器執行計費，從而在某些情況下大幅節約成本。</span><span class="sxs-lookup"><span data-stu-id="eceb2-231">Most serverless providers bill based on serverless executions, enabling massive cost savings in certain scenarios.</span></span>
- <span data-ttu-id="eceb2-232">**即時縮放。**</span><span class="sxs-lookup"><span data-stu-id="eceb2-232">**Instant scale.**</span></span> <span data-ttu-id="eceb2-233">無伺服器可以自動快速擴展以匹配工作負載。</span><span class="sxs-lookup"><span data-stu-id="eceb2-233">Serverless can scale to match workloads automatically and quickly.</span></span>
- <span data-ttu-id="eceb2-234">**更快的上市時間。**</span><span class="sxs-lookup"><span data-stu-id="eceb2-234">**Faster time to market.**</span></span> <span data-ttu-id="eceb2-235">開發人員專注于代碼並直接部署到無伺服器平臺。</span><span class="sxs-lookup"><span data-stu-id="eceb2-235">Developers focus on code and deploy directly to the serverless platform.</span></span> <span data-ttu-id="eceb2-236">元件可以相互獨立釋放。</span><span class="sxs-lookup"><span data-stu-id="eceb2-236">Components can be released independently of each other.</span></span>

<span data-ttu-id="eceb2-237">無伺服器最常在計算上下文中討論，但也可應用於資料。</span><span class="sxs-lookup"><span data-stu-id="eceb2-237">Serverless is most often discussed in the context of compute, but can also apply to data.</span></span> <span data-ttu-id="eceb2-238">例如[，Azure SQL](https://docs.microsoft.com/azure/sql-database)和[Cosmos DB](https://docs.microsoft.com/azure/cosmos-db)都提供雲資料庫，這些資料庫不需要配置主機或群集。</span><span class="sxs-lookup"><span data-stu-id="eceb2-238">For example, [Azure SQL](https://docs.microsoft.com/azure/sql-database) and [Cosmos DB](https://docs.microsoft.com/azure/cosmos-db) both provide cloud databases that don't require you to configure host machines or clusters.</span></span> <span data-ttu-id="eceb2-239">本書側重于無伺服器計算。</span><span class="sxs-lookup"><span data-stu-id="eceb2-239">This book focuses on serverless compute.</span></span>

## <a name="summary"></a><span data-ttu-id="eceb2-240">摘要</span><span class="sxs-lookup"><span data-stu-id="eceb2-240">Summary</span></span>

<span data-ttu-id="eceb2-241">架構有多種可用選擇，包括混合方法。</span><span class="sxs-lookup"><span data-stu-id="eceb2-241">There's a broad spectrum of available choices for architecture, including a hybrid approach.</span></span> <span data-ttu-id="eceb2-242">無伺服器簡化了應用程式功能的方法、管理和成本，但代價是控制和可攜性。</span><span class="sxs-lookup"><span data-stu-id="eceb2-242">Serverless simplifies the approach, management, and cost of application features at the expense of control and portability.</span></span> <span data-ttu-id="eceb2-243">但是，許多無伺服器平臺公開配置以説明微調解決方案。</span><span class="sxs-lookup"><span data-stu-id="eceb2-243">However, many serverless platforms do expose configuration to help fine-tune the solution.</span></span> <span data-ttu-id="eceb2-244">良好的程式設計實踐還會導致更多的可移植代碼和更少的無伺服器平臺鎖定。</span><span class="sxs-lookup"><span data-stu-id="eceb2-244">Good programming practices can also lead to more portable code and less serverless platform lock-in.</span></span> <span data-ttu-id="eceb2-245">下表說明了並行體系結構方法。</span><span class="sxs-lookup"><span data-stu-id="eceb2-245">The following table illustrates the architecture approaches side by side.</span></span> <span data-ttu-id="eceb2-246">根據您的規模需求選擇無伺服器，無論您是否想要管理運行時，以及將工作負載分解為小型元件的能力。</span><span class="sxs-lookup"><span data-stu-id="eceb2-246">Choose serverless based on your scale needs, whether or not you want to manage the runtime, and how well you can break your workloads into small components.</span></span> <span data-ttu-id="eceb2-247">在下一章中，您將瞭解無伺服器和其他決策點的潛在挑戰。</span><span class="sxs-lookup"><span data-stu-id="eceb2-247">You'll learn about potential challenges with serverless and other decision points in the next chapter.</span></span>

|         |<span data-ttu-id="eceb2-248">IaaS</span><span class="sxs-lookup"><span data-stu-id="eceb2-248">IaaS</span></span>     |<span data-ttu-id="eceb2-249">PaaS</span><span class="sxs-lookup"><span data-stu-id="eceb2-249">PaaS</span></span>     |<span data-ttu-id="eceb2-250">容器</span><span class="sxs-lookup"><span data-stu-id="eceb2-250">Container</span></span>|<span data-ttu-id="eceb2-251">無伺服器</span><span class="sxs-lookup"><span data-stu-id="eceb2-251">Serverless</span></span>|
|---------|---------|---------|---------|----------|
|<span data-ttu-id="eceb2-252">**規模**</span><span class="sxs-lookup"><span data-stu-id="eceb2-252">**Scale**</span></span>|<span data-ttu-id="eceb2-253">VM</span><span class="sxs-lookup"><span data-stu-id="eceb2-253">VM</span></span>       |<span data-ttu-id="eceb2-254">執行個體</span><span class="sxs-lookup"><span data-stu-id="eceb2-254">Instance</span></span> |<span data-ttu-id="eceb2-255">App</span><span class="sxs-lookup"><span data-stu-id="eceb2-255">App</span></span>      |<span data-ttu-id="eceb2-256">函式</span><span class="sxs-lookup"><span data-stu-id="eceb2-256">Function</span></span>  |
|<span data-ttu-id="eceb2-257">**文摘**</span><span class="sxs-lookup"><span data-stu-id="eceb2-257">**Abstracts**</span></span>|<span data-ttu-id="eceb2-258">硬體</span><span class="sxs-lookup"><span data-stu-id="eceb2-258">Hardware</span></span>|<span data-ttu-id="eceb2-259">平台</span><span class="sxs-lookup"><span data-stu-id="eceb2-259">Platform</span></span>|<span data-ttu-id="eceb2-260">作業系統主機</span><span class="sxs-lookup"><span data-stu-id="eceb2-260">OS Host</span></span>|<span data-ttu-id="eceb2-261">執行階段</span><span class="sxs-lookup"><span data-stu-id="eceb2-261">Runtime</span></span>   |
|<span data-ttu-id="eceb2-262">**單位**</span><span class="sxs-lookup"><span data-stu-id="eceb2-262">**Unit**</span></span> |<span data-ttu-id="eceb2-263">VM</span><span class="sxs-lookup"><span data-stu-id="eceb2-263">VM</span></span>       |<span data-ttu-id="eceb2-264">隨附此逐步解說的專案</span><span class="sxs-lookup"><span data-stu-id="eceb2-264">Project</span></span>  |<span data-ttu-id="eceb2-265">映像</span><span class="sxs-lookup"><span data-stu-id="eceb2-265">Image</span></span>    |<span data-ttu-id="eceb2-266">程式碼</span><span class="sxs-lookup"><span data-stu-id="eceb2-266">Code</span></span>      |
|<span data-ttu-id="eceb2-267">**一生**</span><span class="sxs-lookup"><span data-stu-id="eceb2-267">**Lifetime**</span></span>|<span data-ttu-id="eceb2-268">Months</span><span class="sxs-lookup"><span data-stu-id="eceb2-268">Months</span></span>|<span data-ttu-id="eceb2-269">天數到月數</span><span class="sxs-lookup"><span data-stu-id="eceb2-269">Days to Months</span></span>|<span data-ttu-id="eceb2-270">分鐘到天數</span><span class="sxs-lookup"><span data-stu-id="eceb2-270">Minutes to Days</span></span>|<span data-ttu-id="eceb2-271">毫秒到分鐘數</span><span class="sxs-lookup"><span data-stu-id="eceb2-271">Milliseconds to Minutes</span></span>|
|<span data-ttu-id="eceb2-272">**責任**</span><span class="sxs-lookup"><span data-stu-id="eceb2-272">**Responsibility**</span></span>|<span data-ttu-id="eceb2-273">應用程式、依賴項、運行時和作業系統</span><span class="sxs-lookup"><span data-stu-id="eceb2-273">Applications, dependencies, runtime, and operating system</span></span>|<span data-ttu-id="eceb2-274">應用程式和依賴項</span><span class="sxs-lookup"><span data-stu-id="eceb2-274">Applications and dependencies</span></span>|<span data-ttu-id="eceb2-275">應用程式、依賴項和運行時</span><span class="sxs-lookup"><span data-stu-id="eceb2-275">Applications, dependencies, and runtime</span></span>|<span data-ttu-id="eceb2-276">函式</span><span class="sxs-lookup"><span data-stu-id="eceb2-276">Function</span></span>

- <span data-ttu-id="eceb2-277">**縮放**是指用於擴展應用程式的單位</span><span class="sxs-lookup"><span data-stu-id="eceb2-277">**Scale** refers to the unit that is used to scale the application</span></span>
- <span data-ttu-id="eceb2-278">**摘要**是指由實現抽象的層</span><span class="sxs-lookup"><span data-stu-id="eceb2-278">**Abstracts** refers to the layer that is abstracted by the implementation</span></span>
- <span data-ttu-id="eceb2-279">**單元**是指部署的範圍</span><span class="sxs-lookup"><span data-stu-id="eceb2-279">**Unit** refers to the scope of what is deployed</span></span>
- <span data-ttu-id="eceb2-280">**存留期**是指特定實例的典型運行時</span><span class="sxs-lookup"><span data-stu-id="eceb2-280">**Lifetime** refers to the typical runtime of a specific instance</span></span>
- <span data-ttu-id="eceb2-281">**責任**是指構建、部署和維護應用程式的開銷</span><span class="sxs-lookup"><span data-stu-id="eceb2-281">**Responsibility** refers to the overhead to build, deploy, and maintain the application</span></span>

<span data-ttu-id="eceb2-282">下一章將重點討論無伺服器體系結構、用例和設計模式。</span><span class="sxs-lookup"><span data-stu-id="eceb2-282">The next chapter will focus on serverless architecture, use cases, and design patterns.</span></span>

## <a name="recommended-resources"></a><span data-ttu-id="eceb2-283">建議的資源</span><span class="sxs-lookup"><span data-stu-id="eceb2-283">Recommended resources</span></span>

- [<span data-ttu-id="eceb2-284">Azure 應用程式體系結構指南</span><span class="sxs-lookup"><span data-stu-id="eceb2-284">Azure application architecture guide</span></span>](https://docs.microsoft.com/azure/architecture/guide/)
- [<span data-ttu-id="eceb2-285">Azure 宇宙資料庫</span><span class="sxs-lookup"><span data-stu-id="eceb2-285">Azure Cosmos DB</span></span>](https://docs.microsoft.com/azure/cosmos-db)
- [<span data-ttu-id="eceb2-286">Azure SQL</span><span class="sxs-lookup"><span data-stu-id="eceb2-286">Azure SQL</span></span>](https://docs.microsoft.com/azure/sql-database)
- [<span data-ttu-id="eceb2-287">N 層體系結構模式</span><span class="sxs-lookup"><span data-stu-id="eceb2-287">N-Tier architecture pattern</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/n-tier)
- [<span data-ttu-id="eceb2-288">Azure 上的 Kubernetes</span><span class="sxs-lookup"><span data-stu-id="eceb2-288">Kubernetes on Azure</span></span>](https://docs.microsoft.com/azure/aks/intro-kubernetes)
- [<span data-ttu-id="eceb2-289">微服務</span><span class="sxs-lookup"><span data-stu-id="eceb2-289">Microservices</span></span>](https://docs.microsoft.com/azure/architecture/guide/architecture-styles/microservices)
- [<span data-ttu-id="eceb2-290">虛擬機器 N 層參考體系結構</span><span class="sxs-lookup"><span data-stu-id="eceb2-290">Virtual machine N-tier reference architecture</span></span>](https://docs.microsoft.com/azure/architecture/reference-architectures/virtual-machines-windows/n-tier)
- [<span data-ttu-id="eceb2-291">虛擬機器</span><span class="sxs-lookup"><span data-stu-id="eceb2-291">Virtual machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/)
- [<span data-ttu-id="eceb2-292">什麼是 Docker？</span><span class="sxs-lookup"><span data-stu-id="eceb2-292">What is Docker?</span></span>](../microservices/container-docker-introduction/docker-defined.md)
- [<span data-ttu-id="eceb2-293">翼尖門票SaaS應用程式</span><span class="sxs-lookup"><span data-stu-id="eceb2-293">Wingtip Tickets SaaS application</span></span>](https://docs.microsoft.com/azure/sql-database/saas-tenancy-welcome-wingtip-tickets-app)

>[!div class="step-by-step"]
><span data-ttu-id="eceb2-294">[上一個](architecture-approaches.md)
>[下一個](serverless-architecture.md)</span><span class="sxs-lookup"><span data-stu-id="eceb2-294">[Previous](architecture-approaches.md)
[Next](serverless-architecture.md)</span></span>
