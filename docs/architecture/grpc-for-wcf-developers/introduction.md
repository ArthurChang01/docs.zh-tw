---
title: 介紹 - gRPC 面向 WCF 開發人員
description: 簡介
ms.date: 09/02/2019
ms.openlocfilehash: 41f470eb02a77b1b6a26a7d4c2ca347ad07d828d
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988930"
---
# <a name="introduction"></a><span data-ttu-id="88da1-103">簡介</span><span class="sxs-lookup"><span data-stu-id="88da1-103">Introduction</span></span>

<span data-ttu-id="88da1-104">幫助機器相互通信一直是數位時代的主要關注點之一。</span><span class="sxs-lookup"><span data-stu-id="88da1-104">Helping machines communicate with each other has been one of the primary preoccupations of the digital age.</span></span> <span data-ttu-id="88da1-105">特別是,正在努力確定滿足當前基礎架構互操作性需求的最佳遠端通信機制。</span><span class="sxs-lookup"><span data-stu-id="88da1-105">In particular, there's an ongoing effort to determine the optimal remote communication mechanism that will suit the interoperability demands of the current infrastructure.</span></span> <span data-ttu-id="88da1-106">可以想像,隨著需求或基礎結構的發展,該機制會發生變化。</span><span class="sxs-lookup"><span data-stu-id="88da1-106">As you can imagine, that mechanism changes as either the demands or the infrastructure evolves.</span></span>

<span data-ttu-id="88da1-107">.NET Core 3.0 的發表標誌著 Microsoft 向希望跨一系列平臺提供服務的開發人員提供遠端通訊解決方案的方式發生了轉變。</span><span class="sxs-lookup"><span data-stu-id="88da1-107">The release of .NET Core 3.0 marks a shift in the way that Microsoft delivers remote communication solutions to developers who want to deliver services across a range of platforms.</span></span> <span data-ttu-id="88da1-108">.NET Core 不提供現成的 Windows 通信基礎 (WCF),但隨著 ASP.NET酷睿 3.0 的發布,它確實提供了內置的 gRPC 功能。</span><span class="sxs-lookup"><span data-stu-id="88da1-108">.NET Core doesn't offer Windows Communication Foundation (WCF) out of the box but, with the release of ASP.NET Core 3.0, it does provide built-in gRPC functionality.</span></span>

<span data-ttu-id="88da1-109">gRPC 是更廣泛的軟體社區中一個流行的框架。</span><span class="sxs-lookup"><span data-stu-id="88da1-109">gRPC is a popular framework in the wider software community.</span></span> <span data-ttu-id="88da1-110">開發人員跨許多程式設計語言用於現代 RPC 方案。</span><span class="sxs-lookup"><span data-stu-id="88da1-110">It's used by developers across many programming languages for modern RPC scenarios.</span></span> <span data-ttu-id="88da1-111">社區和生態系統充滿活力和活躍。</span><span class="sxs-lookup"><span data-stu-id="88da1-111">The community and the ecosystem are vibrant and active.</span></span> <span data-ttu-id="88da1-112">對 gRPC 協定的支援正在添加到基礎結構元件中,如 Kubernetes、服務網、負載均衡器等。</span><span class="sxs-lookup"><span data-stu-id="88da1-112">Support for the gRPC protocol is being added to infrastructure components like Kubernetes, service meshes, load balancers, and more.</span></span> <span data-ttu-id="88da1-113">這些因素及其性能、效率和跨平臺相容性使 gRPC 成為新應用和 WCF 應用遷移到 .NET Core 的自然選擇。</span><span class="sxs-lookup"><span data-stu-id="88da1-113">These factors, together with its performance, efficiency, and cross-platform compatibility, make gRPC a natural choice for new apps and WCF apps moving to .NET Core.</span></span>

## <a name="history"></a><span data-ttu-id="88da1-114">記錄</span><span class="sxs-lookup"><span data-stu-id="88da1-114">History</span></span>

<span data-ttu-id="88da1-115">計算機網路的基本原理只不過是一組相互交換數據以實現一組相互關聯的任務的計算機,自成立以來沒有改變。</span><span class="sxs-lookup"><span data-stu-id="88da1-115">The fundamental principle of a computer network as nothing more than a group of computers exchanging data with each other to achieve a set of interrelated tasks hasn't changed since its inception.</span></span> <span data-ttu-id="88da1-116">但複雜性、規模和預期呈指數級增長。</span><span class="sxs-lookup"><span data-stu-id="88da1-116">But the complexity, scale, and expectations have grown exponentially.</span></span>  

<span data-ttu-id="88da1-117">在1990年代,主要強調改進使用同一語言和平臺的內部網路。</span><span class="sxs-lookup"><span data-stu-id="88da1-117">During the 1990s, the emphasis was mainly on improving internal networks that used the same language and platforms.</span></span> <span data-ttu-id="88da1-118">TCP/IP 成為此類通信的黃金標準。</span><span class="sxs-lookup"><span data-stu-id="88da1-118">TCP/IP became the gold standard for this type of communication.</span></span>

<span data-ttu-id="88da1-119">重點很快轉移到如何通過推廣與語言無關的方法來優化跨多個平臺的通信。</span><span class="sxs-lookup"><span data-stu-id="88da1-119">The focus soon shifted to how best to optimize communication across multiple platforms by promoting a language-agnostic approach.</span></span> <span data-ttu-id="88da1-120">面向服務的體系結構 (SOA) 提供了一個結構,用於鬆散地耦合可提供給應用程式的廣泛服務集合。</span><span class="sxs-lookup"><span data-stu-id="88da1-120">Service-oriented architecture (SOA) provided a structure for loosely coupling a broad collection of services that could be provided to an application.</span></span>

<span data-ttu-id="88da1-121">*網路服務*的發展發生在所有主要平臺都可以訪問互聯網時,但它們仍然無法相互交互。</span><span class="sxs-lookup"><span data-stu-id="88da1-121">The development of *web services* occurred when all major platforms could access the internet, but they still couldn't interact with each other.</span></span> <span data-ttu-id="88da1-122">Web 服務具有開放的標準和協定,包括:</span><span class="sxs-lookup"><span data-stu-id="88da1-122">Web services have open standards and protocols, including:</span></span>

- <span data-ttu-id="88da1-123">用於標記和代碼資料的 XML。</span><span class="sxs-lookup"><span data-stu-id="88da1-123">XML to tag and code data.</span></span>
- <span data-ttu-id="88da1-124">用於傳輸數據的簡單對象存取協定 (SOAP)。</span><span class="sxs-lookup"><span data-stu-id="88da1-124">Simple Object Access Protocol (SOAP) to transfer data.</span></span>
- <span data-ttu-id="88da1-125">Web 服務定義語言 (WSDL) 用於描述 Web 服務並將其連接到用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="88da1-125">Web Services Definition Language (WSDL) to describe and connect web services to client applications.</span></span>
- <span data-ttu-id="88da1-126">通用描述、發現和整合 (UDDI),使 Web 服務可以被其他服務發現。</span><span class="sxs-lookup"><span data-stu-id="88da1-126">Universal Description, Discovery, and Integration (UDDI) to make web services discoverable by other services.</span></span>

<span data-ttu-id="88da1-127">SOAP 定義了應用程式分散式元素可以相互通信的規則,即使它們位於不同的平臺上也是如此。</span><span class="sxs-lookup"><span data-stu-id="88da1-127">SOAP defines the rules by which distributed elements of an application can communicate with each other, even if they're on different platforms.</span></span> <span data-ttu-id="88da1-128">SOAP 基於 XML,因此它是人類可讀的。</span><span class="sxs-lookup"><span data-stu-id="88da1-128">SOAP is based on XML, so it's human-readable.</span></span> <span data-ttu-id="88da1-129">使SOAP易於理解的犧牲是大小;SOAP 消息大於類似協定中的消息。</span><span class="sxs-lookup"><span data-stu-id="88da1-129">The sacrifice for making SOAP easily understood is size; SOAP messages are larger than messages in comparable protocols.</span></span> <span data-ttu-id="88da1-130">SOAP 旨在在不丟失安全性或控制的情況下將單片應用程式分解為多元件形式。</span><span class="sxs-lookup"><span data-stu-id="88da1-130">SOAP was designed to break monolithic applications into multicomponent form without losing security or control.</span></span> <span data-ttu-id="88da1-131">因此,WCF被設計為與這種系統一起工作,不像gRPC,它最初是一個分散式系統。</span><span class="sxs-lookup"><span data-stu-id="88da1-131">So WCF was designed to work with that kind of system, unlike gRPC, which began as a distributed system.</span></span> <span data-ttu-id="88da1-132">WCF 透過開發和記錄 SOAP 堆疊的專有擴展協定來解決其中一些限制,但代價是缺乏其他平台的支援。</span><span class="sxs-lookup"><span data-stu-id="88da1-132">WCF addressed some of these limitations by developing and documenting proprietary extension protocols for the SOAP stack, but at the cost of a lack of support from other platforms.</span></span>

<span data-ttu-id="88da1-133">Windows 通信基礎是建置服務的框架。</span><span class="sxs-lookup"><span data-stu-id="88da1-133">Windows Communication Foundation is a framework for building services.</span></span> <span data-ttu-id="88da1-134">它設計於 21 世紀初,旨在説明使用早期 SOA 的開發人員管理使用 SOAP 的複雜性。</span><span class="sxs-lookup"><span data-stu-id="88da1-134">It was designed in the early 2000s to help developers using early SOA to manage the complexities of working with SOAP.</span></span> <span data-ttu-id="88da1-135">儘管它消除了開發人員編寫自己的 SOAP 協定的要求,但 WCF 仍使用 SOAP 來實現與其他系統的互通性。</span><span class="sxs-lookup"><span data-stu-id="88da1-135">Although it removes the requirement for the developers to write their own SOAP protocols, WCF still uses SOAP to enable interoperability with other systems.</span></span> <span data-ttu-id="88da1-136">WCF 還設計用於跨多個協定(HTTP/1.1、Net.TCP 等)提供解決方案。</span><span class="sxs-lookup"><span data-stu-id="88da1-136">WCF was also designed to deliver solutions across multiple protocols (HTTP/1.1, Net.TCP, and so on).</span></span>

## <a name="microservices"></a><span data-ttu-id="88da1-137">微服務</span><span class="sxs-lookup"><span data-stu-id="88da1-137">Microservices</span></span>

<span data-ttu-id="88da1-138">在微服務體系結構中,大型應用程序構建為小型模組化服務的集合。</span><span class="sxs-lookup"><span data-stu-id="88da1-138">In microservice architectures, large applications are built as a collection of smaller modular services.</span></span> <span data-ttu-id="88da1-139">每個元件執行特定任務或過程,並且元件設計為可互通,但可以根據需要隔離。</span><span class="sxs-lookup"><span data-stu-id="88da1-139">Each component does a specific task or process, and components are designed to work interoperably but can be isolated as necessary.</span></span>

<span data-ttu-id="88da1-140">微服務的優勢包括:</span><span class="sxs-lookup"><span data-stu-id="88da1-140">Advantages to microservices include:</span></span>

- <span data-ttu-id="88da1-141">更改和升級可以獨立處理。</span><span class="sxs-lookup"><span data-stu-id="88da1-141">Changes and upgrades can be handled independently.</span></span>
- <span data-ttu-id="88da1-142">錯誤處理變得更加高效,因為問題可以追溯到特定服務,然後獨立於其他服務進行隔離、重建、測試和重新部署。</span><span class="sxs-lookup"><span data-stu-id="88da1-142">Error handling becomes more efficient because problems can be traced to specific services that are then isolated, rebuilt, tested, and redeployed independently of the other services.</span></span>
- <span data-ttu-id="88da1-143">可伸縮性可以局限於特定的實例或服務,而不是整個應用程式。</span><span class="sxs-lookup"><span data-stu-id="88da1-143">Scalability can be confined to specific instances or services rather than the whole application.</span></span>
- <span data-ttu-id="88da1-144">開發可以跨多個團隊進行,與許多團隊在單個代碼庫上工作時發生的摩擦更少。</span><span class="sxs-lookup"><span data-stu-id="88da1-144">Development can happen across multiple teams, with less friction than occurs when many teams work on a single codebase.</span></span>

<span data-ttu-id="88da1-145">向虛擬化、雲計算、容器和物聯網邁進,推動了微服務的持續崛起。</span><span class="sxs-lookup"><span data-stu-id="88da1-145">The move towards increasing virtualization, cloud computing, containers, and the Internet of Things has contributed to the ongoing rise of microservices.</span></span> <span data-ttu-id="88da1-146">但是,微服務並非沒有挑戰。</span><span class="sxs-lookup"><span data-stu-id="88da1-146">But microservices aren't without their challenges.</span></span> <span data-ttu-id="88da1-147">分散/分散的基礎架構更加強調在服務之間通信時對簡單性和速度的需求。</span><span class="sxs-lookup"><span data-stu-id="88da1-147">The fragmented/decentralized infrastructure put more emphasis on the need for simplicity and speed when communicating between services.</span></span> <span data-ttu-id="88da1-148">這反過來又引起了人們對SOAP有時費力和扭曲性的關注。</span><span class="sxs-lookup"><span data-stu-id="88da1-148">This in turn drew attention to the sometimes laborious and contorted nature of SOAP.</span></span>

<span data-ttu-id="88da1-149">正是在這個環境中,gRPC在微軟首次發佈WCF10年後推出。</span><span class="sxs-lookup"><span data-stu-id="88da1-149">It was into this environment that gRPC was launched, 10 years after Microsoft first released WCF.</span></span> <span data-ttu-id="88da1-150">gRPC 直接從 Google 的內部基礎設施 RPC (Stubby) 演變而來,它從未基於許多早期 RPC 的參數的相同標準和協定。</span><span class="sxs-lookup"><span data-stu-id="88da1-150">Evolved directly from Google's internal infrastructure RPC (Stubby), gRPC was never based on the same standards and protocols that had informed the parameters of many earlier RPCs.</span></span> <span data-ttu-id="88da1-151">gRPC 只基於 HTTP/2。</span><span class="sxs-lookup"><span data-stu-id="88da1-151">And gRPC was only ever based on HTTP/2.</span></span> <span data-ttu-id="88da1-152">這就是為什麼它可以利用高級傳輸協定提供的新功能。</span><span class="sxs-lookup"><span data-stu-id="88da1-152">That's why it could draw on the new capabilities that advanced transport protocol provided.</span></span> <span data-ttu-id="88da1-153">特別是雙向流、二進制消息和多路複用。</span><span class="sxs-lookup"><span data-stu-id="88da1-153">In particular, bidirectional streaming, binary messaging, and multiplexing.</span></span>

## <a name="about-this-guide"></a><span data-ttu-id="88da1-154">關於本指南</span><span class="sxs-lookup"><span data-stu-id="88da1-154">About this guide</span></span>

<span data-ttu-id="88da1-155">本指南介紹了 gRPC 的主要功能。</span><span class="sxs-lookup"><span data-stu-id="88da1-155">This guide covers the key features of gRPC.</span></span> <span data-ttu-id="88da1-156">早期章節對 WCF 的主要特徵進行高級別觀察,並將其與 gRPC 的主要特徵進行比較。</span><span class="sxs-lookup"><span data-stu-id="88da1-156">The early chapters take a high-level look at the main features of WCF and compare them to those of gRPC.</span></span> <span data-ttu-id="88da1-157">它標識了 WCF 和 gRPC 之間存在直接相關性的位置,以及 gRPC 提供優勢的位置。</span><span class="sxs-lookup"><span data-stu-id="88da1-157">It identifies where there are direct correlations between WCF and gRPC and also where gRPC offers an advantage.</span></span> <span data-ttu-id="88da1-158">當 WCF 和 gRPC 之間沒有關聯,或者 gRPC 無法提供 WCF 等效解決方案時,本指南將建議解決方法或何處瞭解更多資訊。</span><span class="sxs-lookup"><span data-stu-id="88da1-158">When there's no correlation between WCF and gRPC, or when gRPC isn't able to offer an equivalent solution to WCF, this guide will suggest workarounds or where to go for more information.</span></span>

<span data-ttu-id="88da1-159">使用一組範例 WCF 應用程式,第 5 章深入探討將 WCF 服務的主要類型(簡單的請求回覆、單向和流式處理)轉換為 gRPC 中的等效服務。</span><span class="sxs-lookup"><span data-stu-id="88da1-159">Using a set of sample WCF applications, Chapter 5 is a deep-dive look at converting the main types of WCF service (simple request-reply, one-way, and streaming) to their equivalents in gRPC.</span></span>

<span data-ttu-id="88da1-160">本書的最後一部分將介紹如何在實踐中從 gRPC 中獲得最佳結果。</span><span class="sxs-lookup"><span data-stu-id="88da1-160">The final section of the book looks at how to get the best from gRPC in practice.</span></span> <span data-ttu-id="88da1-161">本節包括有關使用附加工具(如 Docker 容器或 Kubernetes)以利用 gRPC 效率的資訊。</span><span class="sxs-lookup"><span data-stu-id="88da1-161">This section includes information on using additional tools, like Docker containers or Kubernetes, to take advantage of the efficiency of gRPC.</span></span> <span data-ttu-id="88da1-162">它還包括有關日誌記錄、指標和分散式跟蹤的監視的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="88da1-162">It also includes a detailed look at monitoring with logging, metrics, and distributed tracing.</span></span>

## <a name="who-this-guide-is-for"></a><span data-ttu-id="88da1-163">本指南的適用對象</span><span class="sxs-lookup"><span data-stu-id="88da1-163">Who this guide is for</span></span>

<span data-ttu-id="88da1-164">本指南是為在 .NET 框架或 .NET Core 中工作的開發人員編寫的,這些開發人員使用過 WCF,並且他們尋求將其應用程式遷移到用於 .NET Core 3.0 和更高版本的現代 RPC 環境。</span><span class="sxs-lookup"><span data-stu-id="88da1-164">This guide was written for developers working in .NET Framework or .NET Core who have used WCF and who are seeking to migrate their applications to a modern RPC environment for .NET Core 3.0 and later versions.</span></span> <span data-ttu-id="88da1-165">本指南對於升級或考慮升級到 .NET Core 3.0 以及希望使用內置 gRPC 工具的開發人員可能更普遍有用。</span><span class="sxs-lookup"><span data-stu-id="88da1-165">The guide might also be useful more generally for developers upgrading or considering upgrading to .NET Core 3.0 and who want to use the built-in gRPC tools.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="88da1-166">[前一個](index.md)
>[下一個](grpc-overview.md)</span><span class="sxs-lookup"><span data-stu-id="88da1-166">[Previous](index.md)
[Next](grpc-overview.md)</span></span>
