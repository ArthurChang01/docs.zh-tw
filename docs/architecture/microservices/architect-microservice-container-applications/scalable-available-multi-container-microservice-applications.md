---
title: 協調微服務和多容器應用程式的高延展性和可用性
description: 探索協調微服務和多容器應用程式之高延展性和可用性的各種選項，以及開發 Kubernetes 應用程式生命週期時使用 Azure Dev Spaces 的可能性。
ms.date: 09/20/2018
ms.openlocfilehash: 76fa68cee41f8d1f34ec399c346f457efae57151
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/30/2019
ms.locfileid: "68675025"
---
# <a name="orchestrating-microservices-and-multi-container-applications-for-high-scalability-and-availability"></a><span data-ttu-id="a4229-103">協調微服務和多容器應用程式的高延展性和可用性</span><span class="sxs-lookup"><span data-stu-id="a4229-103">Orchestrating microservices and multi-container applications for high scalability and availability</span></span>

<span data-ttu-id="a4229-104">如果您的應用程式是以微服務為基礎或分散於多個容器，您就必須為適用於生產環境的應用程式使用協調器。</span><span class="sxs-lookup"><span data-stu-id="a4229-104">Using orchestrators for production-ready applications is essential if your application is based on microservices or simply split across multiple containers.</span></span> <span data-ttu-id="a4229-105">如之前所介紹，以微服務為基礎的方法中，每個微服務都擁有自己的模型和資料，因此從開發和部署的角度來看，它是非常自主的。</span><span class="sxs-lookup"><span data-stu-id="a4229-105">As introduced previously, in a microservice-based approach, each microservice owns its model and data so that it will be autonomous from a development and deployment point of view.</span></span> <span data-ttu-id="a4229-106">但是，即使您擁有的是由多個服務組成的傳統應用程式 (例如 SOA)，您也會使用多個容器或服務來組成單一商務應用程式，而這些項目都必須部署為分散式系統。</span><span class="sxs-lookup"><span data-stu-id="a4229-106">But even if you have a more traditional application that's composed of multiple services (like SOA), you'll also have multiple containers or services comprising a single business application that need to be deployed as a distributed system.</span></span> <span data-ttu-id="a4229-107">向外延展和管理這類系統非常的複雜；因此，如果您想要擁有一個適用於生產環境且可延展的多容器應用程式，就一定要使用協調器。</span><span class="sxs-lookup"><span data-stu-id="a4229-107">These kinds of systems are complex to scale out and manage; therefore, you absolutely need an orchestrator if you want to have a production-ready and scalable multi-container application.</span></span>

<span data-ttu-id="a4229-108">圖 4-23 說明由多個微服務 (容器) 所組成之應用程式叢集中的部署。</span><span class="sxs-lookup"><span data-stu-id="a4229-108">Figure 4-23 illustrates deployment into a cluster of an application composed of multiple microservices (containers).</span></span>

![叢集中組合的 Docker 應用程式：您可以為每個服務執行個體各使用一個容器。](./media/image23.png)

<span data-ttu-id="a4229-111">**圖 4-23**：</span><span class="sxs-lookup"><span data-stu-id="a4229-111">**Figure 4-23**.</span></span> <span data-ttu-id="a4229-112">容器叢集</span><span class="sxs-lookup"><span data-stu-id="a4229-112">A cluster of containers</span></span>

<span data-ttu-id="a4229-113">看起來像邏輯方法。</span><span class="sxs-lookup"><span data-stu-id="a4229-113">It looks like a logical approach.</span></span> <span data-ttu-id="a4229-114">不過，您該如何處理這些組成應用程式的負載平衡、路由及協調作業？</span><span class="sxs-lookup"><span data-stu-id="a4229-114">But how are you handling load-balancing, routing, and orchestrating these composed applications?</span></span>

<span data-ttu-id="a4229-115">如果是一部主機上單一映像執行個體的管理需求，可靠單一 Docker 主機中的單純 Docker 引擎來滿足，但若是更複雜的分散式應用程式，它就無法滿足部署於多個主機上多個容器的管理需求。</span><span class="sxs-lookup"><span data-stu-id="a4229-115">The plain Docker Engine in single Docker hosts meets the needs of managing single image instances on one host, but it falls short when it comes to managing multiple containers deployed on multiple hosts for more complex distributed applications.</span></span> <span data-ttu-id="a4229-116">在大部分情況下，您需要的管理平台應能自動啟動容器、向外延展容器 (其中每個映像含多個執行個體)、視需要暫停或關閉它們，最好也能控制資源 (例如網路和資料儲存體) 的存取方式。</span><span class="sxs-lookup"><span data-stu-id="a4229-116">In most cases, you need a management platform that will automatically start containers, scale-out containers with multiple instances per image, suspend them or shut them down when needed, and ideally also control how they access resources like the network and data storage.</span></span>

<span data-ttu-id="a4229-117">如果您不只要管理個別容器或組成非常簡單的應用程式，而是要進展到含有微服務的大型企業應用程式，就必須採用協調流程和叢集平台。</span><span class="sxs-lookup"><span data-stu-id="a4229-117">To go beyond the management of individual containers or very simple composed apps and move toward larger enterprise applications with microservices, you must turn to orchestration and clustering platforms.</span></span>

<span data-ttu-id="a4229-118">從架構和開發角度來看，如果您要建置由微服務應用程式所組成的大型企業應用程式，請務必了解下列可支援進階案例的平台和產品：</span><span class="sxs-lookup"><span data-stu-id="a4229-118">From an architecture and development point of view, if you're building large enterprise composed of microservices-based applications, it's important to understand the following platforms and products that support advanced scenarios:</span></span>

<span data-ttu-id="a4229-119">**叢集和協調器**：</span><span class="sxs-lookup"><span data-stu-id="a4229-119">**Clusters and orchestrators.**</span></span> <span data-ttu-id="a4229-120">當您要跨許多 Docker 主機向外延展應用程式時 (亦即大型微服務應用程式)，您必須簡化基礎平台的複雜性，並以單一叢集的形式來管理其中的所有主機。</span><span class="sxs-lookup"><span data-stu-id="a4229-120">When you need to scale out applications across many Docker hosts, as when a large microservice-based application, it's critical to be able to manage all those hosts as a single cluster by abstracting the complexity of the underlying platform.</span></span> <span data-ttu-id="a4229-121">而這正是容器叢集和協調器所提供的功能。</span><span class="sxs-lookup"><span data-stu-id="a4229-121">That's what the container clusters and orchestrators provide.</span></span> <span data-ttu-id="a4229-122">Kubernetes 是協調器的一個範例，可以透過 Azure Kubernetes Service 在 Azure 中取得。</span><span class="sxs-lookup"><span data-stu-id="a4229-122">Kubernetes is an example of an orchestrator, and is available in Azure through Azure Kubernetes Service.</span></span>

<span data-ttu-id="a4229-123">**排程器**：</span><span class="sxs-lookup"><span data-stu-id="a4229-123">**Schedulers.**</span></span> <span data-ttu-id="a4229-124">「排程」  可讓系統管理員啟動叢集中的容器，因此這些排程器也會提供 UI。</span><span class="sxs-lookup"><span data-stu-id="a4229-124">*Scheduling* means to have the capability for an administrator to launch containers in a cluster so they also provide a UI.</span></span> <span data-ttu-id="a4229-125">叢集排程器有下列職責：有效率地使用叢集的資源、設定使用者所提供的條件約束、跨節點或主機有效進行容器負載平衡，以及維持容錯性並保障高可用性。</span><span class="sxs-lookup"><span data-stu-id="a4229-125">A cluster scheduler has several responsibilities: to use the cluster's resources efficiently, to set the constraints provided by the user, to efficiently load-balance containers across nodes or hosts, and to be robust against errors while providing high availability.</span></span>

<span data-ttu-id="a4229-126">叢集與排程器的概念密切相關，因此不同廠商所提供的產品通常會兩組功能都提供。</span><span class="sxs-lookup"><span data-stu-id="a4229-126">The concepts of a cluster and a scheduler are closely related, so the products provided by different vendors often provide both sets of capabilities.</span></span> <span data-ttu-id="a4229-127">下列清單顯示您可以針對叢集和排程器選擇的最重要平台和軟體。</span><span class="sxs-lookup"><span data-stu-id="a4229-127">The following list shows the most important platform and software choices you have for clusters and schedulers.</span></span> <span data-ttu-id="a4229-128">一般來說，Azure 這類公用雲端都會提供這些協調器。</span><span class="sxs-lookup"><span data-stu-id="a4229-128">These orchestrators are generally offered in public clouds like Azure.</span></span>

## <a name="software-platforms-for-container-clustering-orchestration-and-scheduling"></a><span data-ttu-id="a4229-129">用於容器叢集、協調流程和排程的軟體平台</span><span class="sxs-lookup"><span data-stu-id="a4229-129">Software platforms for container clustering, orchestration, and scheduling</span></span>

### <a name="kubernetes"></a><span data-ttu-id="a4229-130">Kubernetes</span><span class="sxs-lookup"><span data-stu-id="a4229-130">Kubernetes</span></span>

![Kubernetes 標誌](./media/image24.png)

> <span data-ttu-id="a4229-132">[*Kubernetes*](https://kubernetes.io/) 是開放原始碼產品，可提供叢集基礎結構、容器排程到容器協調等功能。</span><span class="sxs-lookup"><span data-stu-id="a4229-132">[*Kubernetes*](https://kubernetes.io/) is an open-source product that provides functionality that ranges from cluster infrastructure and container scheduling to orchestrating capabilities.</span></span> <span data-ttu-id="a4229-133">它可讓您跨主機叢集自動化部署、規模調整及應用程式容器的作業。</span><span class="sxs-lookup"><span data-stu-id="a4229-133">It lets you automate deployment, scaling, and operations of application containers across clusters of hosts.</span></span>
>
> <span data-ttu-id="a4229-134">*Kubernetes* 提供以容器為中心的基礎結構，讓您將應用程式容器分組為邏輯單元，以便於管理及探索。</span><span class="sxs-lookup"><span data-stu-id="a4229-134">*Kubernetes* provides a container-centric infrastructure that groups application containers into logical units for easy management and discovery.</span></span>
>
> <span data-ttu-id="a4229-135">比起 Windows，*Kubernetes* 在 Linux 中相對成熟穩定。</span><span class="sxs-lookup"><span data-stu-id="a4229-135">*Kubernetes* is mature in Linux, less mature in Windows.</span></span>

### <a name="azure-kubernetes-service-aks"></a><span data-ttu-id="a4229-136">Azure Kubernetes Service (AKS)</span><span class="sxs-lookup"><span data-stu-id="a4229-136">Azure Kubernetes Service (AKS)</span></span>

![Azure Kubernetes Service 標誌](./media/image41.png)

> <span data-ttu-id="a4229-138">[Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/) 是 Azure 中的受控 Kubernetes 容器協調流程服務，可簡化 Kubernetes 叢集的管理、部署和作業。</span><span class="sxs-lookup"><span data-stu-id="a4229-138">[Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/) is a managed Kubernetes container orchestration service in Azure that simplifies Kubernetes cluster’s management, deployment, and operations.</span></span>

## <a name="using-container-based-orchestrators-in-microsoft-azure"></a><span data-ttu-id="a4229-139">在 Microsoft Azure 中使用容器協調器</span><span class="sxs-lookup"><span data-stu-id="a4229-139">Using container-based orchestrators in Microsoft Azure</span></span>

<span data-ttu-id="a4229-140">許多雲端廠商都支援 Docker 容器以及 Docker 叢集和協調流程，包括 Microsoft Azure、Amazon EC2 Container Service 和 Google Container Engine。</span><span class="sxs-lookup"><span data-stu-id="a4229-140">Several cloud vendors offer Docker containers support plus Docker clusters and orchestration support, including Microsoft Azure, Amazon EC2 Container Service, and Google Container Engine.</span></span> <span data-ttu-id="a4229-141">Microsoft Azure 透過 Azure Kubernetes Service (AKS)，提供 Docker 叢集和協調器支援。</span><span class="sxs-lookup"><span data-stu-id="a4229-141">Microsoft Azure provides Docker cluster and orchestrator support through Azure Kubernetes Service (AKS).</span></span>

## <a name="using-azure-kubernetes-service"></a><span data-ttu-id="a4229-142">使用 Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="a4229-142">Using Azure Kubernetes Service</span></span>

<span data-ttu-id="a4229-143">Kubernetes 叢集裝載了多部 Docker 主機，並將其公開為單一虛擬 Docker 主機，因此您可以部署多個容器到該叢集中，並以任意容器執行個體數目向外延展。</span><span class="sxs-lookup"><span data-stu-id="a4229-143">A Kubernetes cluster pools multiple Docker hosts and exposes them as a single virtual Docker host, so you can deploy multiple containers into the cluster and scale-out with any number of container instances.</span></span> <span data-ttu-id="a4229-144">叢集會處理所有複雜的管理配置作業，例如延展性、健康狀態等等。</span><span class="sxs-lookup"><span data-stu-id="a4229-144">The cluster will handle all the complex management plumbing, like scalability, health, and so forth.</span></span>

<span data-ttu-id="a4229-145">AKS 可讓您以簡化的方式，在 Azure 中建立、組態及管理預先設定為執行容器化應用程式的虛擬機器叢集。</span><span class="sxs-lookup"><span data-stu-id="a4229-145">AKS provides a way to simplify the creation, configuration, and management of a cluster of virtual machines in Azure that are preconfigured to run containerized applications.</span></span> <span data-ttu-id="a4229-146">AKS 使用熱門開放原始碼排程和協調流程工具的最佳化組態，可讓您使用現有技能，或運用大量且不斷成長的社群專業知識，在 Microsoft Azure 上部署及管理容器化應用程式。</span><span class="sxs-lookup"><span data-stu-id="a4229-146">Using an optimized configuration of popular open-source scheduling and orchestration tools, AKS enables you to use your existing skills or draw on a large and growing body of community expertise to deploy and manage container-based applications on Microsoft Azure.</span></span>

<span data-ttu-id="a4229-147">Azure Kubernetes Service 特別針對 Azure，提供熱門 Docker 叢集開放原始碼工具和技術的最佳化組態。</span><span class="sxs-lookup"><span data-stu-id="a4229-147">Azure Kubernetes Service optimizes the configuration of popular Docker clustering open-source tools and technologies specifically for Azure.</span></span> <span data-ttu-id="a4229-148">這樣的開放解決方案，可賦予您容器和應用程式組態的可攜性。</span><span class="sxs-lookup"><span data-stu-id="a4229-148">You get an open solution that offers portability for both your containers and your application configuration.</span></span> <span data-ttu-id="a4229-149">您只要選取主機大小和數目，其餘工作全都由協調器工具和 AKS 處理。</span><span class="sxs-lookup"><span data-stu-id="a4229-149">You select the size, the number of hosts, and the orchestrator tools, and AKS handles everything else.</span></span>

![Kubernetes 叢集結構：有一個處理 DNS、排程器、Proxy 等的主要節點，以及裝載容器的數個背景工作節點。](media/image36.png)

<span data-ttu-id="a4229-151">**圖 4-24**：</span><span class="sxs-lookup"><span data-stu-id="a4229-151">**Figure 4-24**.</span></span> <span data-ttu-id="a4229-152">Kubernetes 叢集的簡化結構和拓撲</span><span class="sxs-lookup"><span data-stu-id="a4229-152">Kubernetes cluster's simplified structure and topology</span></span>

<span data-ttu-id="a4229-153">如您在圖 4-24 中所見，Kubernetes 叢集結構中的主要節點 (VM) 會控制大部分的叢集協調，而且您可以將容器部署到其餘節點。從應用程式角度來看，這些節點是以單一集區來管理，並可讓您擴充到數以千計或甚至數以萬計的容器。</span><span class="sxs-lookup"><span data-stu-id="a4229-153">In figure 4-24 you can see the structure of a Kubernetes cluster where a master node (VM) controls most of the coordination of the cluster and you can deploy containers to the rest of the nodes which are managed as a single pool from an application point of view and allows you to scale to thousands or even tens of thousands of containers.</span></span>

## <a name="development-environment-for-kubernetes"></a><span data-ttu-id="a4229-154">Kubernetes 的開發環境</span><span class="sxs-lookup"><span data-stu-id="a4229-154">Development environment for Kubernetes</span></span>

<span data-ttu-id="a4229-155">在開發環境中，[Docker 於 2018 年 7 月宣佈](https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/) Kubernetes 也可以在單一開發電腦 (Windows 10 或 macOS) 上執行，只要安裝 [Docker Desktop](https://docs.docker.com/install/) 即可。</span><span class="sxs-lookup"><span data-stu-id="a4229-155">In the development environment, [Docker announced in July 2018](https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/) that Kubernetes can also run in a single development machine (Windows 10 or macOS) by simply installing [Docker Desktop](https://docs.docker.com/install/).</span></span> <span data-ttu-id="a4229-156">您稍後可以部署到雲端 (AKS) 來進一步執行整合測試，如圖 4-25 所示。</span><span class="sxs-lookup"><span data-stu-id="a4229-156">You can later deploy to the cloud (AKS) for further integration tests, as shown in figure 4-25.</span></span>

![Docker 於 2018 年 7 月宣佈透過 Docker Desktop 提供 Kubernetes 叢集的開發電腦支援。](media/image37.png) 

<span data-ttu-id="a4229-158">**圖 4-25**：</span><span class="sxs-lookup"><span data-stu-id="a4229-158">**Figure 4-25**.</span></span> <span data-ttu-id="a4229-159">在開發電腦和雲端中執行 Kubernetes</span><span class="sxs-lookup"><span data-stu-id="a4229-159">Running Kubernetes in dev machine and the cloud</span></span>

## <a name="getting-started-with-azure-kubernetes-service-aks"></a><span data-ttu-id="a4229-160">開始使用 Azure Kubernetes Service (AKS)</span><span class="sxs-lookup"><span data-stu-id="a4229-160">Getting started with Azure Kubernetes Service (AKS)</span></span> 

<span data-ttu-id="a4229-161">若要開始使用 AKS，請從 Azure 入口網站或使用 CLI 部署 AKS 叢集。</span><span class="sxs-lookup"><span data-stu-id="a4229-161">To begin using AKS, you deploy an AKS cluster from the Azure portal or by using the CLI.</span></span> <span data-ttu-id="a4229-162">如需在 Azure 中部署 Kubernetes 叢集的詳細資訊，請參閱[部署 Azure Kubernetes Service (AKS) 叢集](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal)。</span><span class="sxs-lookup"><span data-stu-id="a4229-162">For more information on deploying a Kubernetes cluster in Azure, see [Deploy an Azure Kubernetes Service (AKS) cluster](https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal).</span></span>

<span data-ttu-id="a4229-163">隨附於 AKS 預設安裝的軟體均不會收取任何費用。</span><span class="sxs-lookup"><span data-stu-id="a4229-163">There are no fees for any of the software installed by default as part of AKS.</span></span> <span data-ttu-id="a4229-164">所有預設選項都是使用開放原始碼軟體來實作。</span><span class="sxs-lookup"><span data-stu-id="a4229-164">All default options are implemented with open-source software.</span></span> <span data-ttu-id="a4229-165">AKS 可供 Azure 中的多部虛擬機器使用。</span><span class="sxs-lookup"><span data-stu-id="a4229-165">AKS is available for multiple virtual machines in Azure.</span></span> <span data-ttu-id="a4229-166">您僅需支付所選計算執行個體的費用，以及其他已使用的基礎結構資源費用，例如儲存體和網路功能。</span><span class="sxs-lookup"><span data-stu-id="a4229-166">You're charged only for the compute instances you choose, as well as the other underlying infrastructure resources consumed, such as storage and networking.</span></span> <span data-ttu-id="a4229-167">AKS 本身沒有任何累加的費用。</span><span class="sxs-lookup"><span data-stu-id="a4229-167">There are no incremental charges for AKS itself.</span></span>

<span data-ttu-id="a4229-168">如需根據 kubectl 和原始 .yaml 檔案部署到 Kubernetes 的進一步實作資訊，請參閱[在 AKS (Azure Kubernetes Service) 中設定 eShopOnContainers](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.-Setting-the-solution-up-in-AKS-(Azure-Kubernetes-Service)) 上的文章。</span><span class="sxs-lookup"><span data-stu-id="a4229-168">For further implementation information on deployment to Kubernetes based on kubectl and original .yaml files, check the post on [Setting eShopOnContainers up in AKS (Azure Kubernetes Service)](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.-Setting-the-solution-up-in-AKS-(Azure-Kubernetes-Service)).</span></span>

## <a name="deploying-with-helm-charts-into-kubernetes-clusters"></a><span data-ttu-id="a4229-169">使用 Helm 圖表部署到 Kubernetes 叢集中</span><span class="sxs-lookup"><span data-stu-id="a4229-169">Deploying with Helm charts into Kubernetes clusters</span></span>

<span data-ttu-id="a4229-170">將應用程式部署到 Kubernetes 叢集時，您可以搭配採用原生格式的部署檔案 (.yaml 檔案) 使用原始 kubectl.exe CLI 工具，如上一節中所述。</span><span class="sxs-lookup"><span data-stu-id="a4229-170">When deploying an application to a Kubernetes cluster, you can use the original kubectl.exe CLI tool using deployment files based on the native format (.yaml files), as already mentioned in the previous section.</span></span> <span data-ttu-id="a4229-171">不過，對於更複雜的 Kubernetes 應用程式 (例如部署複雜的微服務應用程式時)，則建議使用 [Helm](https://helm.sh/)。</span><span class="sxs-lookup"><span data-stu-id="a4229-171">However, for more complex Kubernetes applications such as when deploying complex microservice-based applications, it's recommended to use [Helm](https://helm.sh/).</span></span>

<span data-ttu-id="a4229-172">即便是最複雜的 Kubernetes 應用程式，Helm 圖表也能協助您定義、設定版本、安裝、共用、升級或復原。</span><span class="sxs-lookup"><span data-stu-id="a4229-172">Helm Charts helps you define, version, install, share, upgrade or rollback even the most complex Kubernetes application.</span></span>

<span data-ttu-id="a4229-173">此外，建議使用 Helm 還有一個原因，那就是因為 Azure 中的其他 Kubernetes 環境 (例如 [Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces)) 也是以 Helm 圖表為依據。</span><span class="sxs-lookup"><span data-stu-id="a4229-173">Going further, Helm usage is also recommended because additional Kubernetes environments in Azure, such as [Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) are also based on Helm charts.</span></span>

<span data-ttu-id="a4229-174">Helm 是由 [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) 以及 Microsoft、Google、Bitnami 和 Helm 參與者社群共同維護。</span><span class="sxs-lookup"><span data-stu-id="a4229-174">Helm is maintained by the [Cloud Native Computing Foundation (CNCF)](https://www.cncf.io/) - in collaboration with Microsoft, Google, Bitnami and the Helm contributor community.</span></span>

<span data-ttu-id="a4229-175">如需 Helm 圖表和 Kubernetes 的進一步實作資訊，請參閱[使用 Helm 圖表將 eShopOnContainers 部署到 AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Deploying-to-AKS-using-Helm-Charts) 上的文章。</span><span class="sxs-lookup"><span data-stu-id="a4229-175">For further implementation information on Helm charts and Kubernetes check the post on [Using Helm Charts to deploy eShopOnContainers to AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Deploying-to-AKS-using-Helm-Charts).</span></span>

## <a name="use-azure-dev-spaces-for-your-kubernetes-application-lifecycle"></a><span data-ttu-id="a4229-176">在您的 Kubernetes 應用程式生命週期中使用 Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="a4229-176">Use Azure Dev Spaces for your Kubernetes application lifecycle</span></span>

<span data-ttu-id="a4229-177">[Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) 為小組提供快速的 Kubernetes 反覆開發體驗。</span><span class="sxs-lookup"><span data-stu-id="a4229-177">[Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces) provides a rapid, iterative Kubernetes development experience for teams.</span></span> <span data-ttu-id="a4229-178">只要最少的開發電腦設定，您就可以直接在 Azure Kubernetes Service (AKS) 中反覆執行並偵錯容器。</span><span class="sxs-lookup"><span data-stu-id="a4229-178">With minimal dev machine setup, you can iteratively run and debug containers directly in Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="a4229-179">使用 Visual Studio、Visual Studio Code 或命令列等熟悉的工具，在 Windows、Mac 或 Linux 上進行開發。</span><span class="sxs-lookup"><span data-stu-id="a4229-179">Develop on Windows, Mac, or Linux using familiar tools like Visual Studio, Visual Studio Code, or the command line.</span></span>

<span data-ttu-id="a4229-180">如前所述，Azure Dev Spaces 在部署容器型應用程式時使用 Helm 圖表。</span><span class="sxs-lookup"><span data-stu-id="a4229-180">As mentioned, Azure Dev Spaces uses Helm charts when deploying the container-based applications.</span></span>

<span data-ttu-id="a4229-181">Azure Dev Spaces 可協助開發小組在 Kubernetes 上更具生產力，因為它讓您只要使用 Visual Studio 2017 或 Visual Studio Code，就能夠直接在 Azure 的全域 Kubernetes 叢集中快速逐一查看並偵錯程式碼。</span><span class="sxs-lookup"><span data-stu-id="a4229-181">Azure Dev Spaces helps development teams be more productive on Kubernetes because it allows you to rapidly iterate and debug code directly in a global Kubernetes cluster in Azure by simply using Visual Studio 2017 or Visual Studio Code.</span></span> <span data-ttu-id="a4229-182">Azure 中的 Kubernetes 叢集是共用的受控 Kubernetes 叢集，讓您的小組可以共同合作。</span><span class="sxs-lookup"><span data-stu-id="a4229-182">That Kubernetes cluster in Azure is a shared managed Kubernetes cluster, so your team can collaboratively work together.</span></span> <span data-ttu-id="a4229-183">您可以在隔離的狀況下開發程式碼，然後部署到全域叢集並使用其他元件進行端對端測試，不需要複寫或模擬相依性。</span><span class="sxs-lookup"><span data-stu-id="a4229-183">You can develop your code in isolation, then deploy to the global cluster and do end-to-end testing with other components without replicating or mocking up dependencies.</span></span>

<span data-ttu-id="a4229-184">如圖 4-26 所示，Azure Dev Spaces 中最與眾不同的功能，就是能夠建立與叢集中全域部署其餘部分整合的執行「空間」。</span><span class="sxs-lookup"><span data-stu-id="a4229-184">As shown in figure 4-26, the most differential feature in Azure Dev Spaces is capability of creating 'spaces' that can run integrated to the rest of the global deployment in the cluster.</span></span>

![Azure Dev Spaces 可以無障礙地混搭生產環境的微服務與開發容器執行個體，以便測試新版本。](media/image38.png)

<span data-ttu-id="a4229-186">**圖 4-26**。</span><span class="sxs-lookup"><span data-stu-id="a4229-186">**Figure 4-26**.</span></span> <span data-ttu-id="a4229-187">在 Azure Dev Spaces 中使用多個空間</span><span class="sxs-lookup"><span data-stu-id="a4229-187">Using multiple spaces in Azure Dev Spaces</span></span>

<span data-ttu-id="a4229-188">基本上，您可以在 Azure 中設定共用的開發空間。</span><span class="sxs-lookup"><span data-stu-id="a4229-188">Basically you can set up a shared dev space in Azure.</span></span> <span data-ttu-id="a4229-189">每位開發人員可以只專注於他們的應用程式部分，並可以在已包含其案例所依存之所有其他服務和雲端資源的開發空間中，反覆開發預先認可程式碼。</span><span class="sxs-lookup"><span data-stu-id="a4229-189">Each developer can focus on just their part of the application, and can iteratively develop pre-commit code in a dev space that already contains all the other services and cloud resources that their scenarios depend on.</span></span> <span data-ttu-id="a4229-190">相依性一律保持最新狀態，而開發人員會以鏡像處理生產環境的方式工作。</span><span class="sxs-lookup"><span data-stu-id="a4229-190">Dependencies are always up-to-date, and developers are working in a way that mirrors production.</span></span>

<span data-ttu-id="a4229-191">Azure Dev Spaces 提供空間概念，讓您能夠在相對隔離的狀況下工作，不用擔心中斷您小組的工作。</span><span class="sxs-lookup"><span data-stu-id="a4229-191">Azure Dev Spaces provides the concept of a space, which allows you to work in relative isolation, and without the fear of breaking your team's work.</span></span> <span data-ttu-id="a4229-192">每個開發空間都是階層式結構的一部分，可讓您從最上層的主開發空間，使用您自己的微服務半成品覆寫一個 (或多個) 微服務。</span><span class="sxs-lookup"><span data-stu-id="a4229-192">Each dev space is part of a hierarchical structure that allows you to override one microservice (or many), from the "top" master dev space, with your own work-in-progress microservice.</span></span>

<span data-ttu-id="a4229-193">這項功能是以 URL 前置詞作為基礎，因此在 URL 中使用任何開發空間前置詞時，如果該前置詞存在於開發空間中，目標微服務就會提供要求，否則便會往上轉送到階層中所能找到的第一個目標微服務執行個體，最終則會送到最上層的主開發空間。</span><span class="sxs-lookup"><span data-stu-id="a4229-193">This feature is based on URL prefixes, so when using any dev space prefix in the url, a request is served from the target microservice if it exists in the dev space, otherwise it's forwarded up to the first instance of the target microservice found in the hierarchy, eventually getting to the master dev space at the top.</span></span>

<span data-ttu-id="a4229-194">您可以查看 [Azure Dev Spaces 上的 eShopOnContainers Wiki 頁面](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Using-Azure-Dev-Spaces-and-AKS)，以取得具體範例的實用觀點。</span><span class="sxs-lookup"><span data-stu-id="a4229-194">You can see the [eShopOnContainers wiki page on Azure Dev Spaces](https://github.com/dotnet-architecture/eShopOnContainers/wiki/10.1-Using-Azure-Dev-Spaces-and-AKS), to get a practical view on a concrete example.</span></span>

<span data-ttu-id="a4229-195">如需進一步資訊，請參閱[使用 Azure Dev Spaces 進行小組開發](https://docs.microsoft.com/azure/dev-spaces/team-development-netcore)一文。</span><span class="sxs-lookup"><span data-stu-id="a4229-195">For further information check the article on [Team Development with Azure Dev Spaces](https://docs.microsoft.com/azure/dev-spaces/team-development-netcore).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a4229-196">其他資源</span><span class="sxs-lookup"><span data-stu-id="a4229-196">Additional resources</span></span>

- <span data-ttu-id="a4229-197">**開始使用 Azure Kubernetes Service (AKS)**  </span><span class="sxs-lookup"><span data-stu-id="a4229-197">**Getting started with Azure Kubernetes Service (AKS)** </span></span>\
  <https://docs.microsoft.com/azure/aks/kubernetes-walkthrough-portal>

- <span data-ttu-id="a4229-198">**Azure Dev Spaces** </span><span class="sxs-lookup"><span data-stu-id="a4229-198">**Azure Dev Spaces** </span></span>\
  <https://docs.microsoft.com/azure/dev-spaces/azure-dev-spaces>

- <span data-ttu-id="a4229-199">**Kubernetes**：官方網站。</span><span class="sxs-lookup"><span data-stu-id="a4229-199">**Kubernetes** The official site.</span></span> \
  <https://kubernetes.io/>

>[!div class="step-by-step"]
><span data-ttu-id="a4229-200">[上一頁](resilient-high-availability-microservices.md)
>[下一頁](../docker-application-development-process/index.md)</span><span class="sxs-lookup"><span data-stu-id="a4229-200">[Previous](resilient-high-availability-microservices.md)
[Next](../docker-application-development-process/index.md)</span></span>
