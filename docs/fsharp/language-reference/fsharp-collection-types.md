---
title: F# 集合類型
description: 深入了解F#集合型別和它們之間的差異從.NET Framework 中的集合型別。
ms.date: 05/16/2016
ms.openlocfilehash: b370d850deaacc961dff9515ffa8c20634af4ed6
ms.sourcegitcommit: c4dfe37032c64a1fba2cc3d5947550d79f95e3b5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/13/2019
ms.locfileid: "67041720"
---
# <a name="f-collection-types"></a>F# 集合類型

藉由檢閱本主題，您可以判斷哪些F#最佳的集合型別符合特定需求。 這些集合類型與不同的集合型別，在.NET Framework 中，例如中`System.Collections.Generic`命名空間中的F#集合型別會從功能性程式設計的觀點而言，而不是物件導向設計檢視方塊。 更具體來說，只有陣列集合具有可變動的項目。 因此，當您修改集合，您會建立已修改的集合，而非修改原始集合的執行個體。

集合型別上也有不同的物件會儲存的資料結構類型。 例如雜湊表，連結的清單，以及陣列的資料結構有不同的效能特性和一組不同的可用作業。

## <a name="f-collection-types"></a>F# 集合類型

下表顯示F#的集合型別。

|類型|描述|相關連結|
|----|-----------|-------------|
|[清單](https://msdn.microsoft.com/library/c627b668-477b-4409-91ed-06d7f1b3e4a7)|排序、 不可變系列相同類型的項目。 實作為連結的清單。|[清單](lists.md)<br /><br />[List 模組](https://msdn.microsoft.com/library/a2264ba3-2d45-40dd-9040-4f7aa2ad9788)|
|[Array](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)|固定大小、 以零為起始、 可變的連續資料的項目都是相同類型的集合。|[陣列](arrays.md)<br /><br />[Array 模組](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)<br /><br />[Array2D 模組](https://msdn.microsoft.com/library/ae1a9746-7817-4430-bcdb-a79c2411bbd3)<br /><br />[Array3D 模組](https://msdn.microsoft.com/library/c8355e2d-add8-48a4-8aa6-1c57ae74c560)|
|[seq](https://msdn.microsoft.com/library/2f0c87c6-8a0d-4d33-92a6-10d1d037ce75)|一連串的邏輯都是一種類型的項目。 當您使用較大，已排序集合的資料，但不一定要使用的所有項目時，順序會特別有用。 個別序列項目會計算只做為必要項，因此順序可以執行優於清單，如果未使用的所有項目。 序列由`seq<'T>`類型，這是別名的`IEnumerable<T>`。 因此，任何.NET Framework 型別可實作`System.Collections.Generic.IEnumerable<'T>`可用來當做一系列。|[序列](sequences.md)<br /><br />[Seq 模組](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684)|
|[Map](https://msdn.microsoft.com/library/975316ea-55e3-4987-9994-90897ad45664)|項目不可變的字典。 項目會依索引鍵存取。|[對應模組](https://msdn.microsoft.com/library/bfe61ead-f16c-416f-af98-56dbcbe23e4f)|
|[Set](https://msdn.microsoft.com/library/50cebdce-0cd7-4c5c-8ebc-f3a9e90b38d8)|不可變的集為基礎的二進位樹狀目錄，其中的比較是F#結構化比較函式，這可能會使用實作`System.IComparable`介面的索引鍵的值。|[設定模組](https://msdn.microsoft.com/library/61efa732-d55d-4c32-993f-628e2f98e6a0)|

### <a name="table-of-functions"></a>函數的資料表

本節將比較函式所提供的F#的集合型別。 指定的函式計算的複雜度，其中 N 是第一個集合的大小，而 M 是第二個集合的大小，如果有的話。 虛線 （-） 表示，此函式無法在集合上使用。 因為延遲評估順序，例如 Seq.distinct 函式可能會 o （1） 因為它會立即傳回，但是仍會影響效能的列舉時的順序。

|功能|陣列|清單|序列|地圖|設定|描述|
|--------|-----|----|--------|---|---|-----------|
|append|O(M)|O(N)|O(N)|-|-|傳回新的集合，其中包含後面接著第二個集合的項目，第一個集合的項目。|
|add|-|-|-|O (log N)|O (log N)|傳回加入之項目的新集合。|
|平均值|O(N)|O(N)|O(N)|-|-|集合中傳回之項目的平均值。|
|averageBy|O(N)|O(N)|O(N)|-|-|傳回之結果所提供的函式套用至每個元素的平均值。|
|blit|O(N)|-|-|-|-|將複製陣列的區段。|
|快取|-|-|O(N)|-|-|計算，並將序列的項目。|
|cast|-|-|O(N)|-|-|將指定的型別中的項目。|
|選擇|O(N)|O(N)|O(N)|-|-|適用於指定的函式`f`每個項目`x`的清單。 傳回清單，其中包含每個項目結果函式會傳回其中`Some(f(x))`。|
|收集|O(N)|O(N)|O(N)|-|-|指定的函式套用至集合的每個項目、 串連所有結果，並傳回結合的清單。|
|compareWith|-|-|O(N)|-|-|使用指定的比較函式，這項比較兩個序列。|
|Concat|O(N)|O(N)|O(N)|-|-|結合指定的列舉的列舉成單一串連列舉。|
|包含|-|-|-|-|O (log N)|如果集合包含指定的項目，則傳回 true。|
|containsKey|-|-|-|O (log N)|-|測試的項目是否在對應的網域中。|
|count|-|-|-|-|O(N)|傳回集合中項目的數目。|
|countBy|-|-|O(N)|-|-|索引鍵產生函式套用至序列中，每個項目，並傳回產生的唯一索引鍵和其發生次數在原始序列中的順序。|
|copy|O(N)|-|O(N)|-|-|複製集合。|
|建立|O(N)|-|-|-|-|建立項目，全部一開始都具有指定的值陣列。|
|延遲|-|-|O(1)|-|-|從指定的延遲規格的序列傳回內建的序列。|
|差異|-|-|-|-|O (M &#42; log N)|傳回從第一個集合中移除第二個集合的項目新資料集。|
|相異|||O(1)&#42;|||傳回序列，其中包含任何重複的項目，根據項目上的泛型雜湊和相等比較。 如果項目序列中出現多次，則會捨棄之後出現。|
|distinctBy|||O(1)&#42;|||傳回序列，其中包含任何重複的項目，根據指定的索引鍵產生函式會傳回在索引鍵上泛型雜湊和相等比較。 如果項目序列中出現多次，則會捨棄之後出現。|
|空白|O(1)|O(1)|O(1)|O(1)|O(1)|建立空的集合。|
|exists|O(N)|O(N)|O(N)|O (log N)|O (log N)|測試是否序列的任何項目符合指定述詞。|
|exists2|O(min(N,M))|-|O(min(N,M))|||測試是否有任何一對輸入序列的對應項目滿足指定的述詞。|
|fill|O(N)|||||陣列的項目範圍設為指定的值。|
|篩選|O(N)|O(N)|O(N)|O(N)|O(N)|傳回新集合，其中包含的集合傳回指定的述詞的項目`true`。|
|find|O(N)|O(N)|O(N)|O (log N)|-|傳回用來傳回指定的函式的第一個項目`true`。 傳回`System.Collections.Generic.KeyNotFoundException`如果沒有這類項目。|
|findIndex|O(N)|O(N)|O(N)|-|-|傳回陣列中符合指定述詞中的第一個項目的索引。 引發`System.Collections.Generic.KeyNotFoundException`是否沒有任何項目滿足述詞。|
|findKey|-|-|-|O (log N)|-|評估集合中每個對應上的函式，並傳回第一個對應的索引鍵的函式會傳回其中`true`。 如果沒有這類元素存在，此函式就會引發`System.Collections.Generic.KeyNotFoundException`。|
|摺疊|O(N)|O(N)|O(N)|O(N)|O(N)|函式套用至每個元素的集合，透過計算建立累計值引數的執行緒。 如果輸入函式是 f，項目為 i0 中的，此函式會計算 f （...(f s i0)...)在中。|
|fold2|O(N)|O(N)|-|-|-|函式套用至兩個集合，透過計算建立累計值引數的執行緒的對應項目。 這些集合必須完全相同的大小。 如果輸入函式是 f，且項目是在 i0...和 j0...jN，此函式會計算 f （...(f s i0 j0)...)在 jN.|
|foldBack|O(N)|O(N)|-|O(N)|O(N)|函式套用至每個元素的集合，透過計算建立累計值引數的執行緒。 此函式如果輸入函式是 f，項目都在...i0 （...會計算 f i0(f s 中))。|
|foldBack2|O(N)|O(N)|-|-|-|函式套用至兩個集合，透過計算建立累計值引數的執行緒的對應項目。 這些集合必須完全相同的大小。 JN，此函式如果輸入函式是 f 和項目是在 i0...和 j0...（...會計算 f i0 j0(f jN s))。|
|forall|O(N)|O(N)|O(N)|O(N)|O(N)|測試是否在集合中的所有項目符合指定述詞。|
|forall2|O(N)|O(N)|O(N)|-|-|測試是否所有的對應項目集合中的成對滿足指定的述詞。|
|取得 / 第 n 個|O(1)|O(N)|O(N)|-|-|從指定的索引集合中傳回項目。|
|head|-|O(1)|O(1)|-|-|傳回集合的第一個項目。|
|init|O(N)|O(N)|O(1)|-|-|建立指定的維度和用於計算元素的產生器函式的集合。|
|initInfinite|-|-|O(1)|-|-|產生的序列，如果重複執行，藉由呼叫指定的函式會傳回後續項目。|
|Intersect|-|-|-|-|O (log N &#42;記錄 M)|計算兩個集合的交集。|
|intersectMany|-|-|-|-|O(N1 &#42; N2 ...)|計算集合序列的交集。 序列不得空白。|
|isEmpty|O(1)|O(1)|O(1)|O(1)|-|傳回`true`如果集合是空的。|
|isProperSubset|-|-|-|-|O (M &#42; log N)|傳回`true`如果的第一個集合的所有項目都在第二個集合，而且第二組至少一個項目不在第一個集合。|
|isProperSuperset|-|-|-|-|O (M &#42; log N)|傳回`true`如果第二個集合的所有項目是第一個集合，和至少一個元素的第一組不在第二個集合。|
|isSubset|-|-|-|-|O (M &#42; log N)|傳回`true`如果第一個集合的所有項目是在第二個集合。|
|isSuperset|-|-|-|-|O (M &#42; log N)|傳回`true`如果第二個集合的所有項目是第一個集合。|
|Iter|O(N)|O(N)|O(N)|O(N)|O(N)|指定的函式套用至集合的每個項目。|
|iteri|O(N)|O(N)|O(N)|-|-|指定的函式套用至集合的每個項目。 傳遞至函式的整數表示的項目索引。|
|iteri2|O(N)|O(N)|-|-|-|適用於一組取自比對兩個陣列中的索引的項目指定的函式。 傳遞至函式的整數表示項目的索引。 兩個陣列必須具有相同的長度。|
|iter2|O(N)|O(N)|O(N)|-|-|適用於一組取自比對兩個陣列中的索引的項目指定的函式。 兩個陣列必須具有相同的長度。|
|last|O(1)|O(N)|O(N)|-|-|適用於集合中傳回最後一個項目。|
|長度|O(1)|O(N)|O(N)|-|-|傳回集合中的項目數目。|
|map|O(N)|O(N)|O(1)|-|-|建置的集合，其項目是將指定的函式套用至陣列中的每個元素的結果。|
|map2|O(N)|O(N)|O(1)|-|-|建置的集合，其項目是將指定的函式套用至兩個集合的對應項目成對的結果。 這兩個輸入的陣列必須具有相同的長度。|
|map3|-|O(N)|-|-|-|建置的集合，其項目是將指定的函式同時套用至三個集合的對應元素的結果。|
|mapi|O(N)|O(N)|O(N)|-|-|建置的陣列，其項目是將指定的函式套用至陣列中的每個元素的結果。 傳遞至函式的整數索引表示要轉換之項目的索引。|
|mapi2|O(N)|O(N)|-|-|-|建置的集合，其項目是將指定的函式套用相對應元素的成對，也會將傳遞的項目索引的兩個集合的結果。 這兩個輸入的陣列必須具有相同的長度。|
|max|O(N)|O(N)|O(N)|-|-|傳回的最大的項目在集合中，使用的比較[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)運算子。|
|maxBy|O(N)|O(N)|O(N)|-|-|傳回的最大的項目在集合中，使用的比較[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)函式結果上。|
|maxElement|-|-|-|-|O (log N)|傳回根據排序集合中的用於設定最大項目。|
|min|O(N)|O(N)|O(N)|-|-|傳回的最少的項目在集合中，使用的比較[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)運算子。|
|minBy|O(N)|O(N)|O(N)|-|-|傳回的最少的項目在集合中，使用的比較[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)運算子函式的結果。|
|minElement|-|-|-|-|O (log N)|傳回根據排序集合中的用於設定最小項目。|
|ofArray|-|O(N)|O(1)|O(N)|O(N)|建立集合，其中包含與指定的陣列相同的項目。|
|ofList|O(N)|-|O(1)|O(N)|O(N)|建立包含指定清單的相同元素的集合。|
|ofSeq|O(N)|O(N)|-|O(N)|O(N)|建立集合，其中包含項目與指定的順序相同。|
|成對|-|-|O(N)|-|-|在輸入的序列和它的前身，除了第一個項目，只傳回第二個元素的前身傳回每個項目的序列。|
|partition|O(N)|O(N)|-|O(N)|O(N)|將集合分成兩個集合。 第一個集合包含用來傳回指定的述詞的項目`true`，而第二個集合包含用來傳回指定的述詞的項目`false`。|
|permute|O(N)|O(N)|-|-|-|傳回根據指定的排列進行排列的所有項目陣列。|
|挑選|O(N)|O(N)|O(N)|O (log N)|-|指定的函式套用至後續項目，傳回第一個結果，其中函式會傳回部分。 如果函式從未傳回 Some `System.Collections.Generic.KeyNotFoundException` ，就會引發。|
|readonly|-|-|O(N)|-|-|建立委派給指定的順序物件的順序物件。 此作業可確保型別轉換無法重新探索及變動原始順序。 例如，如果指定陣列，傳回的序列將會傳回陣列中的項目，但您無法將傳回的序列物件轉換成陣列。|
|reduce|O(N)|O(N)|O(N)|-|-|函式套用至每個元素的集合，透過計算建立累計值引數的執行緒。 此函式一開始會將函式套用至前兩個項目，將此結果傳遞至函式，以及第三個項目，依此類推。 函數會傳回最後的結果。|
|reduceBack|O(N)|O(N)|-|-|-|函式套用至每個元素的集合，透過計算建立累計值引數的執行緒。 此函式如果輸入函式是 f，項目都在...i0 （...會計算 f i0(f in-1 iN))。|
|remove|-|-|-|O (log N)|O (log N)|移除對應的網域中的項目。 如果項目不存在，則會不引發任何例外狀況。|
|複寫|-|O(N)|-|-|-|與每個項目設定為指定的值，會建立一份指定的長度。|
|rev|O(N)|O(N)|-|-|-|以反向順序傳回項目的新清單。|
|掃描|O(N)|O(N)|O(N)|-|-|函式套用至每個元素的集合，透過計算建立累計值引數的執行緒。 這項作業會將目前的函式套用至第二個引數和清單的第一個元素。 操作傳入這個結果與第二個項目一併函式，依此類推。 最後，此作業會傳回中繼結果和最終結果的清單。|
|scanBack|O(N)|O(N)|-|-|-|類似 foldBack 作業，但會傳回中繼和最終的結果。|
|單一|-|-|O(1)|-|O(1)|傳回序列，產生一個項目。|
|設定|O(1)|-|-|-|-|設定陣列的項目指定的值。|
|skip|-|-|O(N)|-|-|傳回序列，會略過基礎序列的 n 個項目，然後產生序列的其餘項目。|
|skipWhile|-|-|O(N)|-|-|傳回序列，如果重複執行，略過基礎序列的元素，而指定的述詞傳回`true`然後產生序列的其餘項目。|
|sort|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|O (N log N)|O (N log N)|-|-|依項目值的集合。 項目會使用 「 比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortBy|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|O (N log N)|O (N log N)|-|-|使用指定之投影所提供的索引鍵，排序指定的清單。 使用比較索引鍵[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlace|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|-|-|-|-|就地變更它，並使用指定的比較函式中排序陣列的項目。 項目所使用的比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceBy|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|-|-|-|-|就地變更它，並使用指定之投影的索引鍵排序陣列的項目。 項目所使用的比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceWith|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|-|-|-|-|就地變更它，並使用指定的比較函式，做為順序來排序陣列的項目。|
|sortWith|O (N log N) 平均<br /><br />O(N^2) 最壞的情況|O (N log N)|-|-|-|排序集合，做為順序中使用指定的比較函式並傳回新集合的項目。|
|sub|O(N)|-|-|-|-|建立陣列，其中包含由起始索引和長度的指定子範圍。|
|加總|O(N)|O(N)|O(N)|-|-|傳回集合中的項目的總和。|
|sumBy|O(N)|O(N)|O(N)|-|-|傳回將函式套用至集合的每個項目產生結果的總和。|
|結尾|-|O(1)|-|-|-|傳回清單，而不需要其第一個元素。|
|Take|-|-|O(N)|-|-|傳回最多指定計數之序列的項目。|
|takeWhile|-|-|O(1)|-|-|傳回序列，如果重複執行，基礎序列的產生元素，而指定的述詞傳回`true`然後傳回沒有更多的項目。|
|toArray|-|O(N)|O(N)|O(N)|O(N)|建立陣列，從指定的集合。|
|toList|O(N)|-|O(N)|O(N)|O(N)|從指定的集合，會建立清單。|
|toSeq|O(1)|O(1)|-|O(1)|O(1)|從指定的集合，會建立序列。|
|截斷|-|-|O(1)|-|-|傳回序列，列舉時，傳回不超過 n 個項目。|
|tryFind|O(N)|O(N)|O(N)|O (log N)|-|搜尋符合指定述詞的項目。|
|tryFindIndex|O(N)|O(N)|O(N)|-|-|搜尋符合指定述詞，並傳回相符的項目，索引的第一個元素或`None`如果沒有這類項目。|
|tryFindKey|-|-|-|O (log N)|-|傳回符合所指定的述詞，或傳回集合中的第一個對應的索引鍵`None`如果沒有這類項目。|
|tryPick|O(N)|O(N)|O(N)|O (log N)|-|指定的函式套用至後續項目，傳回第一個結果的函式會傳回其中`Some`中某些值。 如果沒有這類元素存在，則此作業會傳回`None`。|
|展開|-|-|O(N)|-|-|傳回序列，其中包含指定的計算會產生的項目。|
|union|-|-|-|-|O (M &#42; log N)|計算兩個集合的聯集。|
|unionMany|-|-|-|-|O(N1 &#42; N2 ...)|計算集合序列的聯集。|
|unzip|O(N)|O(N)|O(N)|-|-|將配對的清單分割成兩個清單中。|
|unzip3|O(N)|O(N)|O(N)|-|-|將一組的清單分割成三個清單中。|
|視窗型|-|-|O(N)|-|-|傳回序列，產生滑動視窗包含輸入序列中繪製的項目。 每個視窗會傳回最新的陣列。|
|zip|O(N)|O(N)|O(N)|-|-|結合配對清單在兩個的集合。 兩個清單長度必須相等。|
|zip3|O(N)|O(N)|O(N)|-|-|結合了三合一的三個集合成清單。 清單長度必須相等。|

## <a name="see-also"></a>另請參閱

- [F# 類型](fsharp-types.md)
- [F# 語言參考](index.md)
