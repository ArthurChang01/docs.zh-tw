---
title: F# 集合類型
description: '了解 F # 集合類型，以及它們之間的差異從.NET Framework 中集合類型。'
ms.date: 05/16/2016
ms.openlocfilehash: a94dc300d984ca31baf1eb7d1073e23b51ebd030
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/04/2018
---
# <a name="f-collection-types"></a>F# 集合類型

檢閱本主題，您可以判斷 F # 集合類型最適合的特定需求。 這些集合型別不同的集合型別，在.NET Framework 中，例如中`System.Collections.Generic`命名空間，在於 F # 集合類型全新的設計，功能性程式設計觀點來看，而不是物件導向的檢視方塊。 更具體來說，只有陣列集合具有可變動的項目。 因此，當您修改集合，您會建立已修改的集合，而不修改原始集合的執行個體。

集合型別不同類型的物件會儲存的資料結構。 資料結構，例如雜湊表、 連結的清單和陣列有不同的效能特性，以及一組不同的可用的作業。


## <a name="f-collection-types"></a>F# 集合類型
下表顯示 F # 集合類型。



|類型|描述|相關連結|
|----|-----------|-------------|
|[清單](https://msdn.microsoft.com/library/c627b668-477b-4409-91ed-06d7f1b3e4a7)|相同類型的項目已排序、 不可變系列。 實作為連結清單。|[清單](lists.md)<br /><br />[List 模組](https://msdn.microsoft.com/library/a2264ba3-2d45-40dd-9040-4f7aa2ad9788)|
|[陣列](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)|具有相同類型的所有連續的資料元素的固定大小，以零為起始的可變動集合。|[陣列](arrays.md)<br /><br />[Array 模組](https://msdn.microsoft.com/library/0cda8040-9396-40dd-8dcd-cf48542165a1)<br /><br />[Array2D 模組](https://msdn.microsoft.com/library/ae1a9746-7817-4430-bcdb-a79c2411bbd3)<br /><br />[Array3D 模組](https://msdn.microsoft.com/library/c8355e2d-add8-48a4-8aa6-1c57ae74c560)|
|[Seq](https://msdn.microsoft.com/library/2f0c87c6-8a0d-4d33-92a6-10d1d037ce75)|邏輯一連串的是一種類型的所有項目。 當您使用較大，已排序集合的資料，但不一定要使用的所有項目時，順序會特別有用。 需要個別項目只能做為計算的順序，因此序列可以優於清單，如果不使用的所有項目。 順序由`seq<'T>`類型，這是別名的`IEnumerable<T>`。 因此，任何.NET Framework 型別可實作`System.Collections.Generic.IEnumerable<'T>`可用做為序列。|[序列](sequences.md)<br /><br />[Seq 模組](https://msdn.microsoft.com/library/54e8f059-ca52-4632-9ae9-49685ee9b684)|
|[對應](https://msdn.microsoft.com/library/975316ea-55e3-4987-9994-90897ad45664)|不可變字典的項目。 元素的存取金鑰。|[對應模組](https://msdn.microsoft.com/library/bfe61ead-f16c-416f-af98-56dbcbe23e4f)|
|[Set](https://msdn.microsoft.com/library/50cebdce-0cd7-4c5c-8ebc-f3a9e90b38d8)|不可變資料集為基礎的二進位樹狀結構，其中的比較會是 F # 結構的比較函式，這麼做可能會使用的實作`System.IComparable`索引鍵值的介面。|[設定模組](https://msdn.microsoft.com/library/61efa732-d55d-4c32-993f-628e2f98e6a0)|

### <a name="table-of-functions"></a>函式的資料表
本節將比較用於 F # 集合類型的函式。 指定的函式計算的複雜度，其中 N 是第一個集合的大小而 M 是第二個集合的大小，如果有的話。 虛線 （-） 會指出此函式無法使用集合。 因為延遲評估順序，例如 Seq.distinct 函式可能是 o （1） 因為它會立即傳回，雖然它仍然會影響順序列舉時的效能。



|功能|陣列|清單|序列|對應|設定|描述|
|--------|-----|----|--------|---|---|-----------|
|append|O(M)|O （N)|O （N)|-|-|傳回新的集合，其中包含後面接著第二個集合的項目之第一個集合的項目。|
|加入|-|-|-|O (log N)|O (log N)|新增項目會傳回新的集合。|
|平均值|O （N)|O （N)|O （N)|-|-|集合中傳回之項目的平均值。|
|averageBy|O （N)|O （N)|O （N)|-|-|傳回套用至每個項目所提供的函式的結果的平均值。|
|blit|O （N)|-|-|-|-|將複製陣列的區段。|
|快取|-|-|O （N)|-|-|計算並儲存一連串的項目。|
|cast|-|-|O （N)|-|-|將元素轉換成指定的型別。|
|選擇|O （N)|O （N)|O （N)|-|-|適用於指定的函式`f`每個項目`x`的清單。 傳回清單，其中包含每個項目結果函式會傳回其中`Some(f(x))`。|
|收集|O （N)|O （N)|O （N)|-|-|將指定的函數套用至集合的每個項目、 串連所有結果，並傳回合併的清單。|
|compareWith|-|-|O （N)|-|-|使用指定的比較函式，由項目，比較兩個序列。|
|Concat|O （N)|O （N)|O （N)|-|-|結合指定的列舉-的-列舉型別為單一的串連列舉型別。|
|包含|-|-|-|-|O (log N)|如果集合包含指定的項目，則傳回 true。|
|containsKey|-|-|-|O (log N)|-|測試項目是否為網域中的對應。|
|count|-|-|-|-|O （N)|傳回集合中項目的數目。|
|countBy|-|-|O （N)|-|-|適用於序列，每個項目索引鍵產生函式，並傳回產生唯一索引鍵和的發生次數，在原始序列中的順序。|
|copy|O （N)|-|O （N)|-|-|複製集合。|
|建立|O （N)|-|-|-|-|建立項目的所有一開始會指定的值的整個陣列。|
|延遲|-|-|O （1)|-|-|從給定的延遲規格的序列傳回內建的順序。|
|差異|-|-|-|-|O (M &#42; log N)|傳回從第一個集合中移除第二個集合的項目新資料集。|
|相異|||O （1)&AMP;#42;|||傳回序列，其中包含根據一般的雜湊和相等比較項目上重複的項目。 如果項目序列中發生多次，則會捨棄之後出現。|
|distinctBy|||O （1)&AMP;#42;|||傳回序列，其中包含根據泛型雜湊和相等比較指定的索引鍵產生函式所傳回的索引鍵重複的項目。 如果項目序列中發生多次，則會捨棄之後出現。|
|空白|O （1)|O （1)|O （1)|O （1)|O （1)|建立空的集合。|
|exists|O （N)|O （N)|O （N)|O (log N)|O (log N)|測試是否序列中任何項目符合指定述詞。|
|exists2|O(min(N,M))|-|O(min(N,M))|||測試是否任何對輸入序列的對應元素符合指定述詞。|
|fill|O （N)|||||陣列的項目範圍設為指定的值。|
|篩選|O （N)|O （N)|O （N)|O （N)|O （N)|傳回新的集合，其中包含的集合傳回指定的述詞的項目`true`。|
|find|O （N)|O （N)|O （N)|O (log N)|-|傳回指定的函式傳回的第一個項目`true`。 傳回`System.Collections.Generic.KeyNotFoundException`如果沒有這類元素存在。|
|findIndex|O （N)|O （N)|O （N)|-|-|傳回陣列中符合指定述詞中的第一個項目的索引。 引發`System.Collections.Generic.KeyNotFoundException`如果沒有任何項目符合此述詞。|
|findKey|-|-|-|O (log N)|-|評估集合中每個對應上的函式，並傳回第一個對應的索引鍵的函式會傳回其中`true`。 如果沒有這類元素存在，此函式就會引發`System.Collections.Generic.KeyNotFoundException`。|
|摺疊|O （N)|O （N)|O （N)|O （N)|O （N)|適用於每個項目集合中，執行緒的整個運算的 accumulator 引數的函式。 如果輸入的函式是 f 的項目為 i0 中的，此函式會計算 f （...(f s i0)...)在中。|
|fold2|O （N)|O （N)|-|-|-|函式套用至對應的執行緒的整個運算的 accumulator 引數的兩個集合的項目。 集合必須有相同的大小。 如果輸入的函式是 f，以及項目可在 i0...且 j0...jN，此函式會計算 f （...(f s i0 j0)...)在 jN.|
|foldBack|O （N)|O （N)|-|O （N)|O （N)|適用於每個項目集合中，執行緒的整個運算的 accumulator 引數的函式。 此函式的輸入函式是 f 和項目 i0 中的，如果 （...會計算 f i0(f s 中))。|
|foldBack2|O （N)|O （N)|-|-|-|函式套用至對應的執行緒的整個運算的 accumulator 引數的兩個集合的項目。 集合必須有相同的大小。 JN，此函式如果輸入的函式是 f，以及項目可在 i0...且 j0...（...會計算 f i0 j0(f jN s 中))。|
|forall|O （N)|O （N)|O （N)|O （N)|O （N)|測試是否在集合中的所有項目符合指定述詞。|
|forall2|O （N)|O （N)|O （N)|-|-|測試是否集合的所有對應的項目符合指定述詞成對。|
|取得 / 第 n 個|O （1)|O （N)|O （N)|-|-|從指定的索引集合中傳回項目。|
|head|-|O （1)|O （1)|-|-|傳回集合中的第一個項目。|
|init|O （N)|O （N)|O （1)|-|-|建立給定維度和產生器函式來計算元素的集合。|
|initInfinite|-|-|O （1)|-|-|產生的序列，時反覆執行，藉由呼叫指定的函式會傳回連續元素。|
|Intersect|-|-|-|-|O (log N&#42;記錄 M)|計算兩個集合的交集。|
|intersectMany|-|-|-|-|O (N1 &AMP;#42; N2...)|計算序列中的集合交集。 序列不能空白。|
|IsEmpty|O （1)|O （1)|O （1)|O （1)|-|傳回`true`如果集合是空的。|
|isProperSubset|-|-|-|-|O (M &#42; log N)|傳回`true`如果第一個集合的所有項目會在第二個集合，而且至少一個元素的第二個集合不是第一個集合中。|
|isProperSuperset|-|-|-|-|O (M &#42; log N)|傳回`true`如果第二個集合的所有項目是第一個集合，而且至少一個元素的第一組不在第二個集合。|
|isSubset|-|-|-|-|O (M &#42; log N)|傳回`true`第一個集合的所有項目是否在第二個集合。|
|isSuperset|-|-|-|-|O (M &#42; log N)|傳回`true`如果所有項目，第二個集合的第一個集合中。|
|iter|O （N)|O （N)|O （N)|O （N)|O （N)|將指定的函數套用至集合的每個項目。|
|iteri|O （N)|O （N)|O （N)|-|-|將指定的函數套用至集合的每個項目。 傳遞至函式的整數表示的項目索引。|
|iteri2|O （N)|O （N)|-|-|-|指定的函數套用至一組取自比對兩個陣列在索引中的項目。 傳遞至函式的整數表示的項目索引。 兩個陣列必須有相同的長度。|
|iter2|O （N)|O （N)|O （N)|-|-|指定的函數套用至一組取自比對兩個陣列在索引中的項目。 兩個陣列必須有相同的長度。|
|長度|O （1)|O （N)|O （N)|-|-|傳回集合中的項目數目。|
|map|O （N)|O （N)|O （1)|-|-|建置一個集合，其項目是陣列的每個項目上套用指定的函式的結果。|
|map2|O （N)|O （N)|O （1)|-|-|建置的集合，其元素為兩個集合的對應元素上成對套用指定的函式的結果。 兩個輸入的陣列必須有相同的長度。|
|map3|-|O （N)|-|-|-|建置一個集合，其項目是將指定的函式同時套用的三個集合的對應元素的結果。|
|mapi|O （N)|O （N)|O （N)|-|-|建立的陣列，其項目是陣列的每個項目上套用指定的函式的結果。 傳遞至函式的整數索引表示要轉換的項目索引。|
|mapi2|O （N)|O （N)|-|-|-|建置一個集合，其元素是成對的也會將傳遞的項目索引的兩個集合的對應元素上套用指定的函式的結果。 兩個輸入的陣列必須有相同的長度。|
|max|O （N)|O （N)|O （N)|-|-|傳回的最大的項目在集合中，使用比較[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)運算子。|
|maxBy|O （N)|O （N)|O （N)|-|-|傳回的最大的項目在集合中，使用比較[max](https://msdn.microsoft.com/library/9a988328-00e9-467b-8dfa-e7a6990f6cce)上函式的結果。|
|maxElement|-|-|-|-|O (log N)|傳回根據已排序集合中的用於設定最大項目。|
|min|O （N)|O （N)|O （N)|-|-|傳回的最少的項目在集合中，使用比較[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)運算子。|
|minBy|O （N)|O （N)|O （N)|-|-|傳回的最少的項目在集合中，使用比較[min](https://msdn.microsoft.com/library/adea4fd7-bfad-4834-989c-7878aca81fed)運算子函式的結果。|
|minElement|-|-|-|-|O (log N)|傳回根據已排序集合中的最低元素用於組。|
|ofArray|-|O （N)|O （1)|O （N)|O （N)|建立集合，其中包含相同項目，以指定的陣列。|
|ofList|O （N)|-|O （1)|O （N)|O （N)|建立集合，其中包含相同項目，為指定的清單。|
|ofSeq|O （N)|O （N)|-|O （N)|O （N)|建立集合，其中包含指定序列相同的項目。|
|成對|-|-|O （N)|-|-|傳回每個項目的序列中的輸入的順序，而且除了會傳回只為第二個元素的前置項的第一個項目及其前置項。|
|partition|O （N)|O （N)|-|O （N)|O （N)|會分割成兩個集合的集合。 第一個集合包含用來傳回指定的述詞的項目`true`，而且第二個集合包含用來傳回指定的述詞的項目`false`。|
|permute|O （N)|O （N)|-|-|-|傳回根據指定的排列排列的所有項目陣列。|
|挑選|O （N)|O （N)|O （N)|O (log N)|-|指定的函式套用至連續的項目，傳回第一個結果，此函數會傳回部分。 如果函式永遠不會傳回部分`System.Collections.Generic.KeyNotFoundException`，就會引發。|
|readonly|-|-|O （N)|-|-|建立順序物件，委派給指定的順序物件。 類型轉換不能重新探索和變動原始序列，可確保這項作業。 比方說，如果指定的陣列，傳回的序列會傳回陣列的元素，但您無法將傳回的序列物件轉換成陣列。|
|reduce|O （N)|O （N)|O （N)|-|-|適用於每個項目集合中，執行緒的整個運算的 accumulator 引數的函式。 這個函式一開始會將函數套用至的前兩個項目，將此結果傳遞至函式，以及第三個元素，依此類推。 函數會傳回最後的結果。|
|reduceBack|O （N)|O （N)|-|-|-|適用於每個項目集合中，執行緒的整個運算的 accumulator 引數的函式。 此函式的輸入函式是 f 和項目 i0 中的，如果 （...會計算 f i0(f 中-1 中))。|
|remove|-|-|-|O (log N)|O (log N)|從對應的網域中移除元素。 如果項目不存在，就會不引發任何例外狀況。|
|複寫|-|O （N)|-|-|-|建立指定長度的清單與每個項目設定為指定的值。|
|rev|O （N)|O （N)|-|-|-|以反向順序傳回項目的新清單。|
|掃描|O （N)|O （N)|O （N)|-|-|適用於每個項目集合中，執行緒的整個運算的 accumulator 引數的函式。 這項作業會將函數套用至第二個引數和清單的第一個元素。 作業會傳入這個結果函式，以及第二個元素，依此類推。 最後，作業會傳回中繼結果和最終結果的清單。|
|scanBack|O （N)|O （N)|-|-|-|類似於 foldBack 作業，但傳回中繼和最終結果。|
|單一|-|-|O （1)|-|O （1)|傳回序列中產生只有一個項目。|
|set|O （1)|-|-|-|-|設定為指定值陣列的項目。|
|skip|-|-|O （N)|-|-|傳回序列，會略過基礎序列的 N 個元素，並接著就會產生序列的其餘項目。|
|skipWhile|-|-|O （N)|-|-|傳回序列，重複時, 略過的基礎序列的項目時所指定的述詞傳回`true`然後產生序列的其餘項目。|
|sort|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|O (N log N)|O (N log N)|-|-|依項目值的集合。 項目會使用比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortBy|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|O (N log N)|O (N log N)|-|-|使用指定的投影提供的索引鍵，排序提供的清單。 索引鍵比較使用[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlace|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|-|-|-|-|排序陣列的項目就地變更它，並使用指定的比較函式。 項目使用比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceBy|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|-|-|-|-|就地變更它，並使用指定的投影的索引鍵排序陣列的項目。 項目使用比較[比較](https://msdn.microsoft.com/library/295e1320-0955-4c3d-ac31-288fa80a658c)。|
|sortInPlaceWith|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|-|-|-|-|就地變更它，並使用指定的比較函式做為次序排序陣列的項目。|
|sortWith|平均 O (N log N)<br /><br />O(N^2) 最壞的情況|O (N log N)|-|-|-|排序集合，使用指定的比較函式與順序，並傳回新集合的項目。|
|sub|O （N)|-|-|-|-|建立陣列，其中包含指定的起始索引和長度的指定子範圍。|
|sum|O （N)|O （N)|O （N)|-|-|傳回集合中的元素的總和。|
|sumBy|O （N)|O （N)|O （N)|-|-|傳回結果所產生的函式套用到集合的每個元素的總和。|
|結尾|-|O （1)|-|-|-|傳回其第一個項目清單。|
|take|-|-|O （N)|-|-|傳回最多指定計數之序列的項目。|
|takeWhile|-|-|O （1)|-|-|傳回序列，重複時, 產生的基礎序列的項目時所指定的述詞傳回`true`然後傳回沒有更多的項目。|
|ToArray|-|O （N)|O （N)|O （N)|O （N)|建立陣列，從指定的集合。|
|ToList|O （N)|-|O （N)|O （N)|O （N)|從指定集合中建立的清單。|
|toSeq|O （1)|O （1)|-|O （1)|O （1)|從指定集合中建立的順序。|
|截斷|-|-|O （1)|-|-|傳回序列的項目，列舉時，傳回不能超過 N 個元素。|
|tryFind|O （N)|O （N)|O （N)|O (log N)|-|搜尋符合指定述詞的項目。|
|tryFindIndex|O （N)|O （N)|O （N)|-|-|搜尋符合指定述詞，並傳回相符的項目，索引的第一個元素或`None`如果沒有這類元素存在。|
|tryFindKey|-|-|-|O (log N)|-|傳回符合指定述詞，或傳回之集合中第一個對應的索引鍵`None`如果沒有這類元素存在。|
|tryPick|O （N)|O （N)|O （N)|O (log N)|-|指定的函式套用至連續的項目，傳回第一個結果，此函數會傳回其中`Some`某些值。 如果沒有這類元素存在，則此作業會傳回`None`。|
|展開|-|-|O （N)|-|-|傳回序列，其中包含指定的計算會產生的項目。|
|union|-|-|-|-|O (M &#42; log N)|計算兩個集合的聯集。|
|unionMany|-|-|-|-|O (N1 &AMP;#42; N2...)|計算集合的序列的聯集。|
|unzip|O （N)|O （N)|O （N)|-|-|將一份組分割成兩個 list。|
|unzip3|O （N)|O （N)|O （N)|-|-|將三合一的清單分割成三個清單中。|
|視窗型|-|-|O （N)|-|-|傳回會產生滑動視窗包含輸入序列中繪製的項目的序列。 全新的陣列傳回每個視窗。|
|郵遞區號|O （N)|O （N)|O （N)|-|-|結合兩個集合到清單中的組。 在兩個清單必須有相等的長度。|
|zip3|O （N)|O （N)|O （N)|-|-|結合成清單等三合一的三個集合。 清單必須具有相同的長度。|

## <a name="see-also"></a>另請參閱
[F# 類型](fsharp-types.md)

[F# 語言參考](index.md)

