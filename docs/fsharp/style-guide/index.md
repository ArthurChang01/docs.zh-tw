---
title: F# 樣式指南
description: 瞭解良好 F# 代碼的五個原則。
ms.date: 12/10/2018
ms.openlocfilehash: 9f47257626e04b09b546de2ae315d48d791678be
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/14/2020
ms.locfileid: "79400264"
---
# <a name="f-style-guide"></a><span data-ttu-id="75aff-103">F# 樣式指南</span><span class="sxs-lookup"><span data-stu-id="75aff-103">F# style guide</span></span>

<span data-ttu-id="75aff-104">以下文章介紹了 F# 代碼的格式設置指南以及語言功能的專題指南以及如何使用它們。</span><span class="sxs-lookup"><span data-stu-id="75aff-104">The following articles describe guidelines for formatting F# code and topical guidance for features of the language and how they should be used.</span></span>

<span data-ttu-id="75aff-105">本指南是根據在具有不同程式師組的大型代碼庫中使用 F# 制定的。</span><span class="sxs-lookup"><span data-stu-id="75aff-105">This guidance has been formulated based on the use of F# in large codebases with a diverse group of programmers.</span></span> <span data-ttu-id="75aff-106">本指南通常會導致 F# 的成功使用，並最大限度地減少程式要求隨時間變化時的挫折感。</span><span class="sxs-lookup"><span data-stu-id="75aff-106">This guidance generally leads to successful use of F# and minimizes frustrations when requirements for programs change over time.</span></span>

## <a name="five-principles-of-good-f-code"></a><span data-ttu-id="75aff-107">良好 F# 代碼的五個原則</span><span class="sxs-lookup"><span data-stu-id="75aff-107">Five principles of good F# code</span></span>

<span data-ttu-id="75aff-108">在編寫 F# 代碼時，請記住以下原則，尤其是在隨時間變化的系統中。</span><span class="sxs-lookup"><span data-stu-id="75aff-108">Keep the following principles in mind any time you write F# code, especially in systems that will change over time.</span></span> <span data-ttu-id="75aff-109">進一步文章中的每一條指導都源于這五點。</span><span class="sxs-lookup"><span data-stu-id="75aff-109">Every piece of guidance in further articles stems from these five points.</span></span>

1. <span data-ttu-id="75aff-110">**好的 F# 代碼簡潔、富有表現力且可組合**</span><span class="sxs-lookup"><span data-stu-id="75aff-110">**Good F# code is succinct, expressive, and composable**</span></span>

    <span data-ttu-id="75aff-111">F# 具有許多功能，允許您以更少的程式碼表示操作並重用通用功能。</span><span class="sxs-lookup"><span data-stu-id="75aff-111">F# has many features that allow you to express actions in fewer lines of code and reuse generic functionality.</span></span> <span data-ttu-id="75aff-112">F# 核心庫還包含許多有用的類型和函數，用於處理常見的資料集合。</span><span class="sxs-lookup"><span data-stu-id="75aff-112">The F# core library also contains many useful types and functions for working with common collections of data.</span></span> <span data-ttu-id="75aff-113">您自己的函數和 F# 核心庫（或其他庫）中的函數的組成是常規慣用 F# 程式設計的一部分。</span><span class="sxs-lookup"><span data-stu-id="75aff-113">Composition of your own functions and those in the F# core library (or other libraries) is a part of routine idiomatic F# programming.</span></span> <span data-ttu-id="75aff-114">通常，如果能夠用更少的程式碼來表達問題的解決方案，其他開發人員（或您未來的自我）將非常感激。</span><span class="sxs-lookup"><span data-stu-id="75aff-114">As a general rule, if you can express a solution to a problem in fewer lines of code, other developers (or your future self) will be appreciative.</span></span> <span data-ttu-id="75aff-115">強烈建議您使用 FSharp.Core、F# 運行[的龐大 .NET 庫](../../../api/index.md)等庫，或者當您需要執行一項不平凡的任務時，使用[NuGet](https://www.nuget.org/)上的協力廠商包。</span><span class="sxs-lookup"><span data-stu-id="75aff-115">It's also highly recommended that you use a library such as FSharp.Core, the [vast .NET libraries](../../../api/index.md) that F# runs on, or a third-party package on [NuGet](https://www.nuget.org/) when you need to do a nontrivial task.</span></span>

2. <span data-ttu-id="75aff-116">**好的 F# 代碼是可交互操作的**</span><span class="sxs-lookup"><span data-stu-id="75aff-116">**Good F# code is interoperable**</span></span>

    <span data-ttu-id="75aff-117">交互操作可以採取多種形式，包括使用不同語言的代碼。</span><span class="sxs-lookup"><span data-stu-id="75aff-117">Interoperation can take multiple forms, including consuming code in different languages.</span></span> <span data-ttu-id="75aff-118">其他調用方交互操作的代碼邊界是正確獲取的關鍵區段，即使調用方也位於 F#中也是如此。</span><span class="sxs-lookup"><span data-stu-id="75aff-118">The boundaries of your code that other callers interoperate with are critical pieces to get right, even if the callers are also in F#.</span></span> <span data-ttu-id="75aff-119">編寫 F#時，應始終考慮如何將其他代碼調用您編寫的代碼，包括它們是否從其他語言（如 C#）調用。</span><span class="sxs-lookup"><span data-stu-id="75aff-119">When writing F#, you should always be thinking about how other code will call into the code you're writing, including if they do so from another language like C#.</span></span> <span data-ttu-id="75aff-120">[F# 元件設計指南](component-design-guidelines.md)詳細介紹了互通性。</span><span class="sxs-lookup"><span data-stu-id="75aff-120">The [F# Component Design Guidelines](component-design-guidelines.md) describe interoperability in detail.</span></span>

3. <span data-ttu-id="75aff-121">**好的 F# 代碼使用物件程式設計，而不是物件導向**</span><span class="sxs-lookup"><span data-stu-id="75aff-121">**Good F# code makes use of object programming, not object orientation**</span></span>

    <span data-ttu-id="75aff-122">F# 完全支援使用 .NET 中的物件進行程式設計，包括[類](../language-reference/classes.md)、[介面](../language-reference/interfaces.md)、[訪問修改器](../language-reference/access-control.md)、[抽象類別](../language-reference/abstract-classes.md)等。</span><span class="sxs-lookup"><span data-stu-id="75aff-122">F# has full support for programming with objects in .NET, including [classes](../language-reference/classes.md), [interfaces](../language-reference/interfaces.md), [access modifiers](../language-reference/access-control.md), [abstract classes](../language-reference/abstract-classes.md), and so on.</span></span> <span data-ttu-id="75aff-123">對於更複雜的功能代碼（如必須具有上下文感知功能的函數），物件可以輕鬆地以函數無法的方式封裝上下文資訊。</span><span class="sxs-lookup"><span data-stu-id="75aff-123">For more complicated functional code, such as functions that must be context-aware, objects can easily encapsulate contextual information in ways that functions cannot.</span></span> <span data-ttu-id="75aff-124">[可選參數](../language-reference/members/methods.md#optional-arguments)和謹慎使用[重載](../language-reference/members/methods.md#overloaded-methods)等功能可以使調用方更輕鬆地使用此功能。</span><span class="sxs-lookup"><span data-stu-id="75aff-124">Features such as [optional parameters](../language-reference/members/methods.md#optional-arguments) and careful use of [overloading](../language-reference/members/methods.md#overloaded-methods) can make consumption of this functionality easier for callers.</span></span>

4. <span data-ttu-id="75aff-125">**良好的 F# 代碼在未暴露突變的情況下表現良好**</span><span class="sxs-lookup"><span data-stu-id="75aff-125">**Good F# code performs well without exposing mutation**</span></span>

    <span data-ttu-id="75aff-126">編寫高性能代碼，必須使用突變，這已不為人有。</span><span class="sxs-lookup"><span data-stu-id="75aff-126">It's no secret that to write high-performance code, you must use mutation.</span></span> <span data-ttu-id="75aff-127">畢竟，這是電腦的工作原理。</span><span class="sxs-lookup"><span data-stu-id="75aff-127">It's how computers work, after all.</span></span> <span data-ttu-id="75aff-128">此類代碼通常容易出錯，難以正確。</span><span class="sxs-lookup"><span data-stu-id="75aff-128">Such code is often error-prone and difficult to get right.</span></span> <span data-ttu-id="75aff-129">避免向呼叫者公開突變。</span><span class="sxs-lookup"><span data-stu-id="75aff-129">Avoid exposing mutation to callers.</span></span> <span data-ttu-id="75aff-130">相反，[構建一個功能介面，在性能至關重要時隱藏基於突變的實現](conventions.md#performance)。</span><span class="sxs-lookup"><span data-stu-id="75aff-130">Instead, [build a functional interface that hides a mutation-based implementation](conventions.md#performance) when performance is critical.</span></span>

5. <span data-ttu-id="75aff-131">**好的 F# 代碼是可工具的**</span><span class="sxs-lookup"><span data-stu-id="75aff-131">**Good F# code is toolable**</span></span>

    <span data-ttu-id="75aff-132">工具對於在大型代碼庫中工作非常寶貴，您可以編寫 F# 代碼，以便可以更有效地將其用於 F# 語言工具。</span><span class="sxs-lookup"><span data-stu-id="75aff-132">Tools are invaluable for working in large codebases, and you can write F# code such that it can be used more effectively with F# language tooling.</span></span> <span data-ttu-id="75aff-133">一個例子是確保您不會使用無點程式設計樣式過度使用，以便可以使用調試器檢查中間值。</span><span class="sxs-lookup"><span data-stu-id="75aff-133">One example is making sure you don't overdo it with a point-free style of programming, so that intermediate values can be inspected with a debugger.</span></span> <span data-ttu-id="75aff-134">另一個示例是使用[XML 文檔注釋](../language-reference/xml-documentation.md)來描述構造，以便編輯器中的工具提示可以在調用網站顯示這些注釋。</span><span class="sxs-lookup"><span data-stu-id="75aff-134">Another example is using [XML documentation comments](../language-reference/xml-documentation.md) describing constructs such that tooltips in editors can display those comments at the call site.</span></span> <span data-ttu-id="75aff-135">始終思考如何被其他程式師使用他們的工具讀取、導航、調試和操作代碼。</span><span class="sxs-lookup"><span data-stu-id="75aff-135">Always think about how your code will be read, navigated, debugged, and manipulated by other programmers with their tools.</span></span>

## <a name="next-steps"></a><span data-ttu-id="75aff-136">後續步驟</span><span class="sxs-lookup"><span data-stu-id="75aff-136">Next steps</span></span>

<span data-ttu-id="75aff-137">[F# 代碼格式設置指南](formatting.md)提供有關如何設置代碼格式以便易於閱讀的指導。</span><span class="sxs-lookup"><span data-stu-id="75aff-137">The [F# code formatting guidelines](formatting.md) provide guidance on how to format code so that it is easy to read.</span></span>

<span data-ttu-id="75aff-138">[F# 編碼約定](conventions.md)為 F# 程式設計習慣用語提供指導，這將有助於對較大的 F# 代碼庫進行長期維護。</span><span class="sxs-lookup"><span data-stu-id="75aff-138">The [F# coding conventions](conventions.md) provide guidance for F# programming idioms that will help the long-term maintenance of larger F# codebases.</span></span>

<span data-ttu-id="75aff-139">[F# 元件設計指南](component-design-guidelines.md)為編寫 F# 元件（如庫）提供了指南。</span><span class="sxs-lookup"><span data-stu-id="75aff-139">The [F# component design guidelines](component-design-guidelines.md) provide guidance for authoring F# components, such as libraries.</span></span>
