---
title: 選擇在 Docker 容器使用 .NET Core 的時機
description: 適用於容器化 .NET 應用程式的.NET 微服務架構 | 選擇在 Docker 容器使用 .NET Core 的時機
ms.date: 09/11/2018
ms.openlocfilehash: 54ed1b4bbb16352b8c99204383f85ffb25d62be7
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/15/2019
ms.locfileid: "65644351"
---
# <a name="when-to-choose-net-core-for-docker-containers"></a><span data-ttu-id="8890a-103">選擇在 Docker 容器使用 .NET Core 的時機</span><span class="sxs-lookup"><span data-stu-id="8890a-103">When to choose .NET Core for Docker containers</span></span>

<span data-ttu-id="8890a-104">.NET Core 的模組性和輕量性質使其非常適用於容器。</span><span class="sxs-lookup"><span data-stu-id="8890a-104">The modularity and lightweight nature of .NET Core makes it perfect for containers.</span></span> <span data-ttu-id="8890a-105">部署和建立容器時，使用 .NET Core 時的映像大小，會遠小於使用 .NET Framework 時的大小。</span><span class="sxs-lookup"><span data-stu-id="8890a-105">When you deploy and start a container, its image is far smaller with .NET Core than with .NET Framework.</span></span> <span data-ttu-id="8890a-106">相對來說，若要在容器使用.NET Framework，您的映像必須以 Windows Server Core 映像為基礎，而這會比用於 .NET Core 的 Windows Nano Server 或 Linux 映像還要繁重得多。</span><span class="sxs-lookup"><span data-stu-id="8890a-106">In contrast, to use .NET Framework for a container, you must base your image on the Windows Server Core image, which is a lot heavier than the Windows Nano Server or Linux images that you use for .NET Core.</span></span>

<span data-ttu-id="8890a-107">此外，.NET Core 可跨平台，因此您可以用 Linux 或 Windows 容器映像來部署伺服器應用程式。</span><span class="sxs-lookup"><span data-stu-id="8890a-107">Additionally, .NET Core is cross-platform, so you can deploy server apps with Linux or Windows container images.</span></span> <span data-ttu-id="8890a-108">不過，如果您使用傳統的.NET Framework，則只能部署以 Windows Server Core 為基礎的映像。</span><span class="sxs-lookup"><span data-stu-id="8890a-108">However, if you are using the traditional .NET Framework, you can only deploy images based on Windows Server Core.</span></span>

<span data-ttu-id="8890a-109">下列詳細說明選擇 .NET Core 的理由。</span><span class="sxs-lookup"><span data-stu-id="8890a-109">The following is a more detailed explanation of why to choose .NET Core.</span></span>

## <a name="developing-and-deploying-cross-platform"></a><span data-ttu-id="8890a-110">跨平台開發和部署</span><span class="sxs-lookup"><span data-stu-id="8890a-110">Developing and deploying cross platform</span></span>

<span data-ttu-id="8890a-111">如果您的目標是擁有一個可在 Docker (Linux 和 Windows) 支援的多個平台上執行的應用程式 (Web 應用程式或服務)，正確的選擇顯然會是.NET Core，因為 .NET Framework 僅支援 Windows。</span><span class="sxs-lookup"><span data-stu-id="8890a-111">Clearly, if your goal is to have an application (web app or service) that can run on multiple platforms supported by Docker (Linux and Windows), the right choice is .NET Core, because .NET Framework only supports Windows.</span></span>

<span data-ttu-id="8890a-112">.NET Core 也支援 macOS 作為開發平台。</span><span class="sxs-lookup"><span data-stu-id="8890a-112">.NET Core also supports macOS as a development platform.</span></span> <span data-ttu-id="8890a-113">不過，當您在 Docker 主機部署容器時，就目前來說，該主機必須以 Linux 或 Windows 為基礎。</span><span class="sxs-lookup"><span data-stu-id="8890a-113">However, when you deploy containers to a Docker host, that host must (currently) be based on Linux or Windows.</span></span> <span data-ttu-id="8890a-114">例如在開發環境中，您可以使用在 Mac 上執行的 Linux VM。</span><span class="sxs-lookup"><span data-stu-id="8890a-114">For example, in a development environment, you could use a Linux VM running on a Mac.</span></span>

<span data-ttu-id="8890a-115">[Visual Studio](https://www.visualstudio.com/vs/) 提供適用於 Windows 的整合式開發環境 (IDE)，並支援 Docker 開發。</span><span class="sxs-lookup"><span data-stu-id="8890a-115">[Visual Studio](https://www.visualstudio.com/vs/) provides an integrated development environment (IDE) for Windows and supports Docker development.</span></span>

<span data-ttu-id="8890a-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) 是在 macOS 上執行的 IDE (即 Xamarin Studio 的演進)，並支援 Docker 型應用程式開發。</span><span class="sxs-lookup"><span data-stu-id="8890a-116">[Visual Studio for Mac](https://www.visualstudio.com/vs/visual-studio-mac/) is an IDE, evolution of Xamarin Studio, that runs on macOS and supports Docker-based application development.</span></span> <span data-ttu-id="8890a-117">針對在 Mac 電腦上工作同時想要使用功能強大之 IDE 的開發人員，這應該是偏好選項。</span><span class="sxs-lookup"><span data-stu-id="8890a-117">This should be the preferred choice for developers working in Mac machines who also want to use a powerful IDE.</span></span>

<span data-ttu-id="8890a-118">您也可以在 macOS、Linux 和 Windows 上使用 [Visual Studio Code](https://code.visualstudio.com/) (VS Code)。</span><span class="sxs-lookup"><span data-stu-id="8890a-118">You can also use [Visual Studio Code](https://code.visualstudio.com/) (VS Code) on macOS, Linux, and Windows.</span></span> <span data-ttu-id="8890a-119">VS Code 支援 .NET Core，包括 IntelliSense 和偵錯。</span><span class="sxs-lookup"><span data-stu-id="8890a-119">VS Code fully supports .NET Core, including IntelliSense and debugging.</span></span> <span data-ttu-id="8890a-120">因為 VS Code 是輕量型的編輯器，您可以在 Mac 上搭配 Docker CLI 和 [.NET Core 命令列介面 (CLI)](../../../core/tools/index.md) 加以使用，來開發容器化應用程式。</span><span class="sxs-lookup"><span data-stu-id="8890a-120">Because VS Code is a lightweight editor, you can use it to develop containerized apps on the Mac in conjunction with the Docker CLI and the [.NET Core command-line interface (CLI)](../../../core/tools/index.md).</span></span> <span data-ttu-id="8890a-121">您還可以透過大多數協力廠商編輯器如 Sublime、Emacs、vi 及開放原始碼 Omnisharp 專案 (提供 IntelliSense 支援)，來將目標設定為 .NET Core。</span><span class="sxs-lookup"><span data-stu-id="8890a-121">You can also target .NET Core with most third-party editors like Sublime, Emacs, vi, and the open-source OmniSharp project, which also provides IntelliSense support.</span></span>

<span data-ttu-id="8890a-122">除了 IDE 和編輯器，您也可以在所有支援的平台使用 [.NET Core CLI](../../../core/tools/index.md) 工具。</span><span class="sxs-lookup"><span data-stu-id="8890a-122">In addition to the IDEs and editors, you can use the [.NET Core CLI](../../../core/tools/index.md) tools for all supported platforms.</span></span>

## <a name="using-containers-for-new-green-field-projects"></a><span data-ttu-id="8890a-123">在新 (「綠地區」) 專案使用容器</span><span class="sxs-lookup"><span data-stu-id="8890a-123">Using containers for new ("green-field") projects</span></span>

<span data-ttu-id="8890a-124">儘管容器也可以用來將 Web 應用程式或服務裝入容器中 (遵循任何架構模式)，但通常會與微服務架構搭配使用。</span><span class="sxs-lookup"><span data-stu-id="8890a-124">Containers are commonly used in conjunction with a microservices architecture, although they can also be used to containerize web apps or services that follow any architectural pattern.</span></span> <span data-ttu-id="8890a-125">.NET Framework 可用於 Windows 容器，但 .NET Core 的模組性和輕量性質使其更適合容器和微服務架構。</span><span class="sxs-lookup"><span data-stu-id="8890a-125">You can use .NET Framework on Windows Containers, but the modularity and lightweight nature of .NET Core makes it perfect for containers and microservices architectures.</span></span> <span data-ttu-id="8890a-126">建立和部署容器時，使用 .NET Core 時的映像大小，會遠小於使用 .NET Framework 時的大小。</span><span class="sxs-lookup"><span data-stu-id="8890a-126">When you create and deploy a container, its image is far smaller with .NET Core than with .NET Framework.</span></span>

## <a name="creating-and-deploying-microservices-on-containers"></a><span data-ttu-id="8890a-127">在容器上建立及部署微服務</span><span class="sxs-lookup"><span data-stu-id="8890a-127">Creating and deploying microservices on containers</span></span>

<span data-ttu-id="8890a-128">您可以透過一般處理序，使用傳統的.NET Framework 來建置微服務型應用程式 (不含容器)。</span><span class="sxs-lookup"><span data-stu-id="8890a-128">You could use the traditional .NET Framework for building microservices-based applications (without containers) by using plain processes.</span></span> <span data-ttu-id="8890a-129">如此一來，因為.NET Framework 已跨處理序安裝和共用，處理序即為輕量的，而且可快速啟動。</span><span class="sxs-lookup"><span data-stu-id="8890a-129">That way, because the .NET Framework is already installed and shared across processes, processes are light and fast to start.</span></span> <span data-ttu-id="8890a-130">不過，如果您使用容器，傳統 .NET Framework 的映像也會以 Windows Server Core 為基礎，而這對於容器上的微服務方法而言過於沉重。</span><span class="sxs-lookup"><span data-stu-id="8890a-130">However, if you are using containers, the image for the traditional .NET Framework is also based on Windows Server Core and that makes it too heavy for a microservices-on-containers approach.</span></span>

<span data-ttu-id="8890a-131">相較之下，如果您使用以容器基礎的微服務導向系統，.NET Core 會是最佳選項，因為 .NET Core 是輕量的。</span><span class="sxs-lookup"><span data-stu-id="8890a-131">In contrast, .NET Core is the best candidate if you are embracing a microservices-oriented system that is based on containers, because .NET Core is lightweight.</span></span> <span data-ttu-id="8890a-132">此外，其相關的容器映像 (無論是 Linux 映像或 Windows Nano 映像) 都很精簡、小型，使容器負荷低、可快速啟動。</span><span class="sxs-lookup"><span data-stu-id="8890a-132">In addition, its related container images, either the Linux image or the Windows Nano image, are lean and small making containers light and fast to start.</span></span>

<span data-ttu-id="8890a-133">微服務意味著儘可能愈小愈好：在啟動時負荷極低、佔用空間小、限定環境小、只需要投注一小部分心力 (檢查 DDD，[網域驅動設計](https://en.wikipedia.org/wiki/Domain-driven_design))，而且能夠快速啟動和停止。</span><span class="sxs-lookup"><span data-stu-id="8890a-133">A microservice is meant to be as small as possible: to be light when spinning up, to have a small footprint, to have a small Bounded Context (check DDD, [Domain-Driven Design](https://en.wikipedia.org/wiki/Domain-driven_design)), to represent a small area of concerns, and to be able to start and stop fast.</span></span> <span data-ttu-id="8890a-134">基於這些需求，您會需要使用小型且可快速具現化的容器映像，如 .NET Core 容器映像。</span><span class="sxs-lookup"><span data-stu-id="8890a-134">For those requirements, you will want to use small and fast-to-instantiate container images like the .NET Core container image.</span></span>

<span data-ttu-id="8890a-135">微服務架構也可讓您跨越服務界限混用技術。</span><span class="sxs-lookup"><span data-stu-id="8890a-135">A microservices architecture also allows you to mix technologies across a service boundary.</span></span> <span data-ttu-id="8890a-136">如此一來，就能夠讓新的微服務逐步移轉到 .NET Core，與其他微服務或透過 Node.js、Python、Java、GoLang 或其他技術開發的服務結合使用。</span><span class="sxs-lookup"><span data-stu-id="8890a-136">This enables a gradual migration to .NET Core for new microservices that work in conjunction with other microservices or with services developed with Node.js, Python, Java, GoLang, or other technologies.</span></span>

## <a name="deploying-high-density-in-scalable-systems"></a><span data-ttu-id="8890a-137">在可擴充的系統中部署高密度</span><span class="sxs-lookup"><span data-stu-id="8890a-137">Deploying high density in scalable systems</span></span>

<span data-ttu-id="8890a-138">當您的容器型系統需要最佳密度、細微性和效能時，.NET Core 和 ASP.NET Core 就是最好的選擇。</span><span class="sxs-lookup"><span data-stu-id="8890a-138">When your container-based system needs the best possible density, granularity, and performance, .NET Core and ASP.NET Core are your best options.</span></span> <span data-ttu-id="8890a-139">在傳統的 .NET Framework 中，ASP.NET Core 的速度可勝過 ASP.NET 10 倍，並且在像 Java servlet、Go 和 Node.js 等微服務領域中領先其他熱門的業界技術。</span><span class="sxs-lookup"><span data-stu-id="8890a-139">ASP.NET Core is up to ten times faster than ASP.NET in the traditional .NET Framework, and it leads other popular industry technologies for microservices, such as Java servlets, Go, and Node.js.</span></span>

<span data-ttu-id="8890a-140">這對於微服務架構特別重要，您可以在其中執行數百個微服務 (容器)。</span><span class="sxs-lookup"><span data-stu-id="8890a-140">This is especially relevant for microservices architectures, where you could have hundreds of microservices (containers) running.</span></span> <span data-ttu-id="8890a-141">透過 Linux 或 Windows Nano 上的 ASP.NET Core 映像 (以 .NET Core 執行階段為基礎)，您可以大幅減少伺服器或 VM 的數量來執行系統，最終節省基礎架構和託管的成本。</span><span class="sxs-lookup"><span data-stu-id="8890a-141">With ASP.NET Core images (based on the .NET Core runtime) on Linux or Windows Nano, you can run your system with a much lower number of servers or VMs, ultimately saving costs in infrastructure and hosting.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="8890a-142">[上一頁](general-guidance.md)
>[下一頁](net-framework-container-scenarios.md)</span><span class="sxs-lookup"><span data-stu-id="8890a-142">[Previous](general-guidance.md)
[Next](net-framework-container-scenarios.md)</span></span>
