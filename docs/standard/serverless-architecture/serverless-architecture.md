---
title: 無伺服器架構-無伺服器應用程式
description: 探勘的各種架構和支援的無伺服器架構，包括 web 應用程式、 行動和 IoT 應用程式。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 60d225d9794d5c15b0cd8e42800ccad4d7872756
ms.sourcegitcommit: c6f69b0cf149f6b54483a6d5c2ece222913f43ce
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/08/2019
ms.locfileid: "55904786"
---
# <a name="serverless-architecture"></a>無伺服器架構

若要使用的許多方式[無伺服器](http://azure.com/serverless)架構。 本章將探討整合無伺服器的一般架構的範例。 其中也涵蓋可能會造成額外的挑戰，或需要額外的考量，實作無伺服器時的考量。 最後，說明不同的無伺服器的使用案例提供了數個設計範例。

無伺服器的主機通常使用現有的容器型或 PaaS 層，用於管理無伺服器執行個體。 例如，Azure Functions 會根據[Azure App Service](https://docs.microsoft.com/azure/app-service/)。 App Service 用來相應放大執行個體，並管理執行 Azure Functions 程式碼的執行階段。 對於以 Windows 為基礎的函式，做為 PaaS 和標尺的主控件執行 out.NET 執行階段。 針對以 Linux 為基礎的函式，主機會運用容器。

![Azure Functions 架構](./media/azure-functions-architecture.png)

WebJobs 核心提供函式的執行內容。 Language Runtime 會執行指令碼、 執行程式庫和裝載目標語言的架構。 例如，執行 JavaScript 函式使用 Node.js 和.NET Framework 用來執行 C# 函式。 您將了解在本章稍後的語言及平台選項的詳細資訊。

有些專案可能會受益於採取無伺服器的 「 全 」 方法。 高度依賴微服務的應用程式可能會實作使用無伺服器技術的所有微服務。 遵循多層式架構設計的彙總，並使用無伺服器元件的意義，因為元件是模組化且獨立的可調整混合式，就大部分的應用程式。 為了協助這些案例的意義，本節逐步解說一些常見的架構範例，使用無伺服器。

## <a name="full-serverless-back-end"></a>完整的無伺服器的後端

完整的無伺服器的後端是適用於數種類型的情況下，尤其是當新的建置或 「 綠色欄位 」 應用程式。 介面區較大型的 Api 的應用程式可能會受益於實作無伺服器函式的每個 API。 微服務架構為基礎的應用程式是可能會實作為完整的無伺服器的後端的另一個範例。 微服務會透過各種不同的通訊協定彼此通訊。 特定的案例包括：

* 以 API 為基礎的 SaaS 產品 (範例： 財務付款處理器)。
* 訊息驅動的應用程式 (範例： 監視解決方案的裝置)。
* 應用程式著重在服務之間的整合 (範例： 航空公司預約應用程式)。
* 定期執行的處理序 (範例： 以計時器為基礎的資料庫清除工作)。
* 應用程式著重在資料轉換 (範例： 檔案上傳所觸發的匯入)。
* 擷取轉換和載入 (ETL) 程序。

有本文件稍後所述的其他更明確的使用案例。

## <a name="monoliths-and-starving-the-beast"></a>單一的體系並 「 佔用野獸"

常見的挑戰移轉現有的單體式應用程式到雲端。 至少風險的方法是 「 隨即轉移 」 到虛擬機器完全。 許多公司偏好使用移轉的機會，要現代化其程式碼基底。 實用的方法，移轉至稱為"匱乏野獸"。 在此案例中，「 現狀 」，移轉單體開始。 然後，選取的服務被現代化。 在某些情況下，服務的簽章是等同原始： 它只裝載為函式。 用戶端已更新為使用新的服務，而不是單體端點。 在過渡時期，例如資料庫複寫的步驟，讓微服務來裝載他們自己的儲存體，即使交易仍會由單體。 最後，所有用戶端會移轉到新的服務。 單體會 「 耗盡"（其不會再呼叫服務） 之前的所有功能已被都取代。 組合無伺服器和 proxy 能便利在大部分的這項移轉。

![無伺服器的單體移轉](./media/serverless-monolith-migration.png)

若要深入了解此方法，觀看影片：[將應用程式帶至雲端，無伺服器 Azure Functions](https://channel9.msdn.com/Events/Connect/2017/E102)。

## <a name="web-apps"></a>Web 應用程式

Web 應用程式是無伺服器應用程式的最佳候選項目。 有兩種常見的方法，web 應用程式的立即： 伺服器驅動和用戶端導向 （例如單一頁面應用程式或 SPA）。 伺服器導向的 web 應用程式通常會使用發出 API 呼叫來呈現的 web UI 的中介軟體層。 SPA 應用程式進行 REST API 呼叫，直接從瀏覽器。 在這兩種情況下，無伺服器可容納的中介軟體或 REST API 要求藉由提供所需的商務邏輯。 常見的架構是輕量型的靜態網頁伺服器，就能。 單一頁面應用程式 (SPA) 是 HTML、 CSS、 JavaScript 和其他瀏覽器的資產。 Web 應用程式接著連接到微服務的後端。

## <a name="mobile-back-ends"></a>行動後端

事件驅動架構的無伺服器應用程式使其適合行動後端。 行動裝置就會觸發事件並無伺服器程式碼執行來滿足要求。 利用無伺服器的模型，可讓開發人員增強商務邏輯，而不需部署完整的應用程式更新。 無伺服器的方法也可讓小組共用端點，並以平行方式運作。

行動裝置開發人員可以建置商務邏輯，而不成為在伺服器端的專家。 傳統上，行動裝置應用程式連接至內部部署服務。 建置服務層時，需要了解伺服器平台和程式設計架構。 開發人員已經盡力佈建伺服器，並適當地設定它們的作業。 有時候天或甚至數週花費在建置部署管線。 透過無伺服器，所有這些挑戰都能迎刃而解。

無伺服器會提取伺服器端相依性，並可讓開發人員專注於商務邏輯。 例如，行動裝置的開發人員使用 JavaScript 架構的應用程式可以建置無伺服器函式使用 JavaScript。 無伺服器的主機管理作業系統來裝載程式碼、 封裝相依性，以及更多的 Node.js 執行個體。 開發人員提供一組簡單的輸入和標準範本的輸出。 他們接著可以專注於建置和測試商務邏輯。 它們是因此能夠使用現有的技能來建置行動應用程式的後端邏輯，而不需要了解新的平台，或成為 「 伺服器端開發人員 」。

![無伺服器行動後端](./media/serverless-mobile-backend.png)

大部分雲端提供者會提供以行動為基礎的無伺服器產品，以簡化整個行動裝置開發生命週期。 產品可以自動化佈建的資料庫來保存資料、 處理 DevOps 考量、 提供雲端式建置和測試架構和指令碼使用開發人員的商務程序的能力的慣用語言。 遵循行動中心的無伺服器方法可以簡化程序。 無伺服器移除佈建、 設定和維護伺服器行動後端的巨大額外負荷。

## <a name="internet-of-things-iot"></a>物聯網 (IoT)

IoT 是指透過網路連接在一起的實體物件。 它們是有時稱為 「 已連線的裝置 」 或 「 智慧型裝置 」。 從汽車和販賣的所有項目可能有連線，並將資訊從清查範圍，例如溫度和溼度感應器資料傳送。 在企業中，IoT 會提供透過監視和自動化商務程序改進。 可用來管理大型資料倉儲中的氣候或追蹤庫存透過供應鏈設定了 IoT 資料。 IoT 可以感測化學溢出和煙霧偵測到時呼叫的消防部門。

大量裝置與資訊通常會指出事件驅動架構路由和處理程序的訊息。 無伺服器有幾個原因是一個理想的解決方案：

* 可調整的磁碟區的裝置和資料增加而增加。
* 適用於加入新的端點，以支援新的裝置與感應器。
* 讓開發人員可以更新特定裝置的商務邏輯，而不需部署整個系統，可協助獨立的版本設定。
* 恢復功能並減少停機時間。

IoT 普遍性導致數個無伺服器的產品，將特別著重在 IoT 考量，這類[Azure IoT 中樞](https://docs.microsoft.com/azure/iot-hub)。 無伺服器會自動執行工作，例如裝置註冊、 原則強制執行、 追蹤和甚至是部署到在裝置的程式碼*邊緣*。 邊緣是指例如感應器和傳動器要連線，但非作用中的一部分，網際網路的裝置。

>[!div class="step-by-step"]
>[上一頁](architecture-approaches.md)
>[下一頁](serverless-architecture-considerations.md)
