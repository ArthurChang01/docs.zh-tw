---
title: 將使用 WIF 3.5 建置的應用程式移轉至 WIF 4.5 的方針
ms.date: 03/30/2017
ms.assetid: 7a32fe6e-5f68-4693-9371-19411fa8063c
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: 60e9dd96824b2c9bef81d236bab8f577f9fb2062
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/04/2018
ms.locfileid: "33399292"
---
# <a name="guidelines-for-migrating-an-application-built-using-wif-35-to-wif-45"></a><span data-ttu-id="69f98-102">將使用 WIF 3.5 建置的應用程式移轉至 WIF 4.5 的方針</span><span class="sxs-lookup"><span data-stu-id="69f98-102">Guidelines for Migrating an Application Built Using WIF 3.5 to WIF 4.5</span></span>
## <a name="applies-to"></a><span data-ttu-id="69f98-103">適用於</span><span class="sxs-lookup"><span data-stu-id="69f98-103">Applies To</span></span>  
  
-   <span data-ttu-id="69f98-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 和 4.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-104">Microsoft® Windows® Identity Foundation (WIF) 3.5 and 4.5.</span></span>  
  
## <a name="overview"></a><span data-ttu-id="69f98-105">總覽</span><span class="sxs-lookup"><span data-stu-id="69f98-105">Overview</span></span>  
 <span data-ttu-id="69f98-106">Windows Identity Foundation (WIF) 一開始發行於 .NET 3.5 SP1 時間範圍內。</span><span class="sxs-lookup"><span data-stu-id="69f98-106">Windows Identity Foundation (WIF) was originally released in the .NET 3.5 SP1 timeframe.</span></span> <span data-ttu-id="69f98-107">該版 WIF 稱為 WIF 3.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-107">That version of WIF is referred to as WIF 3.5.</span></span> <span data-ttu-id="69f98-108">它已發行為個別執行階段和 SDK，表示已在其上執行具 WIF 功能之應用程式的每部電腦都必須已安裝 WIF 執行階段，而且開發人員必須下載並安裝 WIF SDK，以取得已啟用具 WIF 功能之應用程式開發的 Visual Studio 範本和工具。</span><span class="sxs-lookup"><span data-stu-id="69f98-108">It was released as a separate runtime and SDK, which meant that every computer on which a WIF-enabled application ran had to have the WIF runtime installed and developers had to download and install the WIF SDK to get the Visual Studio templates and tooling that enabled development of WIF-enabled applications.</span></span> <span data-ttu-id="69f98-109">從 .NET 4.5 開始，WIF 已與 .NET Framework 完全整合。</span><span class="sxs-lookup"><span data-stu-id="69f98-109">Beginning with .NET 4.5, WIF has been fully integrated into the .NET Framework.</span></span> <span data-ttu-id="69f98-110">不再需要個別執行階段，而且可以使用 Visual Studio 延伸模組管理員將 WIF 工具安裝在 Visual Studio 2012 中。</span><span class="sxs-lookup"><span data-stu-id="69f98-110">A separate runtime is no longer needed and the WIF tooling can be installed in Visual Studio 2012 by using the Visual Studio Extensions Manager.</span></span> <span data-ttu-id="69f98-111">這版 WIF 稱為 WIF 4.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-111">This version of WIF is referred to as WIF 4.5.</span></span>  
  
 <span data-ttu-id="69f98-112">將 WIF 整合至 .NET 需要 WIF API 介面中的數項變更。</span><span class="sxs-lookup"><span data-stu-id="69f98-112">The integration of WIF into .NET necessitated several changes in the WIF API surface.</span></span> <span data-ttu-id="69f98-113">WIF 4.5 包含 Visual Studio 的新命名空間、一些組態項目變更和新工具。</span><span class="sxs-lookup"><span data-stu-id="69f98-113">WIF 4.5 includes new namespaces, some changes to configuration elements, and new tooling for Visual Studio.</span></span> <span data-ttu-id="69f98-114">本主題所提供的指引可用來協助您將使用 WIF 3.5 所建置的應用程式移轉至 WIF 4.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-114">This topic provides guidance that you can use to help you migrate applications built using WIF 3.5 to WIF 4.5.</span></span> <span data-ttu-id="69f98-115">在某些情況下，您需要在執行 Windows 8 或 Windows Server 2012 的電腦上執行使用 WIF 3.5 所建置的舊版應用程式。</span><span class="sxs-lookup"><span data-stu-id="69f98-115">There may be scenarios in which you need to run legacy applications built using WIF 3.5 on computers that are running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="69f98-116">本主題也提供如何啟用這些作業系統之 WIF 3.5 的指引。</span><span class="sxs-lookup"><span data-stu-id="69f98-116">This topic also provides guidance about how to enable WIF 3.5 for these operating systems.</span></span>  
  
## <a name="changes-required-for-wif-45"></a><span data-ttu-id="69f98-117">WIF 4.5 所需的變更</span><span class="sxs-lookup"><span data-stu-id="69f98-117">Changes Required for WIF 4.5</span></span>  
 <span data-ttu-id="69f98-118">本節描述將 WIF 3.5 應用程式移轉至 WIF 4.5 所需的變更。</span><span class="sxs-lookup"><span data-stu-id="69f98-118">This section describes the changes that are required to migrate a WIF 3.5 application to WIF 4.5.</span></span>  
  
### <a name="assembly-and-namespace-changes"></a><span data-ttu-id="69f98-119">組件和命名空間變更</span><span class="sxs-lookup"><span data-stu-id="69f98-119">Assembly and Namespace Changes</span></span>  
 <span data-ttu-id="69f98-120">在 WIF 3.5 中，所有 WIF 類別都已包含在 `Microsoft.IdentityModel` 組件 (microsoft.identitymicrosoft.identitymodel.dll) 中。</span><span class="sxs-lookup"><span data-stu-id="69f98-120">In WIF 3.5, all of the WIF classes were contained in the `Microsoft.IdentityModel` assembly (microsoft.identitymicrosoft.identitymodel.dll).</span></span> <span data-ttu-id="69f98-121">在 WIF 4.5 中，WIF 類別已分成下列組件：`mscorlib`(mscorlib.dll)、`System.IdentityModel` (System.IdentityModel.dll)、`System.IdentityModel.Services` (System.IdentityModel.Services.dll) 和 `System.ServiceModel` (System.ServiceModel.dll)。</span><span class="sxs-lookup"><span data-stu-id="69f98-121">In WIF 4.5, the WIF classes have been split across the following assemblies: `mscorlib` (mscorlib.dll), `System.IdentityModel` (System.IdentityModel.dll), `System.IdentityModel.Services` (System.IdentityModel.Services.dll), and `System.ServiceModel` (System.ServiceModel.dll).</span></span>  
  
 <span data-ttu-id="69f98-122">WIF 3.5 類別全部包含在其中一個 `Microsoft.IdentityModel` 命名空間中；例如，`Microsoft.IdentityModel`、`Microsoft.IdentityModel.Tokens`、`Microsoft.IdentityModel.Web` 等等。</span><span class="sxs-lookup"><span data-stu-id="69f98-122">The WIF 3.5 classes were all contained in one of the `Microsoft.IdentityModel` namespaces; for example, `Microsoft.IdentityModel`, `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Web`, and so on.</span></span> <span data-ttu-id="69f98-123">在 WIF 4.5 中，WIF 類別現在會散佈到 [System.IdentityModel](http://go.microsoft.com/fwlink/?LinkId=272004) 命名空間、<xref:System.Security.Claims?displayProperty=nameWithType> 命名空間和 <xref:System.ServiceModel.Security?displayProperty=nameWithType> 命名空間。</span><span class="sxs-lookup"><span data-stu-id="69f98-123">In WIF 4.5, the WIF classes are now spread across the [System.IdentityModel](http://go.microsoft.com/fwlink/?LinkId=272004) namespaces, the <xref:System.Security.Claims?displayProperty=nameWithType> namespace, and the <xref:System.ServiceModel.Security?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="69f98-124">除了這項重組之外，WIF 4.5 中已卸除一些 WIF 3.5 類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-124">In addition to this reorganization, some WIF 3.5 classes have been dropped in WIF 4.5.</span></span>  
  
 <span data-ttu-id="69f98-125">下表顯示一些更重要的 WIF 4.5 命名空間以及它們所含的類別類型。</span><span class="sxs-lookup"><span data-stu-id="69f98-125">The following table shows some of the more important WIF 4.5 namespaces and the kind of classes they contain.</span></span> <span data-ttu-id="69f98-126">如需 WIF 3.5 與 WIF 4.5 間之命名空間對應方式以及已在 WIF 4.5 中卸除之命名空間和類別的詳細資訊，請參閱 [WIF 3.5 和 WIF 4.5 之間的命名空間對應](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)。</span><span class="sxs-lookup"><span data-stu-id="69f98-126">For more detailed information about how namespaces map between WIF 3.5 and WIF 4.5 and about namespaces and classes that have been dropped in WIF 4.5, see [Namespace Mapping between WIF 3.5 and WIF 4.5](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md).</span></span>  
  
|<span data-ttu-id="69f98-127">WIF 4.5 命名空間</span><span class="sxs-lookup"><span data-stu-id="69f98-127">WIF 4.5 Namespace</span></span>|<span data-ttu-id="69f98-128">描述</span><span class="sxs-lookup"><span data-stu-id="69f98-128">Description</span></span>|  
|-----------------------|-----------------|  
|<xref:System.IdentityModel?displayProperty=nameWithType>|<span data-ttu-id="69f98-129">包含的類別代表 Cookie 轉換、安全性權杖服務，以及特定的 XML 字典讀取器。</span><span class="sxs-lookup"><span data-stu-id="69f98-129">Contains classes that represent cookie transforms, security token services, and specialized XML dictionary readers.</span></span> <span data-ttu-id="69f98-130">包含下列 WIF 3.5 命名空間中的類別：`Microsoft.IdentityModel`、`Microsoft.IdentityModel.SecurityTokenService` 和 `Microsoft.IdentityModel.Threading`。</span><span class="sxs-lookup"><span data-stu-id="69f98-130">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel`, `Microsoft.IdentityModel.SecurityTokenService`, and `Microsoft.IdentityModel.Threading`.</span></span>|  
|<xref:System.Security.Claims?displayProperty=nameWithType>|<span data-ttu-id="69f98-131">包含的類別代表宣告、宣告式身分識別、宣告式主體，以及其他宣告式身分識別模型成品。</span><span class="sxs-lookup"><span data-stu-id="69f98-131">Contains classes that represent claims, claims-based identities, claims based principals, and other claims based identity model artifacts.</span></span> <span data-ttu-id="69f98-132">包含 `Microsoft.IdentityModel.Claims` 命名空間中的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-132">Contains classes from the `Microsoft.IdentityModel.Claims` namespace.</span></span>|  
|<xref:System.IdentityModel.Tokens?displayProperty=nameWithType>|<span data-ttu-id="69f98-133">包含的類別代表安全性權杖、安全性權杖處理常式，以及其他安全性權杖成品。</span><span class="sxs-lookup"><span data-stu-id="69f98-133">Contains classes that represent security tokens, security token handlers, and other security token artifacts.</span></span> <span data-ttu-id="69f98-134">包含下列 WIF 3.5 命名空間中的類別：`Microsoft.IdentityModel.Tokens`、`Microsoft.IdentityModel.Tokens.Saml11` 和 `Microsoft.IdentityModel.Tokens.Saml2`。</span><span class="sxs-lookup"><span data-stu-id="69f98-134">Contains classes from the following WIF 3.5 namespaces: `Microsoft.IdentityModel.Tokens`, `Microsoft.IdentityModel.Tokens.Saml11`, and `Microsoft.IdentityModel.Tokens.Saml2`.</span></span>|  
|<xref:System.IdentityModel.Services?displayProperty=nameWithType>|<span data-ttu-id="69f98-135">包含的類別用於被動 (WS-同盟) 案例。</span><span class="sxs-lookup"><span data-stu-id="69f98-135">Contains classes that are used in passive (WS-Federation) scenarios.</span></span> <span data-ttu-id="69f98-136">包含 `Microsoft.IdentityModel.Web` 命名空間中的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-136">Contains classes from the `Microsoft.IdentityModel.Web` namespace.</span></span>|  
|<xref:System.ServiceModel.Security?displayProperty=nameWithType>|<span data-ttu-id="69f98-137">類別代表 WCF 合約、通道、服務主機，以及主動 (WS-Trust) 案例中使用的其他成品，並且現在位在此命名空間中。</span><span class="sxs-lookup"><span data-stu-id="69f98-137">Classes that represent WCF contracts, channels, service hosts and other artifacts that are used in active (WS-Trust) scenarios are now in this namespace.</span></span> <span data-ttu-id="69f98-138">在 WIF 3.5 中，這些類別位在 `Microsoft.IdentityModel.Protocols.WSTrust` 命名空間中。</span><span class="sxs-lookup"><span data-stu-id="69f98-138">In WIF 3.5 , these classes were in the `Microsoft.IdentityModel.Protocols.WSTrust` namespace.</span></span>|  
  
> [!IMPORTANT]
>  <span data-ttu-id="69f98-139">下列 `System.IdentityModel` 命名空間包含的類別可實作 WCF 宣告式身分識別模型：<xref:System.IdentityModel.Claims?displayProperty=nameWithType>、<xref:System.IdentityModel.Policy?displayProperty=nameWithType> 和 <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="69f98-139">The following `System.IdentityModel` namespaces contain classes that implement the WCF claims-based identity model: <xref:System.IdentityModel.Claims?displayProperty=nameWithType>, <xref:System.IdentityModel.Policy?displayProperty=nameWithType>, and <xref:System.IdentityModel.Selectors?displayProperty=nameWithType>.</span></span> <span data-ttu-id="69f98-140">WIF 已取代 WCF 宣告式識別模型。</span><span class="sxs-lookup"><span data-stu-id="69f98-140">The WCF claims-based identity model is superseded by WIF.</span></span> <span data-ttu-id="69f98-141">在建置以 WIF 為基礎的解決方案時，您不應該使用這三個命名空間中的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-141">You should not use classes in these three namespaces when building solutions based on WIF.</span></span>  
  
### <a name="changes-due-to-net-integration"></a><span data-ttu-id="69f98-142">.NET 整合所造成的變更</span><span class="sxs-lookup"><span data-stu-id="69f98-142">Changes Due to .NET Integration</span></span>  
 <span data-ttu-id="69f98-143">WIF 現在已整合至 .NET Framework。</span><span class="sxs-lookup"><span data-stu-id="69f98-143">WIF is now integrated into the .NET Framework.</span></span> <span data-ttu-id="69f98-144">大部分 .NET 身分識別和主體類別現在衍生自 <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> 和 <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="69f98-144">Most .NET identity and principal classes now derive from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>.</span></span> <span data-ttu-id="69f98-145">WIF 4.5 中下列變更的結果：</span><span class="sxs-lookup"><span data-stu-id="69f98-145">The results in the following changes in WIF 4.5:</span></span>  
  
-   <span data-ttu-id="69f98-146">代表宣告、身分識別和主體的 WIF 類別現在存在於 <xref:System.Security.Claims?displayProperty=nameWithType> 命名空間中。</span><span class="sxs-lookup"><span data-stu-id="69f98-146">WIF classes that represent claims, identities, and principals now exist in the <xref:System.Security.Claims?displayProperty=nameWithType> namespace.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="69f98-147"><xref:System.IdentityModel.Claims?displayProperty=nameWithType> 命名空間所含的類別代表 WCF 宣告式身分識別模型中的成品。</span><span class="sxs-lookup"><span data-stu-id="69f98-147">The <xref:System.IdentityModel.Claims?displayProperty=nameWithType> namespace contains classes that represent artifacts in the WCF claims-based identity model.</span></span> <span data-ttu-id="69f98-148">其中許多類別的名稱都與 WIF 類別相同；例如，`Claims`。</span><span class="sxs-lookup"><span data-stu-id="69f98-148">Many of these classes have names that are the same as WIF classes; for example, `Claims`.</span></span> <span data-ttu-id="69f98-149">以 WIF 為基礎建置解決方案時，請不要使用這些類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-149">Do not use these classes when building solutions based on WIF.</span></span>  
  
-   <span data-ttu-id="69f98-150">.NET 身分識別和主體類別現在直接衍生自 <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> 和 <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>，其代表宣告式身分識別和主體。</span><span class="sxs-lookup"><span data-stu-id="69f98-150">.NET identity and principal classes now derive directly from <xref:System.Security.Claims.ClaimsIdentity?displayProperty=nameWithType> and <xref:System.Security.Claims.ClaimsPrincipal?displayProperty=nameWithType>, which represent claims-based identities and principals.</span></span> <span data-ttu-id="69f98-151">基於這個原因，不再需要 WIF 3.5 介面 `IClaimsIdentity` 和 `IClaimsPrincipal`，而且 WIF 4.5 中不再提供它們。</span><span class="sxs-lookup"><span data-stu-id="69f98-151">For this reason, the WIF 3.5 interfaces `IClaimsIdentity` and `IClaimsPrincipal` are no longer needed and are not available in WIF 4.5.</span></span>  
  
-   <span data-ttu-id="69f98-152">因為 <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> 和 <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> 這類 .NET 身分識別和主體類別現在衍生自 <xref:System.Security.Claims.ClaimsIdentity> 和 <xref:System.Security.Claims.ClaimsPrincipal>，所以已內建宣告功能。</span><span class="sxs-lookup"><span data-stu-id="69f98-152">Because.NET identity and principal classes such as <xref:System.Security.Principal.WindowsIdentity?displayProperty=nameWithType> and <xref:System.Security.Principal.WindowsPrincipal?displayProperty=nameWithType> now derive from <xref:System.Security.Claims.ClaimsIdentity> and <xref:System.Security.Claims.ClaimsPrincipal>, they have claims functionality built-in.</span></span> <span data-ttu-id="69f98-153">基於這個原因，不再需要 WIF 3.5 中的宣告特定身分識別和主體類別 (例如 `WindowsClaimsIdentity` 和 `WindowsClaimsPrincipal`)，而且 WIF 4.5 中沒有它們。</span><span class="sxs-lookup"><span data-stu-id="69f98-153">For this reason, claims-specific identity and principal classes such as `WindowsClaimsIdentity` and `WindowsClaimsPrincipal` that were present in WIF 3.5 are no longer needed and do not exist in WIF 4.5.</span></span>  
  
### <a name="other-changes-to-wif-functionality"></a><span data-ttu-id="69f98-154">其他 WIF 功能變更</span><span class="sxs-lookup"><span data-stu-id="69f98-154">Other Changes to WIF Functionality</span></span>  
 <span data-ttu-id="69f98-155">除了命名空間變更以及與 .NET 整合所造成的變更之外，WIF 4.5 中也會發生下列一般 WIF 功能變更。</span><span class="sxs-lookup"><span data-stu-id="69f98-155">In addition to the namespace changes and the changes due to integration with .NET, the following general changes to WIF functionality occur in WIF 4.5.</span></span>  
  
-   <span data-ttu-id="69f98-156">已移除 `Microsoft.IdentityModel.ExceptionMapper` 類別，而此類別所提供的功能可讓您將例外狀況對應至特定 SOAP 錯誤。</span><span class="sxs-lookup"><span data-stu-id="69f98-156">The `Microsoft.IdentityModel.ExceptionMapper` class, which provided functionality that enabled you to map exceptions to specific SOAP Faults, is removed.</span></span>  
  
-   <span data-ttu-id="69f98-157">已經大幅降低例外狀況介面。</span><span class="sxs-lookup"><span data-stu-id="69f98-157">The exception surface has been greatly reduced.</span></span>  
  
-   <span data-ttu-id="69f98-158">已移除許多已定義通訊協定或 WS-\* 特定常數的類別；例如，已定義 WS-Addressing 1.0 相關常數的 `Microsoft.IdentityModel.WSAddressing10Constants` 類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-158">Many of the classes that defined protocol or WS-\* specific constants have been removed; for example, the `Microsoft.IdentityModel.WSAddressing10Constants` class, which defined constants related to WS-Addressing 1.0.</span></span>  
  
-   <span data-ttu-id="69f98-159">已移除 `Microsoft.IdentityModel.WindowsTokenService` 命名空間中的「對 Windows 權杖服務的宣告 (c2wts)」和其關聯的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-159">The Claims to Windows Token Service (c2wts) and its associated classes in the `Microsoft.IdentityModel.WindowsTokenService` namespace are removed.</span></span>  
  
### <a name="wif-configuration-changes"></a><span data-ttu-id="69f98-160">WIF 組態變更</span><span class="sxs-lookup"><span data-stu-id="69f98-160">WIF Configuration Changes</span></span>  
 <span data-ttu-id="69f98-161">在 WIF 4.5 中，命名空間更新已造成組態檔中的許多變更。</span><span class="sxs-lookup"><span data-stu-id="69f98-161">Many of the changes in the configuration file have been caused by namespace updates in WIF 4.5.</span></span> <span data-ttu-id="69f98-162">例如，請考慮在 `<httpModules>` 區段中使用下列 WIF 3.5 項目，以將 WS-同盟驗證管理員新增至應用程式：</span><span class="sxs-lookup"><span data-stu-id="69f98-162">For example, consider the following WIF 3.5 entry in the `<httpModules>` section to add the WS-Federation Authentication Manager to an application:</span></span>  
  
```xml  
<add name="WSFederationAuthenticationModule" type="Microsoft.IdentityModel.Web.WSFederationAuthenticationModule, Microsoft.IdentityModel, Version=3.5.0.0, Culture=neutral, PublicKeyToken=abcd … 5678" />  
```  
  
 <span data-ttu-id="69f98-163">WIF 4.5 中已將此項目更新成包含新的命名空間和組件版本：</span><span class="sxs-lookup"><span data-stu-id="69f98-163">This entry has been updated in WIF 4.5 to include the new namespaces and assembly version:</span></span>  
  
```xml  
<add name="WSFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=abcd … 5678"/>  
```  
  
 <span data-ttu-id="69f98-164">下列清單列舉 WIF 4.5 組態檔的主要變更。</span><span class="sxs-lookup"><span data-stu-id="69f98-164">The following list enumerates the major changes to the configuration file for WIF 4.5.</span></span>  
  
-   <span data-ttu-id="69f98-165">`<microsoft.identityModel>` 區段現在是 [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) 區段。</span><span class="sxs-lookup"><span data-stu-id="69f98-165">The `<microsoft.identityModel>` section is now the [\<system.identityModel>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel.md) section.</span></span>  
  
-   <span data-ttu-id="69f98-166">`<service>` 項目現在是 [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) 項目。</span><span class="sxs-lookup"><span data-stu-id="69f98-166">The `<service>` element is now the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element.</span></span>  
  
-   <span data-ttu-id="69f98-167">已新增區段 [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md)，指定可控制被動 (WS-同盟) 案例中行為的設定。</span><span class="sxs-lookup"><span data-stu-id="69f98-167">A new section, [\<system.identityModel.services>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md), has been added to specify settings that control behavior in passive (WS-Federation) scenarios.</span></span>  
  
-   <span data-ttu-id="69f98-168">[\<federationConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) 項目和其子項目已從 WIF 3.5 中的 `<service>` 項目移至新的 `<system.identityModel.services>` 項目。</span><span class="sxs-lookup"><span data-stu-id="69f98-168">The [\<federationConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) element and its child elements have been moved from the `<service>` element in WIF 3.5 to the new `<system.identityModel.services>` element .</span></span>  
  
-   <span data-ttu-id="69f98-169">可直接在 WIF 3.5 的 `<service>` 項目下的服務層級指定的數個項目，已限制為指定於 [\<securityTokenHandlerConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) 項目下方</span><span class="sxs-lookup"><span data-stu-id="69f98-169">Several elements that could be specified at the service-level directly under the `<service>` element in WIF 3.5 have been restricted to being specified under the [\<securityTokenHandlerConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlerconfiguration.md) element.</span></span> <span data-ttu-id="69f98-170">(基於回溯相容性，它們可能仍然指定於 WIF 4.5 的 [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) 項目下方)。</span><span class="sxs-lookup"><span data-stu-id="69f98-170">(They may still be specified under the [\<identityConfiguration>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element in WIF 4.5 for backward compatibility.)</span></span>  
  
 <span data-ttu-id="69f98-171">如需 WIF 4.5 組態項目的完整清單，請參閱 [WIF 組態結構描述](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md)。</span><span class="sxs-lookup"><span data-stu-id="69f98-171">For a complete list of the WIF 4.5 configuration elements, see [WIF Configuration Schema](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md).</span></span>  
  
### <a name="visual-studio-tooling-changes"></a><span data-ttu-id="69f98-172">Visual Studio 工具變更</span><span class="sxs-lookup"><span data-stu-id="69f98-172">Visual Studio Tooling Changes</span></span>  
 <span data-ttu-id="69f98-173">WIF 3.5 SDK 已提供獨立同盟公用程式 FedUtil.exe (FedUtil)，可用來將具 WIF 功能之應用程式中的身分識別管理外包到安全性權杖服務 (STS)。</span><span class="sxs-lookup"><span data-stu-id="69f98-173">The WIF 3.5 SDK offered a stand-alone federation utility, FedUtil.exe (FedUtil), that you could use to outsource identity management in WIF-enabled applications to a security token service (STS).</span></span> <span data-ttu-id="69f98-174">此工具已在應用程式組態檔中新增 WIF 設定，以讓應用程式從一或多個 STS 取得安全性權杖，並透過 [Add STS Service Reference] \(新增 STS 服務參考)  按鈕呈現在 Visual Studio 中。</span><span class="sxs-lookup"><span data-stu-id="69f98-174">This tool added WIF settings to the application configuration file to enable the application to get security tokens from one or more STSs, and was surfaced in Visual Studio through the **Add STS Service Reference** button.</span></span> <span data-ttu-id="69f98-175">FedUtil 未隨附於 WIF 4.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-175">FedUtil does not ship with WIF 4.5.</span></span> <span data-ttu-id="69f98-176">相反地，WIF 4.5 支援名為「Visual Studio 2012 的身分識別和存取工具」的新 Visual Studio 延伸模組，用來使用將身分識別管理外包到 STS 所需的 WIF 設定來修改應用程式組態檔。</span><span class="sxs-lookup"><span data-stu-id="69f98-176">Instead, WIF 4.5 supports a new Visual Studio extension named the Identity and Access Tool for Visual Studio 2012 that you can use to modify your application’s configuration file with the WIF settings required to outsource identity management to an STS.</span></span> <span data-ttu-id="69f98-177">身分識別和存取工具也會實作稱為「本機 STS」的 STS，以用來測試具 WIF 功能的應用程式。</span><span class="sxs-lookup"><span data-stu-id="69f98-177">The Identity and Access Tool also implements an STS called Local STS that you can use to test your WIF-enabled applications.</span></span> <span data-ttu-id="69f98-178">在許多情況下，這項功能都不需要建置自訂 STS，而這些自訂 STS 通常是 WIF 3.5 中測試開發中解決方案的必要項目。</span><span class="sxs-lookup"><span data-stu-id="69f98-178">In many cases, this feature obviates the need to build custom STSs that were often necessary in WIF 3.5 to test solutions under development.</span></span> <span data-ttu-id="69f98-179">基於這個原因，Visual Studio 2012 中不再支援 STS 範本；不過，WIF 4.5 仍然支援開發 STS 的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-179">For this reason, the STS templates are no longer supported in Visual Studio 2012; however, the classes that support the development of STSs are still available in WIF 4.5.</span></span>  
  
 <span data-ttu-id="69f98-180">您可以從 Visual Studio 的延伸模組和更新管理員中安裝身分識別和存取工具，也可以從 Code Gallery 的下列頁面下載它：[Code Gallery 上的 Visual Studio 2012 的身分識別和存取工具](http://go.microsoft.com/fwlink/?LinkID=245849)。</span><span class="sxs-lookup"><span data-stu-id="69f98-180">You can install the Identity and Access Tool from the Extensions and Updates Manager in Visual Studio or you can download it from the following page on Code Gallery: [Identity and Access Tool for Visual Studio 2012 on Code Gallery](http://go.microsoft.com/fwlink/?LinkID=245849).</span></span> <span data-ttu-id="69f98-181">下列清單摘要說明 Visual Studio 工具變更：</span><span class="sxs-lookup"><span data-stu-id="69f98-181">The Visual Studio tooling changes are summarized in the following list:</span></span>  
  
-   <span data-ttu-id="69f98-182">已移除 [Add STS Service Reference] \(新增 STS 服務參考) 功能。</span><span class="sxs-lookup"><span data-stu-id="69f98-182">The Add STS Service Reference functionality is removed.</span></span> <span data-ttu-id="69f98-183">取代項目是身分識別和存取工具。</span><span class="sxs-lookup"><span data-stu-id="69f98-183">The replacement is the Identity and Access Tool.</span></span>  
  
-   <span data-ttu-id="69f98-184">已移除 Visual Studio STS 範本。</span><span class="sxs-lookup"><span data-stu-id="69f98-184">The Visual Studio STS templates are removed.</span></span> <span data-ttu-id="69f98-185">您可以使用透過身分識別和存取工具取得的「本機 STS」來設定您使用 WIF 所開發的身分識別解決方案。</span><span class="sxs-lookup"><span data-stu-id="69f98-185">You can use the Local STS that is available through the Identity and Access Tool to test identity solutions that you develop with WIF.</span></span> <span data-ttu-id="69f98-186">「本機 STS」組態可以修改成自訂它所提供的宣告。</span><span class="sxs-lookup"><span data-stu-id="69f98-186">The Local STS configuration can be modified to customize the claims that it serves.</span></span>  
  
-   <span data-ttu-id="69f98-187">WIF 4.5 不再提供獨立同盟公用程式 (FedUtil)。</span><span class="sxs-lookup"><span data-stu-id="69f98-187">The stand-alone Federation Utility (FedUtil) is not available in WIF 4.5.</span></span> <span data-ttu-id="69f98-188">您可以使用身分識別和存取工具來修改組態檔，以將身分識別管理外包到 STS。</span><span class="sxs-lookup"><span data-stu-id="69f98-188">You can use the Identity and Access Tool to modify your configuration files to outsource identity management to an STS.</span></span>  
  
 <span data-ttu-id="69f98-189">如需身分識別和存取工具的詳細資訊，請參閱 [Visual Studio 2012 的身分識別和存取工具](../../../docs/framework/security/identity-and-access-tool-for-vs.md)。</span><span class="sxs-lookup"><span data-stu-id="69f98-189">For more information about the Identity and Access Tool, see [Identity and Access Tool for Visual Studio 2012](../../../docs/framework/security/identity-and-access-tool-for-vs.md)</span></span>  
  
<a name="BKMK_ToolingChanges"></a>   
### <a name="passive-ws-federation-scenarios"></a><span data-ttu-id="69f98-190">被動 (WS-同盟) 案例：</span><span class="sxs-lookup"><span data-stu-id="69f98-190">Passive (WS-Federation) Scenarios:</span></span>  
  
-   <span data-ttu-id="69f98-191">支援被動案例的類別已移至 <xref:System.IdentityModel.Services?displayProperty=nameWithType> 命名空間。</span><span class="sxs-lookup"><span data-stu-id="69f98-191">Classes that support passive scenarios have been moved to the <xref:System.IdentityModel.Services?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="69f98-192">在 WIF 3.5 中，這些類別位在 `Microsoft.IdentityModel.Web` 命名空間中。</span><span class="sxs-lookup"><span data-stu-id="69f98-192">In WIF 3.5 these classes were in the `Microsoft.IdentityModel.Web` namespace.</span></span>  
  
-   <span data-ttu-id="69f98-193">`Microsoft.IdentityModel.Web.Configuration` 命名空間中的類別已移至 <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="69f98-193">The classes in the `Microsoft.IdentityModel.Web.Configuration` namespace have been moved to <xref:System.IdentityModel.Services.Configuration?displayProperty=nameWithType>.</span></span> <span data-ttu-id="69f98-194">這些類別代表被動案例中組態特有的物件。</span><span class="sxs-lookup"><span data-stu-id="69f98-194">These classes represent objects specific to configuration in passive scenarios.</span></span>  
  
-   <span data-ttu-id="69f98-195">不再支援 `FederatedPasssiveSignInControl`；已從 WIF 4.5 中移除 `Microsoft.IdentityModel.Web.Controls` 命名空間中的所有類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-195">The `FederatedPasssiveSignInControl` is no longer supported; all classes in the `Microsoft.IdentityModel.Web.Controls` namespace have been removed from WIF 4.5.</span></span>  
  
-   <span data-ttu-id="69f98-196">WS-同盟驗證模組 (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) 登出功能與 WIF 3.5 不同。</span><span class="sxs-lookup"><span data-stu-id="69f98-196">The WS-Federation Authentication Module (<xref:System.IdentityModel.Services.WSFederationAuthenticationModule>) sign-out functionality is different than WIF 3.5.</span></span> <span data-ttu-id="69f98-197">如需 WIF 4.5 中登出運作方式的詳細資訊，請參閱 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> 類別主題。</span><span class="sxs-lookup"><span data-stu-id="69f98-197">For more details about how sign-out works in WIF 4.5, see the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> class topic.</span></span>  
  
### <a name="active-wcfws-trust-scenarios"></a><span data-ttu-id="69f98-198">作用中 (WCF/WS-Trust) 案例：</span><span class="sxs-lookup"><span data-stu-id="69f98-198">Active (WCF/WS-Trust) Scenarios:</span></span>  
  
-   <span data-ttu-id="69f98-199">在 WIF 4.5 中，`Microsoft.IdentityModel.Protocols.WSTrust` 命名空間主要分成兩個命名空間。</span><span class="sxs-lookup"><span data-stu-id="69f98-199">The `Microsoft.IdentityModel.Protocols.WSTrust` namespace has been split mainly into two namespaces in WIF 4.5.</span></span> <span data-ttu-id="69f98-200">代表 WS-Trust 通訊協定特有成品的類別現在位於 <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType> 中。</span><span class="sxs-lookup"><span data-stu-id="69f98-200">Classes that represent artifacts that are specific to the WS-Trust protocol are now in <xref:System.IdentityModel.Protocols.WSTrust?displayProperty=nameWithType>.</span></span> <span data-ttu-id="69f98-201">這包含 <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken> 這類類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-201">This includes classes like <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken>.</span></span> <span data-ttu-id="69f98-202">類別代表 WCF 合約、通道、服務主機，以及在 WCF 應用程式中使用 WS-Trust 所含的其他成品，並且已移至 <xref:System.ServiceModel.Security?displayProperty=nameWithType>；例如，<xref:System.ServiceModel.Security.IWSTrust13AsyncContract> 介面。</span><span class="sxs-lookup"><span data-stu-id="69f98-202">Classes that represent service contracts, channels, service hosts and other artifacts that are involved in using WS-Trust in WCF applications have been moved to <xref:System.ServiceModel.Security?displayProperty=nameWithType>; for example, the <xref:System.ServiceModel.Security.IWSTrust13AsyncContract> interface.</span></span>  
  
-   <span data-ttu-id="69f98-203">已大幅簡化將 WCF 應用程式設定成使用 WIF。</span><span class="sxs-lookup"><span data-stu-id="69f98-203">Configuring a WCF application to use WIF has been greatly simplified.</span></span> <span data-ttu-id="69f98-204">之前，必須將 `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` 新增為行為延伸模組，並且接著指定 `<federatedServiceHostConfiguration>` 項目，以使用這項功能將 WIF 插入服務行為中。</span><span class="sxs-lookup"><span data-stu-id="69f98-204">Previously the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` had to be added as a behavior extension and this functionality was then used to wedge WIF into the service behavior by specifying a `<federatedServiceHostConfiguration>` element.</span></span> <span data-ttu-id="69f98-205">WIF 4.5 已更緊密地與 WCF 整合。</span><span class="sxs-lookup"><span data-stu-id="69f98-205">WIF 4.5 has been more tightly integrated with WCF.</span></span> <span data-ttu-id="69f98-206">您現在可以在 WCF 服務上啟用 WIF，只需在 `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` 項目上指定 `useIdentityConfiguration` 屬性即可，如下列 XML 所示：</span><span class="sxs-lookup"><span data-stu-id="69f98-206">Now you enable WIF on a WCF service by specifying the `useIdentityConfiguration` attribute on the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>` element as in the following XML:</span></span>  
  
    ```xml  
    <serviceCredentials useIdentityConfiguration="true">  
        <!--Certificate added by Identity And Access VS Package.  Subject='CN=localhost', Issuer='CN=localhost'. Make sure you have this certificate installed. The Identity and Access tool does not install this certificate.-->  
        <serviceCertificate findValue="CN=localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectDistinguishedName" />  
    </serviceCredentials>  
    ```  
  
-   <span data-ttu-id="69f98-207">在 WIF 4.5 中，必須於服務主機上指定作用中 (WCF) 服務所使用的服務憑證。</span><span class="sxs-lookup"><span data-stu-id="69f98-207">In WIF 4.5 the service certificate used by an active (WCF) service must be specified on the service host.</span></span> <span data-ttu-id="69f98-208">在組態中，做法是透過 `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` 項目，如上述範例所示。</span><span class="sxs-lookup"><span data-stu-id="69f98-208">In configuration, you can do this through the `<system.serviceModel>`/`<behaviors>`/`<serviceBehaviors>`/`<serviceCredentials>`/`<serviceCertificate>` element as shown in the preceding example.</span></span> <span data-ttu-id="69f98-209">在 WIF 3.5 中，可以透過 WIF `<service>` 項目的 `<serviceCertificate>` 子項目指定服務憑證。</span><span class="sxs-lookup"><span data-stu-id="69f98-209">In WIF 3.5 the service certificate could be specified through the `<serviceCertificate>` child element of the WIF `<service>` element.</span></span> <span data-ttu-id="69f98-210">WIF 4.5 沒有這項功能；請改為在 `<serviceCredentials>` 項目下指定 `<serviceCertificate>` 項目。</span><span class="sxs-lookup"><span data-stu-id="69f98-210">This functionality does not exist in WIF 4.5; specify the `<serviceCertificate>` element under the `<serviceCredentials>` element instead.</span></span>  
  
-   <span data-ttu-id="69f98-211">用來將 WIF 3.5 插入 WCF 的類別不再存在。</span><span class="sxs-lookup"><span data-stu-id="69f98-211">The classes used to wedge WIF 3.5 into WCF no longer exist.</span></span> <span data-ttu-id="69f98-212">這包含 `Microsoft.IdentityModel.Tokens` 命名空間中的下列類別：`FederatedSecurityTokenManager`、`FederatedServiceCredentials` 和 `IdentityModelServiceAuthorizationManager`，以及 `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` 類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-212">This includes the following classes in the `Microsoft.IdentityModel.Tokens` namespace: `FederatedSecurityTokenManager`, `FederatedServiceCredentials`, and `IdentityModelServiceAuthorizationManager`, as well as the `Microsoft.IdentityModel.Configuration.ConfigureServiceHostBehaviorExtensionElement` class.</span></span>  
  
## <a name="enabling-wif-35-in-windows-8"></a><span data-ttu-id="69f98-213">在 Windows 8 中啟用 WIF 3.5</span><span class="sxs-lookup"><span data-stu-id="69f98-213">Enabling WIF 3.5 in Windows 8</span></span>  
 <span data-ttu-id="69f98-214">因為 WIF 4.5 是 .NET 4.5 的一部分，所以會在執行 Windows 8 和 Windows Server 2012 的電腦上自動予以啟用，而且使用 WIF 4.5 所建置的應用程式預設會在 Windows 8 或 Windows Server 2012 下執行。</span><span class="sxs-lookup"><span data-stu-id="69f98-214">Because WIF 4.5 is part of .NET 4.5, it is automatically enabled on computers running Windows 8 and Windows Server 2012 and applications that are built using WIF 4.5 will run under Windows 8 or Windows Server 2012 by default.</span></span> <span data-ttu-id="69f98-215">不過，您可能需要在執行 Windows 8 或 Windows Server 2012 的電腦上執行使用 WIF 3.5 所建置的應用程式。</span><span class="sxs-lookup"><span data-stu-id="69f98-215">However, you may need to run applications that were built using WIF 3.5 on a computer that is running Windows 8 or Windows Server 2012.</span></span> <span data-ttu-id="69f98-216">在此情況下，您需要在目標電腦上啟用 WIF 3.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-216">In this case, you need to enable WIF 3.5 on the target computer.</span></span> <span data-ttu-id="69f98-217">在執行 Windows 8 的電腦上，您可以使用部署映像服務和管理 (DISM) 工具來達成這項作業。</span><span class="sxs-lookup"><span data-stu-id="69f98-217">On a computer running Windows 8, you can do this by using the Deployment Image Servicing and Management (DISM) tool.</span></span> <span data-ttu-id="69f98-218">在執行 Windows Server 2012 的電腦上，您可以使用 DISM 工具，也可以使用 Windows PowerShell `Add-WindowsFeature` Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="69f98-218">On a computer running Windows Server 2012, you can use the DISM tool or you can use the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="69f98-219">在這兩種情況下，可以在命令列或從 Windows PowerShell 環境中叫用適當的命令。</span><span class="sxs-lookup"><span data-stu-id="69f98-219">In both cases, the appropriate commands can be invoked either at the command line or from inside the Windows PowerShell environment.</span></span>  
  
 <span data-ttu-id="69f98-220">下列命令示範如何從命令列或 Windows PowerShell 環境中使用 DISM 工具。</span><span class="sxs-lookup"><span data-stu-id="69f98-220">The following commands show how to use the DISM tool from either the command line or from inside the Windows PowerShell environment.</span></span> <span data-ttu-id="69f98-221">根據預設，DISM PowerShell 模組包含在 Windows 8 和 Windows Server 2012 中，因此不需要進行匯入。</span><span class="sxs-lookup"><span data-stu-id="69f98-221">By default, the DISM PowerShell module is included in Windows 8 and Windows Server 2012 and does not need to be imported.</span></span> <span data-ttu-id="69f98-222">如需搭配使用 DISM 與 Windows PowerShell 的詳細資訊，請參閱[在 Windows PowerShell 中使用 DISM](http://go.microsoft.com/fwlink/?LinkId=254419)。</span><span class="sxs-lookup"><span data-stu-id="69f98-222">For more information about using DISM with Windows PowerShell, see [How to Use DISM in Windows PowerShell](http://go.microsoft.com/fwlink/?LinkId=254419).</span></span>  
  
 <span data-ttu-id="69f98-223">使用 DISM 啟用 WIF 3.5：</span><span class="sxs-lookup"><span data-stu-id="69f98-223">To enable WIF 3.5 using DISM:</span></span>  
  
```  
dism /online /enable-feature:windows-identity-foundation  
```  
  
 <span data-ttu-id="69f98-224">使用 DISM 停用 WIF 3.5：</span><span class="sxs-lookup"><span data-stu-id="69f98-224">To disable WIF 3.5 using DISM:</span></span>  
  
```  
dism /online /disable-feature:windows-identity-foundation  
```  
  
 <span data-ttu-id="69f98-225">檢查使用 DISM 所啟用或停用的功能：</span><span class="sxs-lookup"><span data-stu-id="69f98-225">To check which features are enabled or disabled using DISM:</span></span>  
  
```  
dism /online /get-features  
```  
  
 <span data-ttu-id="69f98-226">或者，在執行 Windows Server 2012 的電腦上，您可以使用 Windows PowerShell `Add-WindowsFeature` Cmdlet 來啟用 WIF 3.5。</span><span class="sxs-lookup"><span data-stu-id="69f98-226">Alternatively, on computers running Windows Server 2012, you can enable WIF 3.5 by using the Windows PowerShell `Add-WindowsFeature` cmdlet.</span></span> <span data-ttu-id="69f98-227">若要從命令列這麼做，您可以輸入下列命令：</span><span class="sxs-lookup"><span data-stu-id="69f98-227">To do so from the command line, you can enter the following command:</span></span>  
  
```  
powershell "add-windowsfeature windows-identity-foundation"  
```  
  
 <span data-ttu-id="69f98-228">從 Windows PowerShell 環境中，您可以直接輸入下列命令：</span><span class="sxs-lookup"><span data-stu-id="69f98-228">From inside the Windows PowerShell environment, you can enter the command directly:</span></span>  
  
```  
add-windowsfeature windows-identity-foundation  
```  
  
> [!NOTE]
>  <span data-ttu-id="69f98-229">因為 WIF 3.5 和 WIF 4.5 中的許多類別都共用相同的名稱，所以同時使用 WIF 3.5 和 WIF 4.5 時，請一定要使用完整類別名稱，或使用命名空間別名來區分 WIF 3.5 和 WIF 4.5 中的類別。</span><span class="sxs-lookup"><span data-stu-id="69f98-229">Because many of the classes in WIF 3.5 and WIF 4.5 share the same names, when you are using both WIF 3.5 and WIF 4.5 together, be sure to either use fully qualified class names or use namespace aliases to distinguish between classes in WIF 3.5 and WIF 4.5.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69f98-230">另請參閱</span><span class="sxs-lookup"><span data-stu-id="69f98-230">See Also</span></span>  
 [<span data-ttu-id="69f98-231">WIF 組態結構描述</span><span class="sxs-lookup"><span data-stu-id="69f98-231">WIF Configuration Schema</span></span>](../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/index.md)  
 [<span data-ttu-id="69f98-232">WIF 3.5 和 WIF 4.5 之間的命名空間對應</span><span class="sxs-lookup"><span data-stu-id="69f98-232">Namespace Mapping between WIF 3.5 and WIF 4.5</span></span>](../../../docs/framework/security/namespace-mapping-between-wif-3-5-and-wif-4-5.md)  
 [<span data-ttu-id="69f98-233">Windows Identity Foundation 4.5 的新功能</span><span class="sxs-lookup"><span data-stu-id="69f98-233">What's New in Windows Identity Foundation 4.5</span></span>](../../../docs/framework/security/whats-new-in-wif.md)  
 [<span data-ttu-id="69f98-234">Visual Studio 2012 的身分識別與存取工具</span><span class="sxs-lookup"><span data-stu-id="69f98-234">Identity and Access Tool for Visual Studio 2012</span></span>](../../../docs/framework/security/identity-and-access-tool-for-vs.md)
