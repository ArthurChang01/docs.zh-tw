---
title: 驗證簽發者名稱登錄
ms.date: 03/30/2017
ms.assetid: c4644dd1-dead-48ff-abeb-7bffae69a6ac
ms.openlocfilehash: fc10181a142fd8ca4ebd8250869d49a046623564
ms.sourcegitcommit: e08b319358a8025cc6aa38737854f7bdb87183d6
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/29/2019
ms.locfileid: "64910774"
---
# <a name="validating-issuer-name-registry"></a><span data-ttu-id="070d9-102">驗證簽發者名稱登錄</span><span class="sxs-lookup"><span data-stu-id="070d9-102">Validating Issuer Name Registry</span></span>
<span data-ttu-id="070d9-103">適用於 Windows Identity Foundation 的驗證簽發者名稱登錄 (Validating Issuer Name Registry，VINR) 可讓多租用戶應用程式確保傳入的權杖是由信任的租用戶和識別提供者發行。</span><span class="sxs-lookup"><span data-stu-id="070d9-103">The Validating Issuer Name Registry (VINR) for Windows Identity Foundation enables multi-tenant applications to ensure that an incoming token has been issued by a trusted tenant and identity provider.</span></span> <span data-ttu-id="070d9-104">這項功能對使用 Microsoft Azure Active Directory 的多租用戶應用程式特別有用，因為 Microsoft Azure AD 發行的所有權杖都是使用相同的憑證來簽署。</span><span class="sxs-lookup"><span data-stu-id="070d9-104">This functionality is particularly useful for multi-tenant applications that use Windows Azure Active Directory because all tokens issued by Windows Azure AD are signed using the same certificate.</span></span> <span data-ttu-id="070d9-105">為了區別來自使用相同憑證 (因此具有相同指紋) 之多個租用戶的要求，應用程式必須保存每個租用戶的簽發者名稱，才能執行驗證邏輯。</span><span class="sxs-lookup"><span data-stu-id="070d9-105">In order to differentiate between requests from multiple tenants that use the same certificate – and consequently have the same thumbprint – your application must persist the issuer name for each tenant to perform validation logic.</span></span> <span data-ttu-id="070d9-106">VINR 不僅提供這項功能，還能讓您加入自訂驗證邏輯，或是將簽發者登錄資料儲存在組態檔以外的位置。</span><span class="sxs-lookup"><span data-stu-id="070d9-106">The VINR provides this functionality, and it also enables you to add custom validation logic or to store the issuer registry data in locations other than a configuration file.</span></span> <span data-ttu-id="070d9-107">這項擴充功能可以加入至應用程式的 WIF 管線，也可以單獨使用。</span><span class="sxs-lookup"><span data-stu-id="070d9-107">The extension can be added to your application’s WIF pipeline or it can be used independently.</span></span>  
  
 <span data-ttu-id="070d9-108">VINR 是以 NuGet 套件的形式供您使用。</span><span class="sxs-lookup"><span data-stu-id="070d9-108">The VINR is available as a NuGet package.</span></span> <span data-ttu-id="070d9-109">如需詳細資訊，請參閱[下載驗證簽發者名稱登錄套件](../../../docs/framework/security/downloading-the-validating-issuer-name-registry-package.md)。</span><span class="sxs-lookup"><span data-stu-id="070d9-109">See [Downloading the Validating Issuer Name Registry Package](../../../docs/framework/security/downloading-the-validating-issuer-name-registry-package.md) for more information.</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="070d9-110">案例</span><span class="sxs-lookup"><span data-stu-id="070d9-110">Scenarios</span></span>  
 <span data-ttu-id="070d9-111">VINR 適用於下列重要案例：</span><span class="sxs-lookup"><span data-stu-id="070d9-111">The VINR enables the following key scenario:</span></span>  
  
- <span data-ttu-id="070d9-112">**驗證權杖，以在多租用戶應用程式中的**:在此案例中，名稱為 Litware 的公司開發使用例如 Windows Azure AD 的身分識別提供者的多租用戶應用程式。</span><span class="sxs-lookup"><span data-stu-id="070d9-112">**Validate a Token in a Multi-Tenant Application**: In this scenario, a company named Litware has developed a multi-tenant application that uses an identity provider such as Windows Azure AD.</span></span> <span data-ttu-id="070d9-113">此應用程式有兩種客戶：Contoso 和 Fabrikam。</span><span class="sxs-lookup"><span data-stu-id="070d9-113">This application serves two customers: Contoso and Fabrikam.</span></span> <span data-ttu-id="070d9-114">當 Fabrikam 的使用者要在 Litware 的應用程式中進行驗證時，Microsoft Azure AD 會使用標準憑證來簽署產生的權杖，而且要求會由 Fabrikam 提出。</span><span class="sxs-lookup"><span data-stu-id="070d9-114">When a user from Fabrikam authenticates to Litware’s application, the resulting token from Windows Azure AD is signed using its standard certificate and the request is issued by Fabrikam.</span></span> <span data-ttu-id="070d9-115">應用程式必須確定簽發者名稱和權杖都有效，而且必須區分 Microsoft Azure AD 使用相同憑證簽署、但卻是來自 Contoso 的要求。</span><span class="sxs-lookup"><span data-stu-id="070d9-115">The application needs to verify that both the issuer name and the token is valid, and needs to differentiate requests from Contoso that are signed using the same certificate from Windows Azure AD.</span></span> <span data-ttu-id="070d9-116">VINR 可讓 Litware 的應用程式區分和驗證來自多個租用戶 (例如 Contoso 和 Fabrikam) 的要求。</span><span class="sxs-lookup"><span data-stu-id="070d9-116">The VINR makes it easy for Litware’s application to differentiate and validate requests from multiple tenants such as Contoso and Fabrikam.</span></span>  
  
## <a name="features"></a><span data-ttu-id="070d9-117">功能</span><span class="sxs-lookup"><span data-stu-id="070d9-117">Features</span></span>  
 <span data-ttu-id="070d9-118">VINR 提供下列功能：</span><span class="sxs-lookup"><span data-stu-id="070d9-118">The VINR offers the following features:</span></span>  
  
- <span data-ttu-id="070d9-119">**簽發者名稱和多租用戶應用程式的權杖驗證**:確認簽發者名稱 （租用戶），以及是否使用識別提供者的有效憑證簽署權杖，藉以驗證傳入的權杖。</span><span class="sxs-lookup"><span data-stu-id="070d9-119">**Issuer Name and Token Validation for Multi-Tenant Applications**: Validates the incoming token by verifying the issuer name (tenant) and whether the token was signed using a valid certificate from the identity provider.</span></span>  
  
- <span data-ttu-id="070d9-120">**自訂驗證邏輯和資料存放區擴充性**:提供擴充性讓您插入專屬驗證邏輯，並指定預設組態檔以外的資料存放區。</span><span class="sxs-lookup"><span data-stu-id="070d9-120">**Extensibility for Custom Validation Logic and Data Stores**: Provides extensibility to inject your own validation logic and to specify a data store other than the default configuration file.</span></span>
