---
title: <message> 元素 (屬於 <netTcpBinding>
ms.date: 03/30/2017
ms.assetid: 1d71edd9-c085-4c2e-b6d3-980c313366f9
ms.openlocfilehash: ac6977a8422055f998c7ed932c853992b7809911
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/08/2019
ms.locfileid: "59161014"
---
# <a name="message-element-of-nettcpbinding"></a><span data-ttu-id="4ea93-102">\<訊息 > 項目\<netTcpBinding ></span><span class="sxs-lookup"><span data-stu-id="4ea93-102">\<message> element of \<netTcpBinding></span></span>
<span data-ttu-id="4ea93-103">定義設定之端點的訊息層級安全性需求的型別[ \<netTcpBinding >](../../../../../docs/framework/configure-apps/file-schema/wcf/nettcpbinding.md)。</span><span class="sxs-lookup"><span data-stu-id="4ea93-103">Defines the type of message-level security requirements for an endpoint configured with the [\<netTcpBinding>](../../../../../docs/framework/configure-apps/file-schema/wcf/nettcpbinding.md).</span></span>  
  
 <span data-ttu-id="4ea93-104">\<system.ServiceModel></span><span class="sxs-lookup"><span data-stu-id="4ea93-104">\<system.ServiceModel></span></span>  
<span data-ttu-id="4ea93-105">\<bindings></span><span class="sxs-lookup"><span data-stu-id="4ea93-105">\<bindings></span></span>  
<span data-ttu-id="4ea93-106">\<netTcpBinding></span><span class="sxs-lookup"><span data-stu-id="4ea93-106">\<netTcpBinding></span></span>  
<span data-ttu-id="4ea93-107">\<binding></span><span class="sxs-lookup"><span data-stu-id="4ea93-107">\<binding></span></span>  
<span data-ttu-id="4ea93-108">\<安全性 ></span><span class="sxs-lookup"><span data-stu-id="4ea93-108">\<security></span></span>  
<span data-ttu-id="4ea93-109">\<message></span><span class="sxs-lookup"><span data-stu-id="4ea93-109">\<message></span></span>  
  
## <a name="syntax"></a><span data-ttu-id="4ea93-110">語法</span><span class="sxs-lookup"><span data-stu-id="4ea93-110">Syntax</span></span>  
  
```xml  
<message algorithmSuite="System.Servicemodel.Security.SecurityAlgorithmsuite"
         clientCredentialType="None/Windows/UserName/Certificate/IssuedToken" />
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="4ea93-111">屬性和項目</span><span class="sxs-lookup"><span data-stu-id="4ea93-111">Attributes and Elements</span></span>  
 <span data-ttu-id="4ea93-112">下列各節描述屬性、子項目和父項目。</span><span class="sxs-lookup"><span data-stu-id="4ea93-112">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="4ea93-113">屬性</span><span class="sxs-lookup"><span data-stu-id="4ea93-113">Attributes</span></span>  
  
|<span data-ttu-id="4ea93-114">屬性</span><span class="sxs-lookup"><span data-stu-id="4ea93-114">Attribute</span></span>|<span data-ttu-id="4ea93-115">描述</span><span class="sxs-lookup"><span data-stu-id="4ea93-115">Description</span></span>|  
|---------------|-----------------|  
|`algorithmSuite`|<span data-ttu-id="4ea93-116">設定訊息加密和金鑰包裝演算法。</span><span class="sxs-lookup"><span data-stu-id="4ea93-116">Sets the message encryption and key-wrap algorithms.</span></span> <span data-ttu-id="4ea93-117">這些演算法和金鑰大小是由 <xref:System.ServiceModel.Security.SecurityAlgorithmSuite> 類別所決定。</span><span class="sxs-lookup"><span data-stu-id="4ea93-117">The algorithms and the key sizes are determined by the <xref:System.ServiceModel.Security.SecurityAlgorithmSuite> class.</span></span> <span data-ttu-id="4ea93-118">這些演算法會對應至安全性原則語言 (WS-SecurityPolicy) 規格中指定的演算法。</span><span class="sxs-lookup"><span data-stu-id="4ea93-118">These algorithms map to those specified in the Security Policy Language (WS-SecurityPolicy) specification.</span></span><br /><br /> <span data-ttu-id="4ea93-119">下表顯示可能的值。</span><span class="sxs-lookup"><span data-stu-id="4ea93-119">Possible values are shown in the following table.</span></span> <span data-ttu-id="4ea93-120">預設值為 `Basic256`。</span><span class="sxs-lookup"><span data-stu-id="4ea93-120">The default value is `Basic256`.</span></span><br /><br /> <span data-ttu-id="4ea93-121">如果服務繫結指定的 `algorithmSuite` 值不等於預設值，且您是使用 Svcutil.exe 產生組態檔，則該檔案將無法正確產生，這時您就必須手動編輯組態檔，將此屬性設定為需要的值。</span><span class="sxs-lookup"><span data-stu-id="4ea93-121">If the service binding specifies an `algorithmSuite` value that is not equal to the default, and you generate the configuration file using Svcutil.exe, then it is not generated correctly, and you must manually edit the configuration file to set this attribute to the desired value.</span></span>|  
|`clientCredentialType`|<span data-ttu-id="4ea93-122">指定當使用訊息安全性執行用戶端驗證時，要使用的認證類型。</span><span class="sxs-lookup"><span data-stu-id="4ea93-122">Specifies the type of credential to be used when performing client authentication using Message-based security.</span></span> <span data-ttu-id="4ea93-123">下表顯示可能的值。</span><span class="sxs-lookup"><span data-stu-id="4ea93-123">Possible values are shown in the following table.</span></span> <span data-ttu-id="4ea93-124">預設值為 `UserName`。</span><span class="sxs-lookup"><span data-stu-id="4ea93-124">The default value is `UserName`.</span></span> <span data-ttu-id="4ea93-125">此屬性的型別為 <xref:System.ServiceModel.MessageCredentialType>。</span><span class="sxs-lookup"><span data-stu-id="4ea93-125">This attribute is of type <xref:System.ServiceModel.MessageCredentialType>.</span></span>|  
  
## <a name="algorithmsuite-attribute"></a><span data-ttu-id="4ea93-126">algorithmSuite 屬性</span><span class="sxs-lookup"><span data-stu-id="4ea93-126">algorithmSuite Attribute</span></span>  
  
|<span data-ttu-id="4ea93-127">值</span><span class="sxs-lookup"><span data-stu-id="4ea93-127">Value</span></span>|<span data-ttu-id="4ea93-128">描述</span><span class="sxs-lookup"><span data-stu-id="4ea93-128">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="4ea93-129">Basic128</span><span class="sxs-lookup"><span data-stu-id="4ea93-129">Basic128</span></span>|<span data-ttu-id="4ea93-130">使用 Aes128 加密，Sha1 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-130">Use Aes128 encryption, Sha1 for message digest, and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-131">Basic192</span><span class="sxs-lookup"><span data-stu-id="4ea93-131">Basic192</span></span>|<span data-ttu-id="4ea93-132">使用 Aes192 加密，Sha1 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-132">Use Aes192 encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-133">Basic256</span><span class="sxs-lookup"><span data-stu-id="4ea93-133">Basic256</span></span>|<span data-ttu-id="4ea93-134">使用 Aes256 加密，Sha1 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-134">Use Aes256 encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-135">Basic256Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-135">Basic256Rsa15</span></span>|<span data-ttu-id="4ea93-136">將 Aes256 用於訊息加密，Sha1 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-136">Use Aes256 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-137">Basic192Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-137">Basic192Rsa15</span></span>|<span data-ttu-id="4ea93-138">將 Aes192 用於訊息加密，Sha1 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-138">Use Aes192 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-139">TripleDes</span><span class="sxs-lookup"><span data-stu-id="4ea93-139">TripleDes</span></span>|<span data-ttu-id="4ea93-140">使用 TripleDes 加密，Sha1 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-140">Use TripleDes encryption, Sha1 for message digest, Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-141">Basic128Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-141">Basic128Rsa15</span></span>|<span data-ttu-id="4ea93-142">將 Aes128 用於訊息加密，Sha1 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-142">Use Aes128 for message encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-143">TripleDesRsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-143">TripleDesRsa15</span></span>|<span data-ttu-id="4ea93-144">使用 TripleDes 加密，Sha1 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-144">Use TripleDes encryption, Sha1 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-145">Basic128Sha256</span><span class="sxs-lookup"><span data-stu-id="4ea93-145">Basic128Sha256</span></span>|<span data-ttu-id="4ea93-146">將 Aes256 用於訊息加密，Sha256 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-146">Use Aes256 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-147">Basic192Sha256</span><span class="sxs-lookup"><span data-stu-id="4ea93-147">Basic192Sha256</span></span>|<span data-ttu-id="4ea93-148">將 Aes192 用於訊息加密，Sha256 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-148">Use Aes192 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-149">Basic256Sha256</span><span class="sxs-lookup"><span data-stu-id="4ea93-149">Basic256Sha256</span></span>|<span data-ttu-id="4ea93-150">將 Aes256 用於訊息加密，Sha256 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-150">Use Aes256 for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-151">TripleDesSha256</span><span class="sxs-lookup"><span data-stu-id="4ea93-151">TripleDesSha256</span></span>|<span data-ttu-id="4ea93-152">將 TripleDes 用於訊息加密，Sha256 用於訊息摘要，Rsa-oaep-mgf1p 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-152">Use TripleDes for message encryption, Sha256 for message digest and Rsa-oaep-mgf1p for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-153">Basic128Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-153">Basic128Sha256Rsa15</span></span>|<span data-ttu-id="4ea93-154">將 Aes128 用於訊息加密，Sha256 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-154">Use Aes128 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-155">Basic192Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-155">Basic192Sha256Rsa15</span></span>|<span data-ttu-id="4ea93-156">將 Aes192 用於訊息加密，Sha256 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-156">Use Aes192 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-157">Basic256Sha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-157">Basic256Sha256Rsa15</span></span>|<span data-ttu-id="4ea93-158">將 Aes256 用於訊息加密，Sha256 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-158">Use Aes256 for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
|<span data-ttu-id="4ea93-159">TripleDesSha256Rsa15</span><span class="sxs-lookup"><span data-stu-id="4ea93-159">TripleDesSha256Rsa15</span></span>|<span data-ttu-id="4ea93-160">將 TripleDes 用於訊息加密，Sha256 用於訊息摘要，Rsa15 用於金鑰包裝。</span><span class="sxs-lookup"><span data-stu-id="4ea93-160">Use TripleDes for message encryption, Sha256 for message digest and Rsa15 for key wrap.</span></span>|  
  
## <a name="clientcredentialtype-attribute"></a><span data-ttu-id="4ea93-161">clientCredentialType 屬性</span><span class="sxs-lookup"><span data-stu-id="4ea93-161">clientCredentialType Attribute</span></span>  
  
|<span data-ttu-id="4ea93-162">值</span><span class="sxs-lookup"><span data-stu-id="4ea93-162">Value</span></span>|<span data-ttu-id="4ea93-163">描述</span><span class="sxs-lookup"><span data-stu-id="4ea93-163">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="4ea93-164">None</span><span class="sxs-lookup"><span data-stu-id="4ea93-164">None</span></span>|<span data-ttu-id="4ea93-165">這會允許服務與匿名用戶端互動。</span><span class="sxs-lookup"><span data-stu-id="4ea93-165">This allows the service to interact with anonymous clients.</span></span> <span data-ttu-id="4ea93-166">在服務上，這表示此服務不需要任何用戶端認證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-166">On the service, this indicates that the service does not require any client credential.</span></span> <span data-ttu-id="4ea93-167">在用戶端上，這表示此用戶端不提供任何用戶端認證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-167">On the client, this indicates that the client does not provide any client credential.</span></span>|  
|<span data-ttu-id="4ea93-168">Windows</span><span class="sxs-lookup"><span data-stu-id="4ea93-168">Windows</span></span>|<span data-ttu-id="4ea93-169">允許 SOAP 交換在 Windows 認證的已驗證內容中。</span><span class="sxs-lookup"><span data-stu-id="4ea93-169">Allows the SOAP exchanges to be under the authenticated context of a Windows credential.</span></span>|  
|<span data-ttu-id="4ea93-170">使用者名稱</span><span class="sxs-lookup"><span data-stu-id="4ea93-170">UserName</span></span>|<span data-ttu-id="4ea93-171">允許服務要求用戶端必須使用 UserName 認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-171">Allows the service to require that the client be authenticated using a UserName credential.</span></span> <span data-ttu-id="4ea93-172">WCF 不支援傳送密碼摘要或衍生金鑰使用的密碼，並使用訊息安全性這類金鑰。</span><span class="sxs-lookup"><span data-stu-id="4ea93-172">WCF does not support sending a password digest or deriving keys using password and using such keys for message security.</span></span> <span data-ttu-id="4ea93-173">因此，WCF 會強制使用 UserName 認證時，保護傳輸。</span><span class="sxs-lookup"><span data-stu-id="4ea93-173">As such, WCF enforces that the transport is secured when using UserName credentials.</span></span> <span data-ttu-id="4ea93-174">這個認證模式會產生可互通交換或是無法互通的交涉 (根據 `negotiateServiceCredential` 屬性)。</span><span class="sxs-lookup"><span data-stu-id="4ea93-174">This credential mode results in either an interoperable exchange or a non-interoperable negotiation based on the `negotiateServiceCredential` attribute.</span></span>|  
|<span data-ttu-id="4ea93-175">憑證</span><span class="sxs-lookup"><span data-stu-id="4ea93-175">Certificate</span></span>|<span data-ttu-id="4ea93-176">允許服務要求用戶端使用憑證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-176">Allows the service to require that the client be authenticated using a certificate.</span></span> <span data-ttu-id="4ea93-177">如果使用訊息安全性模式且 `negotiateServiceCredential` 屬性設定為 `false`，則必須為用戶端提供服務憑證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-177">If message security mode is used and the `negotiateServiceCredential` attribute is set to `false`, the client must be provisioned with the service certificate.</span></span>|  
|<span data-ttu-id="4ea93-178">IssuedToken</span><span class="sxs-lookup"><span data-stu-id="4ea93-178">IssuedToken</span></span>|<span data-ttu-id="4ea93-179">指定通常由安全性權杖服務 (STS) 所發出的自訂權杖。</span><span class="sxs-lookup"><span data-stu-id="4ea93-179">Specifies a custom token, usually issued by a Security Token Service (STS).</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="4ea93-180">子元素</span><span class="sxs-lookup"><span data-stu-id="4ea93-180">Child Elements</span></span>  
 <span data-ttu-id="4ea93-181">None</span><span class="sxs-lookup"><span data-stu-id="4ea93-181">None</span></span>  
  
### <a name="parent-elements"></a><span data-ttu-id="4ea93-182">父項目</span><span class="sxs-lookup"><span data-stu-id="4ea93-182">Parent Elements</span></span>  
  
|<span data-ttu-id="4ea93-183">項目</span><span class="sxs-lookup"><span data-stu-id="4ea93-183">Element</span></span>|<span data-ttu-id="4ea93-184">描述</span><span class="sxs-lookup"><span data-stu-id="4ea93-184">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="4ea93-185">\<安全性 ></span><span class="sxs-lookup"><span data-stu-id="4ea93-185">\<security></span></span>](../../../../../docs/framework/configure-apps/file-schema/wcf/security-of-nettcpbinding.md)|<span data-ttu-id="4ea93-186">定義 <xref:System.ServiceModel.Configuration.NetTcpBindingElement> 的安全性功能。</span><span class="sxs-lookup"><span data-stu-id="4ea93-186">Defines the security capabilities for the <xref:System.ServiceModel.Configuration.NetTcpBindingElement>.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="4ea93-187">備註</span><span class="sxs-lookup"><span data-stu-id="4ea93-187">Remarks</span></span>  
 <span data-ttu-id="4ea93-188">訊息會使用訊息層級安全性達成 SOAP 訊息的完整性與機密性，以及通訊對等兩端的交互驗證。</span><span class="sxs-lookup"><span data-stu-id="4ea93-188">Message uses message-level security for the integrity and confidentiality of the SOAP message, and for mutual authentication of the communication peers.</span></span> <span data-ttu-id="4ea93-189">如果繫結上選取了這個安全性模式，通道堆疊會以訊息安全性繫結項目進行設定，且 SOAP 訊息的安全性會符合 WS-Security\* 標準。</span><span class="sxs-lookup"><span data-stu-id="4ea93-189">If this security mode is selected on a binding, the channel stack is configured with message security binding elements and the SOAP messages are secured in compliance with WS-Security\* standards.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4ea93-190">另請參閱</span><span class="sxs-lookup"><span data-stu-id="4ea93-190">See also</span></span>

- <xref:System.ServiceModel.MessageSecurityOverTcp>
- <xref:System.ServiceModel.Configuration.NetTcpSecurityElement.Message%2A>
- <xref:System.ServiceModel.NetTcpSecurity.Message%2A>
- <xref:System.ServiceModel.Configuration.NetTcpSecurityElement>
- [<span data-ttu-id="4ea93-191">確保服務與用戶端的安全</span><span class="sxs-lookup"><span data-stu-id="4ea93-191">Securing Services and Clients</span></span>](../../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)
- [<span data-ttu-id="4ea93-192">繫結</span><span class="sxs-lookup"><span data-stu-id="4ea93-192">Bindings</span></span>](../../../../../docs/framework/wcf/bindings.md)
- [<span data-ttu-id="4ea93-193">設定系統提供的繫結</span><span class="sxs-lookup"><span data-stu-id="4ea93-193">Configuring System-Provided Bindings</span></span>](../../../../../docs/framework/wcf/feature-details/configuring-system-provided-bindings.md)
- [<span data-ttu-id="4ea93-194">使用繫結來設定服務和用戶端</span><span class="sxs-lookup"><span data-stu-id="4ea93-194">Using Bindings to Configure Services and Clients</span></span>](../../../../../docs/framework/wcf/using-bindings-to-configure-services-and-clients.md)
- [<span data-ttu-id="4ea93-195">\<binding></span><span class="sxs-lookup"><span data-stu-id="4ea93-195">\<binding></span></span>](../../../../../docs/framework/misc/binding.md)
