---
title: "Windows Form 資料繫結中的變更告知"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Forms, data binding
- Windows Forms, adding change notification for data binding
ms.assetid: b5b10f90-0585-41d9-a377-409835262a92
caps.latest.revision: "17"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: ffafaff2355e89e2127742f2fba5c005492b4580
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/21/2017
---
# <a name="change-notification-in-windows-forms-data-binding"></a><span data-ttu-id="3699c-102">Windows Form 資料繫結中的變更告知</span><span class="sxs-lookup"><span data-stu-id="3699c-102">Change Notification in Windows Forms Data Binding</span></span>
<span data-ttu-id="3699c-103">其中一個最重要的 Windows Form 資料繫結的概念是*變更通知*。</span><span class="sxs-lookup"><span data-stu-id="3699c-103">One of the most important concepts of Windows Forms data binding is *change notification*.</span></span> <span data-ttu-id="3699c-104">若要確保您的資料來源和繫結的控制項一直擁有最新的資料，您必須加入資料繫結變更通知。</span><span class="sxs-lookup"><span data-stu-id="3699c-104">To ensure that your data source and bound controls always have the most recent data, you must add change notification for data binding.</span></span> <span data-ttu-id="3699c-105">具體來說，您想要確保繫結的控制項的資料來源，所做的變更會收到通知，而且資料來源會通知控制項的繫結的屬性所做的變更。</span><span class="sxs-lookup"><span data-stu-id="3699c-105">Specifically, you want to ensure that bound controls are notified of changes that were made to their data source, and the data source is notified of changes that were made to the bound properties of a control.</span></span>  
  
 <span data-ttu-id="3699c-106">有不同種類的變更通知，資料繫結的類型而定：</span><span class="sxs-lookup"><span data-stu-id="3699c-106">There are different kinds of change notification, depending on the kind of data binding:</span></span>  
  
-   <span data-ttu-id="3699c-107">簡單繫結，其中單一的控制項屬性繫結到物件的單一執行個體。</span><span class="sxs-lookup"><span data-stu-id="3699c-107">Simple binding, in which a single control property is bound to a single instance of an object.</span></span>  
  
-   <span data-ttu-id="3699c-108">清單架構繫結，其中包含單一的控制項屬性繫結至清單中的項目屬性或控制項屬性繫結至的物件清單。</span><span class="sxs-lookup"><span data-stu-id="3699c-108">List-based binding, which can include a single control property bound to the property of an item in a list or a control property bound to a list of objects.</span></span>  
  
 <span data-ttu-id="3699c-109">此外，如果您要建立您想要用於資料繫結的 Windows Form 控制項，您必須套用*PropertyName*控制項，變更模式，使控制項的繫結屬性的變更會傳播至資料來源。</span><span class="sxs-lookup"><span data-stu-id="3699c-109">Additionally, if you are creating Windows Forms controls that you want to use for data binding, you must apply the *PropertyName*Changed pattern to the controls, so that changes to the bound property of a control are propagated to the data source.</span></span>  
  
## <a name="change-notification-for-simple-binding"></a><span data-ttu-id="3699c-110">簡單繫結變更通知</span><span class="sxs-lookup"><span data-stu-id="3699c-110">Change Notification for Simple Binding</span></span>  
 <span data-ttu-id="3699c-111">針對簡單繫結、 繫結屬性的值變更時商務物件時，必須提供變更通知。</span><span class="sxs-lookup"><span data-stu-id="3699c-111">For simple binding, business objects must provide change notification when the value of a bound property changes.</span></span> <span data-ttu-id="3699c-112">您可以藉由公開*PropertyName*您的商務物件和使用的控制項繫結的商務物件的每一個屬性已變更 」 事件<xref:System.Windows.Forms.BindingSource>或您的商務物件會實作的慣用的方法<xref:System.ComponentModel.INotifyPropertyChanged>介面並引發<xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged>事件屬性的值變更時發生。</span><span class="sxs-lookup"><span data-stu-id="3699c-112">You can do this by exposing an *PropertyName*Changed event for each property of your business object and binding the business object to controls with the <xref:System.Windows.Forms.BindingSource> or the preferred method in which your business object implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface and raises a <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> event when the value of a property changes.</span></span> <span data-ttu-id="3699c-113">如需詳細資訊，請參閱[How to： 實作 INotifyPropertyChanged 介面](../../../docs/framework/winforms/how-to-implement-the-inotifypropertychanged-interface.md)。</span><span class="sxs-lookup"><span data-stu-id="3699c-113">For more information, see [How to: Implement the INotifyPropertyChanged Interface](../../../docs/framework/winforms/how-to-implement-the-inotifypropertychanged-interface.md).</span></span> <span data-ttu-id="3699c-114">當您使用實作物件<xref:System.ComponentModel.INotifyPropertyChanged>介面，您不必使用<xref:System.Windows.Forms.BindingSource>來將物件繫結至控制項，但使用<xref:System.Windows.Forms.BindingSource>建議。</span><span class="sxs-lookup"><span data-stu-id="3699c-114">When you use objects that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface, you do not have to use the <xref:System.Windows.Forms.BindingSource> to bind the object to a control, but using the <xref:System.Windows.Forms.BindingSource> is recommended.</span></span>  
  
## <a name="change-notification-for-list-based-binding"></a><span data-ttu-id="3699c-115">以清單為基礎的繫結變更通知</span><span class="sxs-lookup"><span data-stu-id="3699c-115">Change Notification for List-Based Binding</span></span>  
 <span data-ttu-id="3699c-116">Windows Form 取決於繫結的清單，來提供 （清單項目屬性值變更） 的屬性變更和已變更的清單 （項目已刪除，或加入至清單） 繫結控制項的資訊。</span><span class="sxs-lookup"><span data-stu-id="3699c-116">Windows Forms depends on a bound list to provide property change (a list item property value changes) and list changed (an item is deleted or added to the list) information to bound controls.</span></span> <span data-ttu-id="3699c-117">因此，會列出用於資料繫結必須實作<xref:System.ComponentModel.IBindingList>，這樣會提供兩種類型的變更通知。</span><span class="sxs-lookup"><span data-stu-id="3699c-117">Therefore, lists used for data binding must implement the <xref:System.ComponentModel.IBindingList>, which provides both types of change notification.</span></span> <span data-ttu-id="3699c-118"><xref:System.ComponentModel.BindingList%601>是以一般的實作<xref:System.ComponentModel.IBindingList>是針對使用 Windows Form 資料繫結所設計。</span><span class="sxs-lookup"><span data-stu-id="3699c-118">The <xref:System.ComponentModel.BindingList%601> is a generic implementation of <xref:System.ComponentModel.IBindingList> and is designed for use with Windows Forms data binding.</span></span> <span data-ttu-id="3699c-119">您可以建立<xref:System.ComponentModel.BindingList%601>，其中包含實作的商務物件類型<xref:System.ComponentModel.INotifyPropertyChanged>和清單會自動將轉換<xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged>事件<xref:System.ComponentModel.IBindingList.ListChanged>事件。</span><span class="sxs-lookup"><span data-stu-id="3699c-119">You can create a <xref:System.ComponentModel.BindingList%601> that contains a business object type that implements <xref:System.ComponentModel.INotifyPropertyChanged> and the list will automatically convert the <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> events to <xref:System.ComponentModel.IBindingList.ListChanged> events.</span></span> <span data-ttu-id="3699c-120">如果繫結的清單不是<xref:System.ComponentModel.IBindingList>，您必須使用的物件清單繫結至 Windows Form 控制項<xref:System.Windows.Forms.BindingSource>元件。</span><span class="sxs-lookup"><span data-stu-id="3699c-120">If the bound list is not an <xref:System.ComponentModel.IBindingList>, you must bind the list of objects to Windows Forms controls by using the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="3699c-121"><xref:System.Windows.Forms.BindingSource>元件將會提供類似的屬性加入至清單轉換<xref:System.ComponentModel.BindingList%601>。</span><span class="sxs-lookup"><span data-stu-id="3699c-121">The <xref:System.Windows.Forms.BindingSource> component will provide property-to-list conversion similar to that of the <xref:System.ComponentModel.BindingList%601>.</span></span> <span data-ttu-id="3699c-122">如需詳細資訊，請參閱[How to： 使用 BindingSource 和 INotifyPropertyChanged 介面引發變更通知](../../../docs/framework/winforms/controls/raise-change-notifications--bindingsource.md)。</span><span class="sxs-lookup"><span data-stu-id="3699c-122">For more information, see [How to: Raise Change Notifications Using a BindingSource and the INotifyPropertyChanged Interface](../../../docs/framework/winforms/controls/raise-change-notifications--bindingsource.md).</span></span>  
  
## <a name="change-notification-for-custom-controls"></a><span data-ttu-id="3699c-123">自訂控制項變更通知</span><span class="sxs-lookup"><span data-stu-id="3699c-123">Change Notification for Custom Controls</span></span>  
 <span data-ttu-id="3699c-124">最後，從控制項端必須將公開*PropertyName*設計來繫結至資料的每一個屬性已變更 」 事件。</span><span class="sxs-lookup"><span data-stu-id="3699c-124">Finally, from the control side you must expose a *PropertyName*Changed event for each property designed to be bound to data.</span></span> <span data-ttu-id="3699c-125">控制項屬性的變更會再傳播到繫結的資料來源。</span><span class="sxs-lookup"><span data-stu-id="3699c-125">The changes to the control property are then propagated to the bound data source.</span></span> <span data-ttu-id="3699c-126">如需詳細資訊，請參閱[如何： 套用 PropertyNameChanged 模式](../../../docs/framework/winforms/how-to-apply-the-propertynamechanged-pattern.md)</span><span class="sxs-lookup"><span data-stu-id="3699c-126">For more information, see [How to: Apply the PropertyNameChanged Pattern](../../../docs/framework/winforms/how-to-apply-the-propertynamechanged-pattern.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3699c-127">另請參閱</span><span class="sxs-lookup"><span data-stu-id="3699c-127">See Also</span></span>  
 <xref:System.Windows.Forms.BindingSource>  
 <xref:System.ComponentModel.INotifyPropertyChanged>  
 <xref:System.ComponentModel.BindingList%601>  
 [<span data-ttu-id="3699c-128">Windows Forms 資料繫結</span><span class="sxs-lookup"><span data-stu-id="3699c-128">Windows Forms Data Binding</span></span>](../../../docs/framework/winforms/windows-forms-data-binding.md)  
 [<span data-ttu-id="3699c-129">Windows Forms 支援的資料來源</span><span class="sxs-lookup"><span data-stu-id="3699c-129">Data Sources Supported by Windows Forms</span></span>](../../../docs/framework/winforms/data-sources-supported-by-windows-forms.md)  
 [<span data-ttu-id="3699c-130">資料繫結和 Windows Forms</span><span class="sxs-lookup"><span data-stu-id="3699c-130">Data Binding and Windows Forms</span></span>](../../../docs/framework/winforms/data-binding-and-windows-forms.md)
