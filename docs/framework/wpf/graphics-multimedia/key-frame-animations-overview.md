---
title: 主要畫面格動畫概觀
ms.date: 03/30/2017
helpviewer_keywords:
- animation [WPF], key-frame
- key frames [WPF], about key-frame animations
- multiple animation target values [WPF]
ms.assetid: 10028f97-bb63-41fc-b8ad-663dac7ea203
ms.openlocfilehash: caad7d5694139729ebe89e686ea70a981a0a94d2
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/08/2019
ms.locfileid: "59191580"
---
# <a name="key-frame-animations-overview"></a><span data-ttu-id="8e91a-102">主要畫面格動畫概觀</span><span class="sxs-lookup"><span data-stu-id="8e91a-102">Key-Frame Animations Overview</span></span>
<span data-ttu-id="8e91a-103">本主題介紹主要畫面格動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-103">This topic introduces you to key-frame animations.</span></span> <span data-ttu-id="8e91a-104">主要畫面格動畫可讓您使用兩個以上的目標值來建立動畫，並且控制動畫的插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-104">Key-frame animations enable you to animate using more than two target values, and control an animation's interpolation method.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="8e91a-105">必要條件</span><span class="sxs-lookup"><span data-stu-id="8e91a-105">Prerequisites</span></span>  
 <span data-ttu-id="8e91a-106">若要了解本概觀，您應該熟悉 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 動畫和時間軸。</span><span class="sxs-lookup"><span data-stu-id="8e91a-106">To understand this overview, you should be familiar with [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] animations and timelines.</span></span> <span data-ttu-id="8e91a-107">如需動畫的簡介，請參閱[動畫概觀](animation-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="8e91a-107">For an introduction to animations, see the [Animation Overview](animation-overview.md).</span></span> <span data-ttu-id="8e91a-108">它也有助於熟悉 From/To/By 動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-108">It also helps to be familiar with From/To/By animations.</span></span> <span data-ttu-id="8e91a-109">如需詳細資訊，請參閱 From/To/By 動畫概觀。</span><span class="sxs-lookup"><span data-stu-id="8e91a-109">For more information, see the From/To/By Animations Overview.</span></span>  
  
<a name="whatisakeyframeanimation"></a>   
## <a name="what-is-a-key-frame-animation"></a><span data-ttu-id="8e91a-110">什麼是主要畫面格動畫？</span><span class="sxs-lookup"><span data-stu-id="8e91a-110">What is a Key-Frame Animation?</span></span>  
 <span data-ttu-id="8e91a-111">就像 From/To/By 動畫一樣，主要畫面格動畫會以目標屬性的值產生動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-111">Like a From/To/By animation, a key-frame animation animates the value of a target property.</span></span> <span data-ttu-id="8e91a-112">它透過建立目標值間的轉換其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-112">It creates a transition among its target values over its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="8e91a-113">不過，不像 From/To/By 動畫只能建立兩個值之間的轉換，單一畫面格動畫可以建立任意數目目標值之間的轉換。</span><span class="sxs-lookup"><span data-stu-id="8e91a-113">However, while a From/To/By animation creates a transition between two values, a single key-frame animation can create transitions among any number of target values.</span></span> <span data-ttu-id="8e91a-114">不同於 From/To/By 動畫，主要畫面格動畫沒有 From、To 或 By 屬性可供設定目標值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-114">Unlike a From/To/By animation, a key frame animation has no From, To, or By properties with which to set its target values.</span></span> <span data-ttu-id="8e91a-115">主要畫面格動畫的目標值是以主要畫面格物件來描述 (因此有「主要畫面格動畫」一詞)。</span><span class="sxs-lookup"><span data-stu-id="8e91a-115">A key-frame animation's target values are described using key frames objects (hence the term, "key-frame animation").</span></span> <span data-ttu-id="8e91a-116">若要指定動畫的目標值，方法，您可以建立主要畫面格物件，並將它們加入至動畫的<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A>集合。</span><span class="sxs-lookup"><span data-stu-id="8e91a-116">To specify the animation's target values, you create key frame objects and add them to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span> <span data-ttu-id="8e91a-117">動畫執行時，就會在您指定的畫面格之間轉換。</span><span class="sxs-lookup"><span data-stu-id="8e91a-117">When the animation runs, it transitions between the frames you specified.</span></span>  
  
 <span data-ttu-id="8e91a-118">除了支援多個目標值之外，某些主要畫面格方法甚至支援多種插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-118">In addition to supporting multiple target values, some key-frame methods even support multiple interpolation methods.</span></span> <span data-ttu-id="8e91a-119">動畫的插補方法定義了動畫如何從某個值轉換成下一個值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-119">An animation's interpolation method defines how it transitions from one value to the next.</span></span> <span data-ttu-id="8e91a-120">插補有以下三種類型：離散、線性和曲線。</span><span class="sxs-lookup"><span data-stu-id="8e91a-120">There are three types of interpolations: discrete, linear, and splined.</span></span>  
  
 <span data-ttu-id="8e91a-121">若要以主要畫面格動畫建立動畫，您必須完成下列步驟。</span><span class="sxs-lookup"><span data-stu-id="8e91a-121">To animate with a key-frame animation, you complete the following steps.</span></span>  
  
-   <span data-ttu-id="8e91a-122">宣告動畫並指定其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>，就像您一樣的 from/to/by 動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-122">Declare the animation and specify its <xref:System.Windows.Media.Animation.Timeline.Duration%2A>, just like you would for a from/to/by animation.</span></span>  
  
-   <span data-ttu-id="8e91a-123">每個目標值，建立適當型別的主要畫面格，請將其值和<xref:System.Windows.Media.Animation.KeyTime>，並將它加入至動畫的<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A>集合。</span><span class="sxs-lookup"><span data-stu-id="8e91a-123">For each target value, create a key frame of the appropriate type, set its value and <xref:System.Windows.Media.Animation.KeyTime>, and add it to the animation's <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames.KeyFrames%2A> collection.</span></span>  
  
-   <span data-ttu-id="8e91a-124">如同 From/To/By 動畫，建立動畫與屬性的關聯。</span><span class="sxs-lookup"><span data-stu-id="8e91a-124">Associate the animation with a property, just like you would with a From/To/By animation.</span></span> <span data-ttu-id="8e91a-125">如需使用分鏡腳本將動畫套用至屬性的詳細資訊，請參閱[分鏡腳本概觀](storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="8e91a-125">For more information about applying an animation to a property using a storyboard, see [Storyboards Overview](storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="8e91a-126">下列範例會使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>來以動畫顯示<xref:System.Windows.Shapes.Rectangle>四個不同位置的項目。</span><span class="sxs-lookup"><span data-stu-id="8e91a-126">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate a <xref:System.Windows.Shapes.Rectangle> element to four different locations.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
 <span data-ttu-id="8e91a-127">像 From/To/By 動畫，主要畫面格動畫可以藉由套用至屬性<xref:System.Windows.Media.Animation.Storyboard>標記和程式碼或使用<xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A>在程式碼中的方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-127">Like a From/To/By animation, a key-frame animation can be applied to a property by using a <xref:System.Windows.Media.Animation.Storyboard> in markup and code or by using the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method in code.</span></span> <span data-ttu-id="8e91a-128">您也可以使用主要畫面格動畫建立<xref:System.Windows.Media.Animation.AnimationClock>並將它套用至一或多個屬性。</span><span class="sxs-lookup"><span data-stu-id="8e91a-128">You may also use a key-frame animation to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to one or more properties.</span></span> <span data-ttu-id="8e91a-129">如需套用動畫之不同方法的詳細資訊，請參閱[屬性動畫技術概觀](property-animation-techniques-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="8e91a-129">For more information about the different methods for applying animations, see the [Property Animation Techniques Overview](property-animation-techniques-overview.md).</span></span>  
  
<a name="animation_types"></a>   
## <a name="key-frame-animation-types"></a><span data-ttu-id="8e91a-130">主要畫面格動畫型別</span><span class="sxs-lookup"><span data-stu-id="8e91a-130">Key-Frame Animation Types</span></span>  
 <span data-ttu-id="8e91a-131">由於動畫會產生屬性值，因此針對不同的屬性類型會有不同的動畫類型。</span><span class="sxs-lookup"><span data-stu-id="8e91a-131">Because animations generate property values, there are different animation types for different property types.</span></span> <span data-ttu-id="8e91a-132">若要動畫顯示採用的屬性<xref:System.Double>(例如項目的<xref:System.Windows.FrameworkElement.Width%2A>屬性)，您使用會產生動畫<xref:System.Double>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-132">To animate a property that takes a <xref:System.Double> (such as an element's <xref:System.Windows.FrameworkElement.Width%2A> property), you use an animation that produces <xref:System.Double> values.</span></span> <span data-ttu-id="8e91a-133">若要動畫顯示採用的屬性<xref:System.Windows.Point>，您使用會產生動畫<xref:System.Windows.Point>值，並依此類推。</span><span class="sxs-lookup"><span data-stu-id="8e91a-133">To animate a property that takes a <xref:System.Windows.Point>, you use an animation that produces <xref:System.Windows.Point> values, and so on.</span></span>  
  
 <span data-ttu-id="8e91a-134">主要畫面格動畫類別屬於<xref:System.Windows.Media.Animation>命名空間，並遵循下列命名慣例：</span><span class="sxs-lookup"><span data-stu-id="8e91a-134">The key-frame animation classes belong to the <xref:System.Windows.Media.Animation> namespace and adhere to the following naming convention:</span></span>  
  
 *<span data-ttu-id="8e91a-135">\<Type></span><span class="sxs-lookup"><span data-stu-id="8e91a-135">\<Type></span></span>* `AnimationUsingKeyFrames`  
  
 <span data-ttu-id="8e91a-136">其中 *\<Type>* 是該類別建立動畫的值類型。</span><span class="sxs-lookup"><span data-stu-id="8e91a-136">Where *\<Type>* is the type of value that the class animates.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="8e91a-137">提供下列主要畫面格動畫類別。</span><span class="sxs-lookup"><span data-stu-id="8e91a-137">provides the following key-frame animation classes.</span></span>  
  
|<span data-ttu-id="8e91a-138">屬性類型</span><span class="sxs-lookup"><span data-stu-id="8e91a-138">Property type</span></span>|<span data-ttu-id="8e91a-139">對應 from/to/by 動畫類別</span><span class="sxs-lookup"><span data-stu-id="8e91a-139">Corresponding from/to/by animation class</span></span>|<span data-ttu-id="8e91a-140">支援的插補方法</span><span class="sxs-lookup"><span data-stu-id="8e91a-140">Interpolation methods supported</span></span>|  
|-------------------|------------------------------------------------|-------------------------------------|  
|<xref:System.Boolean>|<xref:System.Windows.Media.Animation.BooleanAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-141">離散</span><span class="sxs-lookup"><span data-stu-id="8e91a-141">Discrete</span></span>|  
|<xref:System.Byte>|<xref:System.Windows.Media.Animation.ByteAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-142">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-142">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Color>|<xref:System.Windows.Media.Animation.ColorAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-143">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-143">Discrete, Linear, Splined</span></span>|  
|<xref:System.Decimal>|<xref:System.Windows.Media.Animation.DecimalAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-144">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-144">Discrete, Linear, Splined</span></span>|  
|<xref:System.Double>|<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-145">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-145">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int16>|<xref:System.Windows.Media.Animation.Int16AnimationUsingKeyFrames>|<span data-ttu-id="8e91a-146">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-146">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int32>|<xref:System.Windows.Media.Animation.Int32AnimationUsingKeyFrames>|<span data-ttu-id="8e91a-147">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-147">Discrete, Linear, Splined</span></span>|  
|<xref:System.Int64>|<xref:System.Windows.Media.Animation.Int64AnimationUsingKeyFrames>|<span data-ttu-id="8e91a-148">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-148">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Matrix>|<xref:System.Windows.Media.Animation.MatrixAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-149">離散</span><span class="sxs-lookup"><span data-stu-id="8e91a-149">Discrete</span></span>|  
|<xref:System.Object>|<xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-150">離散</span><span class="sxs-lookup"><span data-stu-id="8e91a-150">Discrete</span></span>|  
|<xref:System.Windows.Point>|<xref:System.Windows.Media.Animation.PointAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-151">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-151">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Quaternion>|<xref:System.Windows.Media.Animation.QuaternionAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-152">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-152">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Rect>|<xref:System.Windows.Media.Animation.RectAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-153">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-153">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Rotation3D>|<xref:System.Windows.Media.Animation.Rotation3DAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-154">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-154">Discrete, Linear, Splined</span></span>|  
|<xref:System.Single>|<xref:System.Windows.Media.Animation.SingleAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-155">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-155">Discrete, Linear, Splined</span></span>|  
|<xref:System.String>|<xref:System.Windows.Media.Animation.StringAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-156">離散</span><span class="sxs-lookup"><span data-stu-id="8e91a-156">Discrete</span></span>|  
|<xref:System.Windows.Size>|<xref:System.Windows.Media.Animation.SizeAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-157">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-157">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Thickness>|<xref:System.Windows.Media.Animation.ThicknessAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-158">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-158">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Media.Media3D.Vector3D>|<xref:System.Windows.Media.Animation.Vector3DAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-159">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-159">Discrete, Linear, Splined</span></span>|  
|<xref:System.Windows.Vector>|<xref:System.Windows.Media.Animation.VectorAnimationUsingKeyFrames>|<span data-ttu-id="8e91a-160">離散、線性、曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-160">Discrete, Linear, Splined</span></span>|  
  
<a name="animation_target_values"></a>   
## <a name="target-values-key-frames-and-key-times"></a><span data-ttu-id="8e91a-161">目標值 (主要畫面格) 和關鍵時間</span><span class="sxs-lookup"><span data-stu-id="8e91a-161">Target Values (key frames) and Key Times</span></span>  
 <span data-ttu-id="8e91a-162">就如同不同型別的主要畫面格動畫適用於不同屬性型別的動畫，主要畫面格物件也有不同型別：每種主要畫面格物件各適用於一種值的動畫，且各支援一種插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-162">Just as there are different types of key-frame animations for animating different property types, there are also different types of key frame objects: one for each type of value animated and interpolation method supported.</span></span> <span data-ttu-id="8e91a-163">主要畫面格型別會遵循下列命名慣例：</span><span class="sxs-lookup"><span data-stu-id="8e91a-163">Key frame types adhere to the following naming convention:</span></span>  
  
 *<span data-ttu-id="8e91a-164">\<InterpolationMethod>\<Type></span><span class="sxs-lookup"><span data-stu-id="8e91a-164">\<InterpolationMethod>\<Type></span></span>* `KeyFrame`  
  
 <span data-ttu-id="8e91a-165">其中 *\<InterpolationMethod>* 是主要畫面格使用的插補方法，而 *\<Type>* 是該類別建立動畫的值類型。</span><span class="sxs-lookup"><span data-stu-id="8e91a-165">Where *\<InterpolationMethod>* is the interpolation method the key frame uses and *\<Type>* is the type of value that the class animates.</span></span> <span data-ttu-id="8e91a-166">支援所有三種插補方法的主要畫面格動畫，會有三種主要畫面格型別可供您使用。</span><span class="sxs-lookup"><span data-stu-id="8e91a-166">A key-frame animation that supports all three interpolation methods will have three key frame types that you can use.</span></span> <span data-ttu-id="8e91a-167">例如，您可以使用三個主要畫面格類型及其<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>: <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>， <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>，和<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-167">For example, you can use three key frame types with a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>: <xref:System.Windows.Media.Animation.DiscreteDoubleKeyFrame>, <xref:System.Windows.Media.Animation.LinearDoubleKeyFrame>, and <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>.</span></span> <span data-ttu-id="8e91a-168">(稍後的章節會詳述插補方法。)</span><span class="sxs-lookup"><span data-stu-id="8e91a-168">(Interpolation methods are described in detail in a later section.)</span></span>  
  
 <span data-ttu-id="8e91a-169">主要畫面格的主要目的是指定<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>和<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-169">The primary purpose of a key frame is to specify a <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>.</span></span> <span data-ttu-id="8e91a-170">每個主要畫面格型別都提供下列兩個屬性。</span><span class="sxs-lookup"><span data-stu-id="8e91a-170">Every key frame type provides these two properties.</span></span>  
  
-   <span data-ttu-id="8e91a-171"><xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>屬性會指定該主要畫面格的目標值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-171">The <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property specifies the target value for that key-frame.</span></span>  
  
-   <span data-ttu-id="8e91a-172"><xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>屬性會指定何時 (在動畫<xref:System.Windows.Media.Animation.Timeline.Duration%2A>) 主要畫面格的<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>為止。</span><span class="sxs-lookup"><span data-stu-id="8e91a-172">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property specifies when (within the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>) a key frame's <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> is reached.</span></span>  
  
 <span data-ttu-id="8e91a-173">主要畫面格動畫開始時，逐一查看主要畫面格所定義的順序及其<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="8e91a-173">When a key frame animation begins, iterates through its key frames in the order defined by their <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties.</span></span>  
  
-   <span data-ttu-id="8e91a-174">如果在時間 0 有沒有主要畫面格動畫可建立目標屬性的目前值之間的轉換和<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>的第一個主要畫面格; 否則動畫的輸出值會變成第一個主要畫面格的值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-174">If there is no key frame at time 0, the animation creates a transition between the target property's current value and the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first key frame; otherwise, the animation's output value becomes the value of the first key frame.</span></span>  
  
-   <span data-ttu-id="8e91a-175">動畫建立之間的轉換<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>第一個和第二個主要畫面格使用指定的第二個主要畫面格的插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-175">The animation creates a transition between the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> of the first and second key frames using the interpolation method specified by the second key frame.</span></span> <span data-ttu-id="8e91a-176">在轉換開始第一個主要畫面格的<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>時結束，第二個主要畫面格的<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>為止。</span><span class="sxs-lookup"><span data-stu-id="8e91a-176">The transition starts at the first key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> and ends when the second key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> is reached.</span></span>  
  
-   <span data-ttu-id="8e91a-177">動畫會繼續在後續每個主要畫面格與其前一個主要畫面格之間建立轉換。</span><span class="sxs-lookup"><span data-stu-id="8e91a-177">The animation continues, creating transitions between each subsequent key frame and its preceding key frame.</span></span>  
  
-   <span data-ttu-id="8e91a-178">最後，主要畫面格的最大的索引鍵時間，動畫會轉換成的值就等於或小於動畫的<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-178">Finally, the animation transitions to the value of the key frame with the greatest key time that is equal to or smaller than the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span>  
  
 <span data-ttu-id="8e91a-179">如果動畫<xref:System.Windows.Media.Animation.Timeline.Duration%2A>已<xref:System.Windows.Duration.Automatic%2A>或其<xref:System.Windows.Media.Animation.Timeline.Duration%2A>等於最後一個主要畫面格，在動畫結束時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-179">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is <xref:System.Windows.Duration.Automatic%2A> or its <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is equal to the time of the last key frame, the animation ends.</span></span> <span data-ttu-id="8e91a-180">否則，如果動畫<xref:System.Windows.Duration>大於最後一個主要畫面格，主要畫面格的值，直到它到達結尾動畫保存的關鍵時間其<xref:System.Windows.Duration>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-180">Otherwise, if the animation's <xref:System.Windows.Duration> is greater than the key time of the last key frame, the animation holds the key frame value until it reaches the end of its <xref:System.Windows.Duration>.</span></span> <span data-ttu-id="8e91a-181">如同所有動畫，主要畫面格動畫會使用其<xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A>屬性來判斷是否它會保留其最終值到達它的作用期結束時。</span><span class="sxs-lookup"><span data-stu-id="8e91a-181">Like all animations, a key-frame animation uses its <xref:System.Windows.Media.Animation.Timeline.FillBehavior%2A> property to determine whether it holds it final value when it reaches the end of its active period.</span></span> <span data-ttu-id="8e91a-182">如需詳細資訊，請參閱[計時行為概觀](timing-behaviors-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="8e91a-182">For more information, see the [Timing Behaviors Overview](timing-behaviors-overview.md).</span></span>  
  
 <span data-ttu-id="8e91a-183">下列範例會使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>物件，定義在上述範例中示範如何<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>和<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>屬性運作。</span><span class="sxs-lookup"><span data-stu-id="8e91a-183">The following example uses the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> object defined in the preceding example to demonstrate how the <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> properties work.</span></span>  
  
-   <span data-ttu-id="8e91a-184">第一個主要畫面格會立即將動畫的輸出值設定為 0。</span><span class="sxs-lookup"><span data-stu-id="8e91a-184">The first key frame immediately sets the animation's output value to 0.</span></span>  
  
-   <span data-ttu-id="8e91a-185">第二個主要畫面格會從 0 展示動畫至 350。</span><span class="sxs-lookup"><span data-stu-id="8e91a-185">The second key frame animates from 0 to 350.</span></span> <span data-ttu-id="8e91a-186">它會在第一個主要畫面格結束 (時間等於 0 秒) 後開始播放 2 秒，並且在時間等於 0:0:2 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-186">It starts after the first key frame ends (at time = 0 seconds) and plays for 2 seconds, ending at time = 0:0:2.</span></span>  
  
-   <span data-ttu-id="8e91a-187">第三個主要畫面格會從 350 展示動畫至 50。</span><span class="sxs-lookup"><span data-stu-id="8e91a-187">The third key frame animates from 350 to 50.</span></span> <span data-ttu-id="8e91a-188">它會在第二個主要畫面格結束 (時間等於 2 秒) 時開始播放 5 秒，並且在時間等於 0:0:7 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-188">It starts when the second key frame ends (at time = 2 seconds) and plays for 5 seconds, ending at time = 0:0:7.</span></span>  
  
-   <span data-ttu-id="8e91a-189">第四個主要畫面格會從 50 展示動畫至 200。</span><span class="sxs-lookup"><span data-stu-id="8e91a-189">The fourth key frame animates from 50 to 200.</span></span> <span data-ttu-id="8e91a-190">它會在第三個主要畫面格結束 (時間等於 7 秒) 時開始播放 1 秒，並且在時間等於 0:0:8 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-190">It starts when the third key frame ends (at time = 7 seconds) and plays for 1 second, ending at time = 0:0:8.</span></span>  
  
-   <span data-ttu-id="8e91a-191">因為<xref:System.Windows.Media.Animation.Timeline.Duration%2A>動畫的屬性設定為 10 秒，則動畫會保留其最終的值為兩秒，然後結束時間等於 0:0:10。</span><span class="sxs-lookup"><span data-stu-id="8e91a-191">Because the <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property of the animation was set to 10 seconds, the animation holds its final value for two seconds before ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#BasicKeyFrameExampleWholePage](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyFramesIntroduction.xaml#basickeyframeexamplewholepage)]  
  
<a name="interpolationmethods"></a>   
## <a name="interpolation-methods"></a><span data-ttu-id="8e91a-192">插補方法</span><span class="sxs-lookup"><span data-stu-id="8e91a-192">Interpolation Methods</span></span>  
 <span data-ttu-id="8e91a-193">前面幾節曾提到有些主要畫面格動畫可以支援多種插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-193">The preceding sections mentioned that some key-frame animations support multiple interpolation methods.</span></span> <span data-ttu-id="8e91a-194">動畫的插補描述了動畫如何在其持續期間內進行值之間的轉換。</span><span class="sxs-lookup"><span data-stu-id="8e91a-194">An animation's interpolation describes how an animation transitions between values over its duration.</span></span> <span data-ttu-id="8e91a-195">選取動畫所要使用的主要畫面格型別，即可定義該主要畫面格區段的插補方法。</span><span class="sxs-lookup"><span data-stu-id="8e91a-195">By selecting which key frame type you use with your animation, you can define the interpolation method for that key frame segment.</span></span> <span data-ttu-id="8e91a-196">插補方法有三種不同類型：線性、離散和曲線。</span><span class="sxs-lookup"><span data-stu-id="8e91a-196">There are three different types of interpolation methods: linear, discrete, and splined.</span></span>  
  
### <a name="linear-interpolation"></a><span data-ttu-id="8e91a-197">線性插補</span><span class="sxs-lookup"><span data-stu-id="8e91a-197">Linear Interpolation</span></span>  
 <span data-ttu-id="8e91a-198">使用線性插補，動畫在區段的持續時間會以不變的速率進行。</span><span class="sxs-lookup"><span data-stu-id="8e91a-198">With linear interpolation, the animation progresses at a constant rate of the segment duration.</span></span> <span data-ttu-id="8e91a-199">例如，如果主要畫面格區段在 5 秒的持續期間從 0 轉換為 10，動畫將會於指定的時間輸出下列值：</span><span class="sxs-lookup"><span data-stu-id="8e91a-199">For example, if a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="8e91a-200">時間</span><span class="sxs-lookup"><span data-stu-id="8e91a-200">Time</span></span>|<span data-ttu-id="8e91a-201">輸出值</span><span class="sxs-lookup"><span data-stu-id="8e91a-201">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="8e91a-202">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-202">0</span></span>|<span data-ttu-id="8e91a-203">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-203">0</span></span>|  
|<span data-ttu-id="8e91a-204">1</span><span class="sxs-lookup"><span data-stu-id="8e91a-204">1</span></span>|<span data-ttu-id="8e91a-205">2</span><span class="sxs-lookup"><span data-stu-id="8e91a-205">2</span></span>|  
|<span data-ttu-id="8e91a-206">2</span><span class="sxs-lookup"><span data-stu-id="8e91a-206">2</span></span>|<span data-ttu-id="8e91a-207">4</span><span class="sxs-lookup"><span data-stu-id="8e91a-207">4</span></span>|  
|<span data-ttu-id="8e91a-208">3</span><span class="sxs-lookup"><span data-stu-id="8e91a-208">3</span></span>|<span data-ttu-id="8e91a-209">6</span><span class="sxs-lookup"><span data-stu-id="8e91a-209">6</span></span>|  
|<span data-ttu-id="8e91a-210">4</span><span class="sxs-lookup"><span data-stu-id="8e91a-210">4</span></span>|<span data-ttu-id="8e91a-211">8</span><span class="sxs-lookup"><span data-stu-id="8e91a-211">8</span></span>|  
|<span data-ttu-id="8e91a-212">4.25</span><span class="sxs-lookup"><span data-stu-id="8e91a-212">4.25</span></span>|<span data-ttu-id="8e91a-213">8.5</span><span class="sxs-lookup"><span data-stu-id="8e91a-213">8.5</span></span>|  
|<span data-ttu-id="8e91a-214">4.5</span><span class="sxs-lookup"><span data-stu-id="8e91a-214">4.5</span></span>|<span data-ttu-id="8e91a-215">9</span><span class="sxs-lookup"><span data-stu-id="8e91a-215">9</span></span>|  
|<span data-ttu-id="8e91a-216">5</span><span class="sxs-lookup"><span data-stu-id="8e91a-216">5</span></span>|<span data-ttu-id="8e91a-217">10</span><span class="sxs-lookup"><span data-stu-id="8e91a-217">10</span></span>|  
  
### <a name="discrete-interpolation"></a><span data-ttu-id="8e91a-218">離散插補</span><span class="sxs-lookup"><span data-stu-id="8e91a-218">Discrete Interpolation</span></span>  
 <span data-ttu-id="8e91a-219">使用離散插補，動畫功能會從某個值跳到下個值而不使用插補。</span><span class="sxs-lookup"><span data-stu-id="8e91a-219">With discrete interpolation, the animation function jumps from one value to the next without interpolation.</span></span> <span data-ttu-id="8e91a-220">如果主要畫面格區段在 5 秒的持續期間從 0 轉換為 10，動畫將會於指定的時間輸出下列值：</span><span class="sxs-lookup"><span data-stu-id="8e91a-220">If a key frame segment transitions from 0 to 10 over a duration of 5 seconds, the animation will output the following values at the specified times:</span></span>  
  
|<span data-ttu-id="8e91a-221">時間</span><span class="sxs-lookup"><span data-stu-id="8e91a-221">Time</span></span>|<span data-ttu-id="8e91a-222">輸出值</span><span class="sxs-lookup"><span data-stu-id="8e91a-222">Output value</span></span>|  
|----------|------------------|  
|<span data-ttu-id="8e91a-223">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-223">0</span></span>|<span data-ttu-id="8e91a-224">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-224">0</span></span>|  
|<span data-ttu-id="8e91a-225">1</span><span class="sxs-lookup"><span data-stu-id="8e91a-225">1</span></span>|<span data-ttu-id="8e91a-226">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-226">0</span></span>|  
|<span data-ttu-id="8e91a-227">2</span><span class="sxs-lookup"><span data-stu-id="8e91a-227">2</span></span>|<span data-ttu-id="8e91a-228">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-228">0</span></span>|  
|<span data-ttu-id="8e91a-229">3</span><span class="sxs-lookup"><span data-stu-id="8e91a-229">3</span></span>|<span data-ttu-id="8e91a-230">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-230">0</span></span>|  
|<span data-ttu-id="8e91a-231">4</span><span class="sxs-lookup"><span data-stu-id="8e91a-231">4</span></span>|<span data-ttu-id="8e91a-232">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-232">0</span></span>|  
|<span data-ttu-id="8e91a-233">4.25</span><span class="sxs-lookup"><span data-stu-id="8e91a-233">4.25</span></span>|<span data-ttu-id="8e91a-234">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-234">0</span></span>|  
|<span data-ttu-id="8e91a-235">4.5</span><span class="sxs-lookup"><span data-stu-id="8e91a-235">4.5</span></span>|<span data-ttu-id="8e91a-236">0</span><span class="sxs-lookup"><span data-stu-id="8e91a-236">0</span></span>|  
|<span data-ttu-id="8e91a-237">5</span><span class="sxs-lookup"><span data-stu-id="8e91a-237">5</span></span>|<span data-ttu-id="8e91a-238">10</span><span class="sxs-lookup"><span data-stu-id="8e91a-238">10</span></span>|  
  
 <span data-ttu-id="8e91a-239">請注意，在區段持續期間結束之前，動畫不會變更其輸出值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-239">Notice how the animation does not change its output value until the very end of the segment duration.</span></span>  
  
 <span data-ttu-id="8e91a-240">曲線插補更為複雜。</span><span class="sxs-lookup"><span data-stu-id="8e91a-240">Splined interpolation is more complex.</span></span> <span data-ttu-id="8e91a-241">下一節將加以說明。</span><span class="sxs-lookup"><span data-stu-id="8e91a-241">It is described in the next section.</span></span>  
  
<a name="anim_spline"></a>   
### <a name="splined-interpolation"></a><span data-ttu-id="8e91a-242">曲線插補</span><span class="sxs-lookup"><span data-stu-id="8e91a-242">Splined Interpolation</span></span>  
 <span data-ttu-id="8e91a-243">曲線插補可用來達成更逼真的時間效果。</span><span class="sxs-lookup"><span data-stu-id="8e91a-243">Splined interpolation can be used to achieve more realistic timing effects.</span></span> <span data-ttu-id="8e91a-244">因為動畫經常用來模擬真實世界中發生的效果，因此開發人員需要精確控制物件的加速和減速情形，並且仔細操控時間區段。</span><span class="sxs-lookup"><span data-stu-id="8e91a-244">Because animations are so often used to imitate effects that occur in the real world, developers might need fine control of the acceleration and deceleration of objects, and close manipulation of timing segments.</span></span> <span data-ttu-id="8e91a-245">曲線主要畫面格可讓您使用曲線插補來建立動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-245">Spline key frames enable you to animate with splined interpolation.</span></span> <span data-ttu-id="8e91a-246">使用其他主要畫面格，您指定<xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>和<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-246">With other key frames, you specify a <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> and <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>.</span></span> <span data-ttu-id="8e91a-247">使用曲線主要畫面格，您也指定<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-247">With a spline key frame, you also specify a <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame.KeySpline%2A>.</span></span> <span data-ttu-id="8e91a-248">下列範例顯示的單一曲線主要畫面格<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-248">The following example shows a single spline key frame for a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="8e91a-249">請注意<xref:System.Windows.Media.Animation.KeySpline>屬性; 就是讓曲線主要畫面格不同於其他類型的主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-249">Notice the <xref:System.Windows.Media.Animation.KeySpline> property; that's what makes a spline key frame different from the other types of key frames.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="8e91a-250">三次方貝茲曲線是由一個起始點、一個結束點和兩個控制點所定義。</span><span class="sxs-lookup"><span data-stu-id="8e91a-250">A cubic Bezier curve is defined by a start point, an end point, and two control points.</span></span> <span data-ttu-id="8e91a-251"><xref:System.Windows.Media.Animation.KeySpline>的曲線主要畫面格的屬性會定義從 (0，0) 延伸至 (1，1) 之貝茲曲線的兩個控制點。</span><span class="sxs-lookup"><span data-stu-id="8e91a-251">The <xref:System.Windows.Media.Animation.KeySpline> property of a spline key frame defines the two control point of a Bezier curve that extends from (0,0) to (1,1).</span></span> <span data-ttu-id="8e91a-252">第一個控制點控制貝茲曲線前半段的曲率，第二個控制點則控制貝茲線段後半段的曲率。</span><span class="sxs-lookup"><span data-stu-id="8e91a-252">The first control point controls the curve factor of the first half of the Bezier curve, and the second control point controls the curve factor of the second half of the Bezier segment.</span></span> <span data-ttu-id="8e91a-253">產生的曲線即描述該曲線主要畫面格的變化速率。</span><span class="sxs-lookup"><span data-stu-id="8e91a-253">The resulting curve describes the rate of change for that spline key frame.</span></span> <span data-ttu-id="8e91a-254">曲線越陡峭，主要畫面格變更值的速度就越快。</span><span class="sxs-lookup"><span data-stu-id="8e91a-254">The steeper the curve, the faster the key frame changes its values.</span></span> <span data-ttu-id="8e91a-255">曲線越平滑，主要畫面格變更值的速度就越慢。</span><span class="sxs-lookup"><span data-stu-id="8e91a-255">As the curve gets flatter, the key frame changes its values more slowly.</span></span>  
  
 <span data-ttu-id="8e91a-256">您可以使用<xref:System.Windows.Media.Animation.KeySpline>來模擬實體滴下，例如切換 water 或彈跳球，或將其他 「 加速 」 與 「 減速 」 效果套用至移動動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-256">You might use <xref:System.Windows.Media.Animation.KeySpline> to simulate physical trajectories like falling water or bouncing balls, or apply other "ease in" and "ease out" effects to motion animations.</span></span> <span data-ttu-id="8e91a-257">至於使用者互動效果 (像是背景淡出或控制按鈕彈回)，您可以套用曲線插補，以特定方式加速或減慢動畫的變化速率。</span><span class="sxs-lookup"><span data-stu-id="8e91a-257">For user interaction effects like background fades or control button rebound, you might apply splined interpolation to speed up or slow down the rate of change for an animation in a specific way.</span></span>  
  
 <span data-ttu-id="8e91a-258">下列範例會指定<xref:System.Windows.Media.Animation.KeySpline>的 0，1 1，這會建立下列貝茲曲線，0。</span><span class="sxs-lookup"><span data-stu-id="8e91a-258">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0,1 1,0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="8e91a-259">![貝茲曲線](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span><span class="sxs-lookup"><span data-stu-id="8e91a-259">![A Bezier curve](./media/graphicsmm-keyspline-0-1-1-0.png "graphicsmm_keyspline_0_1_1_0")</span></span>  
<span data-ttu-id="8e91a-260">控制點位於 (0.0, 1.0) 和 (1.0, 0.0) 的主要曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-260">A key spline with control points (0.0, 1.0) and (1.0, 0.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexample)]  
  
 <span data-ttu-id="8e91a-261">這個主要畫面格在開始時會急速顯示動畫，而後減慢，然後在結束之前再次加速。</span><span class="sxs-lookup"><span data-stu-id="8e91a-261">This key frame animates rapidly when it begins, slows down, and then speeds up again before it ends.</span></span>  
  
 <span data-ttu-id="8e91a-262">下列範例會指定<xref:System.Windows.Media.Animation.KeySpline>的 0.5,0.25 0.75,1.0，這會建立下列貝茲曲線。</span><span class="sxs-lookup"><span data-stu-id="8e91a-262">The following example specifies a <xref:System.Windows.Media.Animation.KeySpline> of 0.5,0.25 0.75,1.0, which creates the following Bezier curve.</span></span>  
  
 <span data-ttu-id="8e91a-263">![貝茲曲線](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span><span class="sxs-lookup"><span data-stu-id="8e91a-263">![A Bezier curve](./media/graphicsmm-keyspline-025-050-075-10.png "graphicsmm_keyspline_025_050_075_10")</span></span>  
<span data-ttu-id="8e91a-264">控制點位於 (0.25, 0.5) 和 (0.75, 1.0) 的主要曲線</span><span class="sxs-lookup"><span data-stu-id="8e91a-264">A key spline with control points (0.25, 0.5) and (0.75, 1.0)</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SingleSplineKeyFrameExampleInline3](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#singlesplinekeyframeexampleinline3)]  
  
 <span data-ttu-id="8e91a-265">因為貝茲曲線的曲率變化很小，所以這個主要畫面格幾乎是以不變的速率顯示動畫；它在結束之前會稍微減慢。</span><span class="sxs-lookup"><span data-stu-id="8e91a-265">Because the curvature of the Bezier curve changes very little, this key frame animates at an almost constant rate; it slows down somewhat toward its very end.</span></span>  
  
 <span data-ttu-id="8e91a-266">下列範例會使用<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>以動畫顯示矩形的位置。</span><span class="sxs-lookup"><span data-stu-id="8e91a-266">The following example uses a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> to animate the position of rectangle.</span></span> <span data-ttu-id="8e91a-267">因為<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>使用<xref:System.Windows.Media.Animation.SplineDoubleKeyFrame>物件，每個主要畫面格值之間的轉換使用曲線插補。</span><span class="sxs-lookup"><span data-stu-id="8e91a-267">Because the <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> uses <xref:System.Windows.Media.Animation.SplineDoubleKeyFrame> objects, the transition between each key frame value uses splined interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#SplinedInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#splinedinterpolationexample)]  
  
 <span data-ttu-id="8e91a-268">曲線插補的概念可能不好理解；試試不同的設定會有所幫助。</span><span class="sxs-lookup"><span data-stu-id="8e91a-268">Splined interpolation can be difficult to understand; experimenting with different settings can help.</span></span> <span data-ttu-id="8e91a-269">[主要曲線動畫範例 (英文)](https://go.microsoft.com/fwlink/?LinkID=160011) 可讓您變更主要曲線值，並查看它在動畫上的效果。</span><span class="sxs-lookup"><span data-stu-id="8e91a-269">The [Key Spline Animation Sample](https://go.microsoft.com/fwlink/?LinkID=160011) enables you to change key spline values and see the result it has on an animation.</span></span>  
  
<a name="combininginterpolationmethods"></a>   
### <a name="combining-interpolation-methods"></a><span data-ttu-id="8e91a-270">結合插補方法</span><span class="sxs-lookup"><span data-stu-id="8e91a-270">Combining Interpolation Methods</span></span>  
 <span data-ttu-id="8e91a-271">在單一主要畫面格動畫中，您可以使用主要畫面格搭配不同的插補類型。</span><span class="sxs-lookup"><span data-stu-id="8e91a-271">You can use key frames with different interpolation types in a single key frame animation.</span></span> <span data-ttu-id="8e91a-272">當具有不同插補的兩個主要畫面格動畫彼此相隨時，第二個主要畫面格的插補方法會用來建立第一個值到第二個值的轉換。</span><span class="sxs-lookup"><span data-stu-id="8e91a-272">When two key frame animations with different interpolations follow each other, the interpolation method of the second key frame is used to create the transition from the first value to the second.</span></span>  
  
 <span data-ttu-id="8e91a-273">在下列範例中，<xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames>會建立該使用線性、 曲線和離散插補。</span><span class="sxs-lookup"><span data-stu-id="8e91a-273">In the following example, a <xref:System.Windows.Media.Animation.DoubleAnimationUsingKeyFrames> is created that uses linear, splined, and discrete interpolation.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#ComboInterpolationExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/InterpolationMethodsExample.xaml#combointerpolationexample)]  
  
<a name="keytimes"></a>   
## <a name="more-about-duration-and-key-times"></a><span data-ttu-id="8e91a-274">深入了解持續期間和關鍵時間</span><span class="sxs-lookup"><span data-stu-id="8e91a-274">More about Duration and Key Times</span></span>  
 <span data-ttu-id="8e91a-275">如同其他動畫，主要畫面格動畫也有<xref:System.Windows.Duration>屬性。</span><span class="sxs-lookup"><span data-stu-id="8e91a-275">Like other animations, key-frame animations have a <xref:System.Windows.Duration> property.</span></span> <span data-ttu-id="8e91a-276">除了指定動畫的<xref:System.Windows.Duration>，您必須指定這段期間的哪個部分提供給每個主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-276">In addition to specifying the animation's <xref:System.Windows.Duration>, you need to specify what portion of that duration is given to each key frame.</span></span> <span data-ttu-id="8e91a-277">您可以透過描述<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>針對每個動畫的主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-277">You do so by describing a   <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> for each of the animation's key frames.</span></span> <span data-ttu-id="8e91a-278">每個主要畫面格的<xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>指定該主要畫面格的結束時。</span><span class="sxs-lookup"><span data-stu-id="8e91a-278">Each key frame's <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> specifies when that key frame ends.</span></span>  
  
 <span data-ttu-id="8e91a-279"><xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>屬性不會指定多久的關鍵時間播放。</span><span class="sxs-lookup"><span data-stu-id="8e91a-279">The <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property does not specify how long the key time plays.</span></span> <span data-ttu-id="8e91a-280">主要畫面格的播放時間量取決於主要畫面格的結束時間、前一個主要畫面格的結束時間，以及動畫的持續期間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-280">The amount of time a key frame plays is determined by when the key frame ends, when the previous key frame ended, and the animation's duration.</span></span> <span data-ttu-id="8e91a-281">可能指定關鍵時間，做為時間值，而百分比，或做為特殊值<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>或<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-281">Key times may be specified as a time value, a percentage, or as the special values <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 <span data-ttu-id="8e91a-282">下列清單說明指定關鍵時間的幾種不同方式。</span><span class="sxs-lookup"><span data-stu-id="8e91a-282">The following list describes the different ways of specifying key times.</span></span>  
  
### <a name="timespan-values"></a><span data-ttu-id="8e91a-283">TimeSpan 值</span><span class="sxs-lookup"><span data-stu-id="8e91a-283">TimeSpan Values</span></span>  
 <span data-ttu-id="8e91a-284">您可以使用<xref:System.TimeSpan>值來指定<xref:System.Windows.Media.Animation.KeyTime>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-284">You may use <xref:System.TimeSpan> values to specify a <xref:System.Windows.Media.Animation.KeyTime>.</span></span> <span data-ttu-id="8e91a-285">此值應該大於或等於 0，並且小於或等於動畫的持續期間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-285">The value should be greater than or equal to 0 and less than or equal to the animation's duration.</span></span> <span data-ttu-id="8e91a-286">下列範例顯示的動畫具有 10 秒的持續期間和四個主要畫面格，其中每個主要畫面格的關鍵時間都是以時間值指定。</span><span class="sxs-lookup"><span data-stu-id="8e91a-286">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as time values.</span></span>  
  
-   <span data-ttu-id="8e91a-287">第一個主要畫面格會在前 3 秒顯示從基底值至 100 的動畫，並且在時間等於 0:0:03 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-287">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:03.</span></span>  
  
-   <span data-ttu-id="8e91a-288">第二個主要畫面格會從 100 展示動畫至 200。</span><span class="sxs-lookup"><span data-stu-id="8e91a-288">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="8e91a-289">它會在第一個主要畫面格結束 (時間等於 3 秒) 後開始播放 5 秒，並且在時間等於 0:0:8 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-289">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8.</span></span>  
  
-   <span data-ttu-id="8e91a-290">第三個主要畫面格會從 200 展示動畫至 500。</span><span class="sxs-lookup"><span data-stu-id="8e91a-290">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="8e91a-291">它會在第二個主要畫面格結束 (時間等於 8 秒) 時開始播放 1 秒，並且在時間等於 0:0:9 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-291">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9.</span></span>  
  
-   <span data-ttu-id="8e91a-292">第四個主要畫面格會從 500 展示動畫至 600。</span><span class="sxs-lookup"><span data-stu-id="8e91a-292">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="8e91a-293">它會在第三個主要畫面格結束 (時間等於 9 秒) 時開始播放 1 秒，並且在時間等於 0:0:10 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-293">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#TimeSpanKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#timespankeytimeexample)]  
  
### <a name="percentage-values"></a><span data-ttu-id="8e91a-294">百分比值</span><span class="sxs-lookup"><span data-stu-id="8e91a-294">Percentage Values</span></span>  
 <span data-ttu-id="8e91a-295">百分比值，指定主要畫面格結尾的動畫的某個百分比<xref:System.Windows.Media.Animation.Timeline.Duration%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-295">A percentage value specifies that the key frame ends at some percentage of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A>.</span></span> <span data-ttu-id="8e91a-296">在 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 中，百分比的指定方式為在數字後面加上 `%` 符號。</span><span class="sxs-lookup"><span data-stu-id="8e91a-296">In [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you specify the percentage as a number followed by the `%` symbol.</span></span> <span data-ttu-id="8e91a-297">在程式碼中，您會使用<xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A>方法並將它傳遞<xref:System.Double>指出的百分比。</span><span class="sxs-lookup"><span data-stu-id="8e91a-297">In code, you use the <xref:System.Windows.Media.Animation.KeyTime.FromPercent%2A> method and pass it a <xref:System.Double> indicating the percentage.</span></span> <span data-ttu-id="8e91a-298">值必須大於或等於 0 且小於或等於 100%。</span><span class="sxs-lookup"><span data-stu-id="8e91a-298">The value must be greater than or equal to 0 and less than or equal to 100 percent.</span></span> <span data-ttu-id="8e91a-299">下列範例顯示的動畫具有 10 秒的持續期間和四個主要畫面格，其中每個主要畫面格的關鍵時間都是以百分比指定。</span><span class="sxs-lookup"><span data-stu-id="8e91a-299">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as percentages.</span></span>  
  
-   <span data-ttu-id="8e91a-300">第一個主要畫面格會在前 3 秒顯示從基底值至 100 的動畫，並且在時間等於 0:0:3 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-300">The first key frame animates from the base value to 100 over the first 3 seconds, ending at time = 0:0:3.</span></span>  
  
-   <span data-ttu-id="8e91a-301">第二個主要畫面格會從 100 展示動畫至 200。</span><span class="sxs-lookup"><span data-stu-id="8e91a-301">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="8e91a-302">它會在第一個主要畫面格結束 (時間等於 3 秒) 後開始播放 5 秒，並且在時間等於 0:0:8 (0.8 \* 10 = 8) 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-302">It starts after the first key frame ends (at time = 3 seconds) and plays for 5 seconds, ending at time = 0:0:8 (0.8 \* 10 = 8).</span></span>  
  
-   <span data-ttu-id="8e91a-303">第三個主要畫面格會從 200 展示動畫至 500。</span><span class="sxs-lookup"><span data-stu-id="8e91a-303">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="8e91a-304">它會在第二個主要畫面格結束 (時間等於 8 秒) 時開始播放 1 秒，並且在時間等於 0:0:9 (0.9 \* 10 = 9) 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-304">It starts when the second key frame ends (at time = 8 seconds) and plays for 1 second, ending at time = 0:0:9 (0.9 \* 10 = 9).</span></span>  
  
-   <span data-ttu-id="8e91a-305">第四個主要畫面格會從 500 展示動畫至 600。</span><span class="sxs-lookup"><span data-stu-id="8e91a-305">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="8e91a-306">它會在第三個主要畫面格結束 (時間等於 9 秒) 時開始播放 1 秒，並且在時間等於 0:0:10 (1 \* 10 = 10) 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-306">It starts when the third key frame ends (at time = 9 seconds) and plays for 1 second, ending at time = 0:0:10 (1 \* 10 = 10).</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PercentageKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#percentagekeytimeexample)]  
  
### <a name="special-value-uniform"></a><span data-ttu-id="8e91a-307">特殊值 Uniform</span><span class="sxs-lookup"><span data-stu-id="8e91a-307">Special Value, Uniform</span></span>  
 <span data-ttu-id="8e91a-308">使用<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>逾時要採取相同的時間量的每個主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-308">Use <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> timing when you want each key frame to take the same amount of time.</span></span>  
  
 <span data-ttu-id="8e91a-309">A<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>關鍵時間將可用時間平均除以來判斷每個主要畫面格的結束時間的主要畫面格數目。</span><span class="sxs-lookup"><span data-stu-id="8e91a-309">A <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> key time divides the available time equally by the number of key frames to determine the end time of each key frame.</span></span> <span data-ttu-id="8e91a-310">下列範例顯示的動畫具有 10 秒的持續時間，並指定為索引鍵時間的四個主要畫面格<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-310">The following example shows an animation with a duration of 10 seconds and four key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>.</span></span>  
  
-   <span data-ttu-id="8e91a-311">第一個主要畫面格會在前 2.5 秒顯示從基底值至 100 的動畫，並且在時間等於 0:0:2.5 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-311">The first key frame animates from the base value to 100 over the first 2.5 seconds, ending at time = 0:0:2.5.</span></span>  
  
-   <span data-ttu-id="8e91a-312">第二個主要畫面格會從 100 展示動畫至 200。</span><span class="sxs-lookup"><span data-stu-id="8e91a-312">The second key frame animates from 100 to 200.</span></span> <span data-ttu-id="8e91a-313">它會在第一個主要畫面格結束 (時間等於 2.5 秒) 後開始播放 2.5 秒，並且在時間等於 0:0:5 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-313">It starts after the first key frame ends (at time = 2.5 seconds) and plays for approximately 2.5 seconds, ending at time = 0:0:5.</span></span>  
  
-   <span data-ttu-id="8e91a-314">第三個主要畫面格會從 200 展示動畫至 500。</span><span class="sxs-lookup"><span data-stu-id="8e91a-314">The third key frame animates from 200 to 500.</span></span> <span data-ttu-id="8e91a-315">它會在第二個主要畫面格結束 (時間等於 5 秒) 時開始播放 2.5 秒，並且在時間等於 0:0:7.5 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-315">It starts when the second key frame ends (at time = 5 seconds) and plays for 2.5 seconds, ending at time = 0:0:7.5.</span></span>  
  
-   <span data-ttu-id="8e91a-316">第四個主要畫面格會從 500 展示動畫至 600。</span><span class="sxs-lookup"><span data-stu-id="8e91a-316">The fourth key frame animates from 500 to 600.</span></span> <span data-ttu-id="8e91a-317">它會在第二個主要畫面格結束 (時間等於 7.5 秒) 時開始播放 2.5 秒，並且在時間等於 0:0:1 時結束。</span><span class="sxs-lookup"><span data-stu-id="8e91a-317">It starts when the second key frame ends (at time = 7.5 seconds) and plays for 2.5 seconds, ending at time = 0:0:1.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#UniformKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#uniformkeytimeexample)]  
  
### <a name="special-value-paced"></a><span data-ttu-id="8e91a-318">特殊值 Paced</span><span class="sxs-lookup"><span data-stu-id="8e91a-318">Special Value, Paced</span></span>  
 <span data-ttu-id="8e91a-319">使用<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>逾時您想要以動畫顯示變的速率。</span><span class="sxs-lookup"><span data-stu-id="8e91a-319">Use <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> timing when you want to animate at a constant rate.</span></span>  
  
 <span data-ttu-id="8e91a-320">A<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>關鍵時間會配置可用的時間，根據每個主要畫面格，以判斷每個畫面格的持續時間的長度。</span><span class="sxs-lookup"><span data-stu-id="8e91a-320">A <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> key time allocates the available time according to the length of each of the key frames to determine the duration of each frame.</span></span>  <span data-ttu-id="8e91a-321">這樣會使動畫的速度或步調維持不變。</span><span class="sxs-lookup"><span data-stu-id="8e91a-321">This will provide the behavior that the velocity or pace of the animation remains constant.</span></span>  <span data-ttu-id="8e91a-322">下列範例顯示的動畫具有 10 秒的持續時間，並指定為索引鍵時間的三個主要畫面格<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>。</span><span class="sxs-lookup"><span data-stu-id="8e91a-322">The following example shows an animation with a duration of 10 seconds and three key frames whose key times are specified as <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>.</span></span>  
  
 [!code-xaml[keyframes_ovw_snippet#PacedKeyTimeExample](~/samples/snippets/csharp/VS_Snippets_Wpf/keyframes_ovw_snippet/CS/KeyTimesExample.xaml#pacedkeytimeexample)]  
  
 <span data-ttu-id="8e91a-323">請注意，如果最後一個主要畫面格的關鍵時間<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>或<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>，其解析後的關鍵時間將會設定為 100%。</span><span class="sxs-lookup"><span data-stu-id="8e91a-323">Note that, if the last key frame's key time is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> or <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>, its resolved key time will be set to 100 percent.</span></span> <span data-ttu-id="8e91a-324">如果多格動畫中的第一個主要畫面格已設定速度，其解析後的關鍵時間將會設定 0。</span><span class="sxs-lookup"><span data-stu-id="8e91a-324">If the first key frame in a multiframe animation is paced, its resolved key time will be set to 0.</span></span> <span data-ttu-id="8e91a-325">(如果主要畫面格集合僅包含單一主要畫面格，而且是已設定速度的主要畫面格，其解析後的關鍵時間將會設定為 100%。)</span><span class="sxs-lookup"><span data-stu-id="8e91a-325">(If the key frame collection contains only a single key frame and it is a paced key frame, its resolved key time will be set to 100 percent.)</span></span>  
  
 <span data-ttu-id="8e91a-326">單一主要畫面格動畫中的不同主要畫面格可以使用不同的主要畫面格型別。</span><span class="sxs-lookup"><span data-stu-id="8e91a-326">Different key frames within a single key frame animation may use different key time types.</span></span>  
  
<a name="combiningkeytimes"></a>   
## <a name="combining-key-times-out-of-order-key-frames"></a><span data-ttu-id="8e91a-327">合併關鍵時間、不按順序的主要畫面格</span><span class="sxs-lookup"><span data-stu-id="8e91a-327">Combining Key Times, Out-Of-Order Key Frames</span></span>  
 <span data-ttu-id="8e91a-328">您可以使用主要畫面格具有不同<xref:System.Windows.Media.Animation.KeyTime>實值型別，在相同的動畫。</span><span class="sxs-lookup"><span data-stu-id="8e91a-328">You can use key frames with different <xref:System.Windows.Media.Animation.KeyTime> value types in the same animation.</span></span> <span data-ttu-id="8e91a-329">而且，雖然建議您依播放順序加入主要畫面格，但這不是必要的。</span><span class="sxs-lookup"><span data-stu-id="8e91a-329">And, although it's recommended that you add key frames in the order in which they should play, it's not necessary.</span></span> <span data-ttu-id="8e91a-330">動畫和計時系統能夠解析不按順序的主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-330">The animation and timing system is capable of resolving out of order key frames.</span></span> <span data-ttu-id="8e91a-331">系統會忽略具有無效關鍵時間的主要畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-331">Key frames with invalid key times are ignored.</span></span>  
  
 <span data-ttu-id="8e91a-332">下列清單說明在主要畫面格動畫中，解析主要畫面格關鍵時間的程序。</span><span class="sxs-lookup"><span data-stu-id="8e91a-332">The following list describes the procedure by which key times are resolved for a key-frame animation's key frames.</span></span>  
  
1.  <span data-ttu-id="8e91a-333">解決<xref:System.TimeSpan><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-333">Resolve <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
2.  <span data-ttu-id="8e91a-334">決定動畫的「總插補時間」，也就是主要畫面格動畫用於完成向前逐一查看的總時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-334">Determine the animation’s *total interpolation time*, the total time it takes the key-frame animation to complete a forward iteration.</span></span>  
  
    1.  <span data-ttu-id="8e91a-335">如果動畫<xref:System.Windows.Media.Animation.Timeline.Duration%2A>不是<xref:System.Windows.Duration.Automatic%2A>或是<xref:System.Windows.Duration.Forever%2A>，總插補時間為動畫的<xref:System.Windows.Media.Animation.Timeline.Duration%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="8e91a-335">If the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> is not <xref:System.Windows.Duration.Automatic%2A> or <xref:System.Windows.Duration.Forever%2A>, the total interpolation time is the value of the animation's <xref:System.Windows.Media.Animation.Timeline.Duration%2A> property.</span></span>  
  
    2.  <span data-ttu-id="8e91a-336">否則，總插補時間是最大<xref:System.TimeSpan><xref:System.Windows.Media.Animation.KeyTime>如果有的話，在其主要畫面中，指定的值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-336">Otherwise, the total interpolation time is the largest <xref:System.TimeSpan> <xref:System.Windows.Media.Animation.KeyTime> value specified among its key frames, if any exist.</span></span>  
  
    3.  <span data-ttu-id="8e91a-337">否則，總插補時間為 1 秒。</span><span class="sxs-lookup"><span data-stu-id="8e91a-337">Otherwise, the total interpolation time is 1 second.</span></span>  
  
3.  <span data-ttu-id="8e91a-338">使用總插補時間值來解決<xref:System.Windows.Media.Animation.KeyTimeType.Percent><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-338">Use the total interpolation time value to resolve <xref:System.Windows.Media.Animation.KeyTimeType.Percent> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
4.  <span data-ttu-id="8e91a-339">如果尚未在先前步驟中解析最後一個主要畫面格，則加以解析。</span><span class="sxs-lookup"><span data-stu-id="8e91a-339">Resolve last key frame, if it wasn't already resolved in the previous steps.</span></span> <span data-ttu-id="8e91a-340">如果<xref:System.Windows.Media.Animation.KeyTime>之最後一個是主要畫面格<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A>或<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>，其解析後的時間將會等於總插補時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-340">If the <xref:System.Windows.Media.Animation.KeyTime> of the last key frame is <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> or <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, its resolved time will be equal to the total interpolation time.</span></span>  
  
     <span data-ttu-id="8e91a-341">如果<xref:System.Windows.Media.Animation.KeyTime>的第一個主要畫面格是<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>這個動畫有多個主要畫面格，在解決和其<xref:System.Windows.Media.Animation.KeyTime>值為零; 如果只有一個主要畫面格並將其<xref:System.Windows.Media.Animation.KeyTime>值是<xref:System.Windows.Media.Animation.KeyTime.Paced%2A>，它會解析成總計插補時間，在上一個步驟中所述。</span><span class="sxs-lookup"><span data-stu-id="8e91a-341">If the <xref:System.Windows.Media.Animation.KeyTime> of the first key frame is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> and this animation has more than on key frames, resolve its <xref:System.Windows.Media.Animation.KeyTime> value to zero; if there is only one key frame and its <xref:System.Windows.Media.Animation.KeyTime> value is <xref:System.Windows.Media.Animation.KeyTime.Paced%2A>, it is resolved to the total interpolation time, as described in the preceding step.</span></span>  
  
5.  <span data-ttu-id="8e91a-342">解析剩餘<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A><xref:System.Windows.Media.Animation.KeyTime>值： 每個授與他們為平均共用可用的時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-342">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values: they are each given an equal share of the available time.</span></span>  <span data-ttu-id="8e91a-343">在此過程中，無法解析<xref:System.Windows.Media.Animation.KeyTime.Paced%2A><xref:System.Windows.Media.Animation.KeyTime>值會暫時視為<xref:System.Windows.Media.Animation.KeyTime.Uniform%2A><xref:System.Windows.Media.Animation.KeyTime>值，以及取得暫時的解決時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-343">During this process, unresolved <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values  are temporarily treated as <xref:System.Windows.Media.Animation.KeyTime.Uniform%2A> <xref:System.Windows.Media.Animation.KeyTime> values, and get a temporary resolved time.</span></span>  
  
6.  <span data-ttu-id="8e91a-344">解決<xref:System.Windows.Media.Animation.KeyTime>使用的主要畫面格的值未指定關鍵時間，使用主要畫面格宣告最接近解決<xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-344">Resolve the <xref:System.Windows.Media.Animation.KeyTime> values of key frames with unspecified key times by using the key frames declared nearest them that have resolved <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
7.  <span data-ttu-id="8e91a-345">解析剩餘<xref:System.Windows.Media.Animation.KeyTime.Paced%2A><xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-345">Resolve remaining <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> values.</span></span> <xref:System.Windows.Media.Animation.KeyTime.Paced%2A> <xref:System.Windows.Media.Animation.KeyTime> <span data-ttu-id="8e91a-346">使用<xref:System.Windows.Media.Animation.KeyTime>鄰近的值索引鍵來判斷其解析後的時間的畫面格。</span><span class="sxs-lookup"><span data-stu-id="8e91a-346">use the <xref:System.Windows.Media.Animation.KeyTime> values of the neighboring key frames to determine their resolved time.</span></span>  <span data-ttu-id="8e91a-347">這是為了確保動畫的速度維持在此主要畫面格的解析時間。</span><span class="sxs-lookup"><span data-stu-id="8e91a-347">The goal is to ensure that the velocity of the animation is constant around this key frame's resolved time.</span></span>  
  
8.  <span data-ttu-id="8e91a-348">也就是排序主要畫面格的解決時間 （主索引鍵） 的順序和宣告 （次要索引鍵） 的順序，請使用穩定的排序根據已解析的主要畫面格<xref:System.Windows.Media.Animation.KeyTime>值。</span><span class="sxs-lookup"><span data-stu-id="8e91a-348">Sort key frames in order of resolved time (primary key), and order of declaration (secondary key), i.e., use a stable sort based on the resolved key frame <xref:System.Windows.Media.Animation.KeyTime> values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e91a-349">另請參閱</span><span class="sxs-lookup"><span data-stu-id="8e91a-349">See also</span></span>

- <xref:System.Windows.Media.Animation.KeyTime>
- <xref:System.Windows.Media.Animation.KeySpline>
- <xref:System.Windows.Media.Animation.Timeline>
- [<span data-ttu-id="8e91a-350">主要曲線動畫範例</span><span class="sxs-lookup"><span data-stu-id="8e91a-350">Key Spline Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160011)
- [<span data-ttu-id="8e91a-351">主要畫面格動畫範例</span><span class="sxs-lookup"><span data-stu-id="8e91a-351">KeyFrame Animation Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=160012)
- [<span data-ttu-id="8e91a-352">動畫概觀</span><span class="sxs-lookup"><span data-stu-id="8e91a-352">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="8e91a-353">分鏡腳本概觀</span><span class="sxs-lookup"><span data-stu-id="8e91a-353">Storyboards Overview</span></span>](storyboards-overview.md)
- [<span data-ttu-id="8e91a-354">關於主要畫面格操作說明的主題</span><span class="sxs-lookup"><span data-stu-id="8e91a-354">Key-Frame How-to Topics</span></span>](key-frame-animation-how-to-topics.md)
- [<span data-ttu-id="8e91a-355">計時行為概觀</span><span class="sxs-lookup"><span data-stu-id="8e91a-355">Timing Behaviors Overview</span></span>](timing-behaviors-overview.md)
