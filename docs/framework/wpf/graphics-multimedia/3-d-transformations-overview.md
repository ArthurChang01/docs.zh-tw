---
title: 立體轉換概觀
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- 3-D transformations
- transformations [WPF], 3-D
ms.assetid: e45e555d-ac1e-4b36-aced-e433afe7f27f
ms.openlocfilehash: d27e1bda296a153343b450c84c65fa35d55d72f2
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/03/2018
ms.locfileid: "43483719"
---
# <a name="3-d-transformations-overview"></a><span data-ttu-id="d9f19-102">立體轉換概觀</span><span class="sxs-lookup"><span data-stu-id="d9f19-102">3-D Transformations Overview</span></span>
<span data-ttu-id="d9f19-103">本主題說明如何對 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 圖形系統中的 3D 模型套用轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-103">This topic describes how to apply transformations to 3-D models in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] graphics system.</span></span> <span data-ttu-id="d9f19-104">轉換可讓開發人員重新置放模型、調整模型大小，以及調整模型方向，而不需要變更定義模型的基底值。</span><span class="sxs-lookup"><span data-stu-id="d9f19-104">Transformations allow the developer to reposition, resize, and reorient models without changing the base values that define them.</span></span>  
  

  
## <a name="3-d-coordinate-space"></a><span data-ttu-id="d9f19-105">3D 座標空間</span><span class="sxs-lookup"><span data-stu-id="d9f19-105">3-D Coordinate Space</span></span>  
 <span data-ttu-id="d9f19-106">3d 圖形中的內容[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]封裝在一個項目， <xref:System.Windows.Controls.Viewport3D>，可參與二維元素結構。</span><span class="sxs-lookup"><span data-stu-id="d9f19-106">3-D graphics content in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is encapsulated in an element, <xref:System.Windows.Controls.Viewport3D>, that can participate in the two-dimensional element structure.</span></span> <span data-ttu-id="d9f19-107">圖形系統會將 Viewport3D 視為二維的視覺元素，就像 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 中許多其他元素一樣。</span><span class="sxs-lookup"><span data-stu-id="d9f19-107">The graphics system treats Viewport3D as a two-dimensional visual element like many others in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="d9f19-108">Viewport3D 運作的方式就像視窗 (檢視區) 一樣，但是是在三維的場景。</span><span class="sxs-lookup"><span data-stu-id="d9f19-108">Viewport3D functions as a window—a viewport—into a three-dimensional scene.</span></span> <span data-ttu-id="d9f19-109">更精確來說，是一種 3D 場景投射到的表面。</span><span class="sxs-lookup"><span data-stu-id="d9f19-109">More accurately, it is a surface on which a 3-D scene is projected.</span></span>  <span data-ttu-id="d9f19-110">雖然您可以在相同的場景圖形中使用 Viewport3D 搭配其他 2D 繪圖物件，但是您不能在 Viewport3D 內貫穿 2D 和 3D 物件。</span><span class="sxs-lookup"><span data-stu-id="d9f19-110">Although you can use Viewport3D with other 2-D drawing objects in the same scene graph, you cannot interpenetrate 2-D and 3-D objects within a Viewport3D.</span></span> <span data-ttu-id="d9f19-111">在以下討論中所描述的座標空間都包含在 Viewport3D 元素中。</span><span class="sxs-lookup"><span data-stu-id="d9f19-111">In the following discussion, the coordinate space described is contained by the Viewport3D element.</span></span>  
  
 <span data-ttu-id="d9f19-112">2D 圖形的 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 座標系統將原點置於轉譯表面 (通常是螢幕) 的左上角。</span><span class="sxs-lookup"><span data-stu-id="d9f19-112">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] coordinate system for 2-D graphics locates the origin in the upper left of the rendering surface (typically the screen).</span></span> <span data-ttu-id="d9f19-113">在 2D 系統中，x 軸的正值是往右，y 軸的正值則是往下。</span><span class="sxs-lookup"><span data-stu-id="d9f19-113">In the 2-D system, positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span> <span data-ttu-id="d9f19-114">不過在 3D 座標系統中，原點是位於螢幕的中心，x 軸的正值是往右，但 y 軸的正值是往上，而 z 軸的正值是從原點朝向檢視器往外。</span><span class="sxs-lookup"><span data-stu-id="d9f19-114">In the 3-D coordinate system, however, the origin is located in the center of the screen, with positive x-axis values proceeding to the right but positive y-axis values proceeding upward instead, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span>  
  
 <span data-ttu-id="d9f19-115">![座標系統](../../../../docs/framework/wpf/graphics-multimedia/media/coordsystem-1.png "CoordSystem 1")</span><span class="sxs-lookup"><span data-stu-id="d9f19-115">![Coordinate systems](../../../../docs/framework/wpf/graphics-multimedia/media/coordsystem-1.png "CoordSystem-1")</span></span>  
<span data-ttu-id="d9f19-116">座標系統比較</span><span class="sxs-lookup"><span data-stu-id="d9f19-116">Coordinate System Comparison</span></span>  
  
 <span data-ttu-id="d9f19-117">這些軸所定義的空間是針對 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 中 3D 物件的靜態參考座標系。</span><span class="sxs-lookup"><span data-stu-id="d9f19-117">The space defined by these axes is the stationary frame of reference for 3-D objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="d9f19-118">當您在此空間中建置模型，並建立光線和觀景窗來檢視這些模型時，有助於區分此靜態參考座標系 (或稱為「世界空間」) 與您為每個模型套用轉換時建立的當地參考座標系。</span><span class="sxs-lookup"><span data-stu-id="d9f19-118">As you build models in this space and create lights and cameras to view them, it's helpful to distinguish this stationary frame of reference, or "world space," from the local frame of reference you create for each model when you apply transformations to it.</span></span> <span data-ttu-id="d9f19-119">也請記住，在世界空間中的物件取決於光線和觀景窗設定，可能看起來完全不同，或者完全無法看見，但觀景窗的位置不會改變世界空間中物件的位置。</span><span class="sxs-lookup"><span data-stu-id="d9f19-119">Remember also that objects in world space might look entirely different, or not be visible at all, depending on light and camera settings, but the position of the camera does not change the location of objects in world space.</span></span>  
  
## <a name="transforming-models"></a><span data-ttu-id="d9f19-120">轉換模型</span><span class="sxs-lookup"><span data-stu-id="d9f19-120">Transforming Models</span></span>  
 <span data-ttu-id="d9f19-121">當您建立模型時，模型在場景中有特定的位置。</span><span class="sxs-lookup"><span data-stu-id="d9f19-121">When you create models, they have a particular location in the scene.</span></span> <span data-ttu-id="d9f19-122">若要在場景中四處移動模型、旋轉模型，或變更模型的大小，變更定義模型的頂點本身並不實用。</span><span class="sxs-lookup"><span data-stu-id="d9f19-122">To move those models around in the scene, to rotate them, or to change their size, it's not practical to change the vertices that define the models themselves.</span></span> <span data-ttu-id="d9f19-123">而是要像在 2D 一樣，對模型套用轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-123">Instead, just as in 2-D, you apply transformations to models.</span></span>  
  
 <span data-ttu-id="d9f19-124">每個模型物件都<xref:System.Windows.Media.Media3D.Model3D.Transform%2A>與移動、 重新導向，或調整模型大小的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-124">Each model object has a <xref:System.Windows.Media.Media3D.Model3D.Transform%2A> property with which you can move, re-orient, or resize the model.</span></span> <span data-ttu-id="d9f19-125">當您套用轉換時，可以透過轉換所指定的任何向量或值，有效率地位移模型的所有點。</span><span class="sxs-lookup"><span data-stu-id="d9f19-125">When you apply a transform, you effectively offset all the points of the model by whatever vector or value is specified by the transform.</span></span> <span data-ttu-id="d9f19-126">換句話說，您已經轉換定義模型所在的座標空間 (「模型空間」)，但尚未變更在整個場景的座標系統 (「世界空間」) 中組成模型幾何的值。</span><span class="sxs-lookup"><span data-stu-id="d9f19-126">In other words, you've transformed the coordinate space in which the model is defined ("model space"), but you haven't changed the values that make up the model's geometry in the coordinate system of the entire scene ("world space").</span></span>  
  
## <a name="translation-transformations"></a><span data-ttu-id="d9f19-127">平移轉換</span><span class="sxs-lookup"><span data-stu-id="d9f19-127">Translation Transformations</span></span>  
 <span data-ttu-id="d9f19-128">3d 轉換繼承自抽象基底類別<xref:System.Windows.Media.Media3D.Transform3D>; 其中包括仿射轉換類別<xref:System.Windows.Media.Media3D.TranslateTransform3D>， <xref:System.Windows.Media.Media3D.ScaleTransform3D>，和<xref:System.Windows.Media.Media3D.RotateTransform3D>。</span><span class="sxs-lookup"><span data-stu-id="d9f19-128">3-D transformations inherit from the abstract base class <xref:System.Windows.Media.Media3D.Transform3D>; these include the affine transform classes <xref:System.Windows.Media.Media3D.TranslateTransform3D>, <xref:System.Windows.Media.Media3D.ScaleTransform3D>, and <xref:System.Windows.Media.Media3D.RotateTransform3D>.</span></span> <span data-ttu-id="d9f19-129">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3d 系統也提供<xref:System.Windows.Media.Media3D.MatrixTransform3D>類別，可讓您更精確的矩陣作業中指定相同的轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-129">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D system also provides a <xref:System.Windows.Media.Media3D.MatrixTransform3D> class that lets you specify the same transformations in more concise matrix operations.</span></span>  
  
 <span data-ttu-id="d9f19-130"><xref:System.Windows.Media.Media3D.TranslateTransform3D> 將所有資料點移動 model3d 中您使用指定的位移向量的方向<xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetX%2A>， <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetY%2A>，和<xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetZ%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-130"><xref:System.Windows.Media.Media3D.TranslateTransform3D> moves all the points in the Model3D in the direction of the offset vector you specify with the <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetX%2A>, <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetY%2A>, and <xref:System.Windows.Media.Media3D.TranslateTransform3D.OffsetZ%2A> properties.</span></span> <span data-ttu-id="d9f19-131">例如，(2,2,2) 有一個立方體的頂點，(0,1.6,1) 的位移向量會將該頂點 (2,2,2) 移動到 (2,3.6,3)。</span><span class="sxs-lookup"><span data-stu-id="d9f19-131">For example, given one vertex of a cube at (2,2,2), an offset vector of (0,1.6,1) would move that vertex (2,2,2) to (2,3.6,3).</span></span> <span data-ttu-id="d9f19-132">立方體的頂點還是在模型空間中的 (2,2,2)，但現在該模型空間已變更它與世界空間的關聯性，因此模型空間中的 (2,2,2) 就是世界空間中的 (2,3.6,3)。</span><span class="sxs-lookup"><span data-stu-id="d9f19-132">The cube's vertex is still (2,2,2) in model space, but now that model space has changed its relationship to world space so that (2,2,2) in model space is (2,3.6,3) in world space.</span></span>  
  
 <span data-ttu-id="d9f19-133">![轉譯圖](../../../../docs/framework/wpf/graphics-multimedia/media/transforms-translate.png "轉換轉譯")</span><span class="sxs-lookup"><span data-stu-id="d9f19-133">![Translation figure](../../../../docs/framework/wpf/graphics-multimedia/media/transforms-translate.png "Transforms-Translate")</span></span>  
<span data-ttu-id="d9f19-134">使用位移的平移</span><span class="sxs-lookup"><span data-stu-id="d9f19-134">Translation with Offset</span></span>  
  
 <span data-ttu-id="d9f19-135">下列程式碼範例示範如何套用平移。</span><span class="sxs-lookup"><span data-stu-id="d9f19-135">The following code examples show how to apply a translation.</span></span>  
  
 [!code-xaml[animation3dgallery_snip#Translation3DAnimationExampleWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Animation3DGallery_snip/CS/Translation3DAnimationExample.xaml#translation3danimationexamplewholepage)]  
  
## <a name="scale-transformations"></a><span data-ttu-id="d9f19-136">縮放轉換</span><span class="sxs-lookup"><span data-stu-id="d9f19-136">Scale Transformations</span></span>  
 <span data-ttu-id="d9f19-137"><xref:System.Windows.Media.Media3D.ScaleTransform3D> 變更模型的縮放中心點指定的縮放向量。</span><span class="sxs-lookup"><span data-stu-id="d9f19-137"><xref:System.Windows.Media.Media3D.ScaleTransform3D> changes the model's scale by a specified scale vector with reference to a center point.</span></span> <span data-ttu-id="d9f19-138">指定統一的縮放比例，會將模型沿著 X、Y 和 Z 軸縮放相同的值，以便依比例變更模型的大小。</span><span class="sxs-lookup"><span data-stu-id="d9f19-138">Specify a uniform scale, which scales the model by the same value in the X, Y, and Z axes, to change the model's size proportionally.</span></span> <span data-ttu-id="d9f19-139">例如，設定轉換<xref:System.Windows.Media.ScaleTransform.ScaleX%2A>， <xref:System.Windows.Media.ScaleTransform.ScaleY%2A>，和<xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A>屬性為 0.5 一半模型的大小; 將相同的屬性設定為 2 會加倍在所有三個軸。</span><span class="sxs-lookup"><span data-stu-id="d9f19-139">For example, setting the transform's <xref:System.Windows.Media.ScaleTransform.ScaleX%2A>, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A>, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> properties to 0.5 halves the size of the model; setting the same properties to 2 doubles its scale in all three axes.</span></span>  
  
 <span data-ttu-id="d9f19-140">![統一 ScaleTransform3D](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-uniformscale-1.png "threecubes_uniformscale_1")</span><span class="sxs-lookup"><span data-stu-id="d9f19-140">![Uniform ScaleTransform3D](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-uniformscale-1.png "threecubes_uniformscale_1")</span></span>  
<span data-ttu-id="d9f19-141">ScaleVector 範例</span><span class="sxs-lookup"><span data-stu-id="d9f19-141">ScaleVector Example</span></span>  
  
 <span data-ttu-id="d9f19-142">指定不一致的縮放變換 (X、 Y 和 Z 值並非全都相同的縮放變換)，您可以讓模型在一或兩個維度伸長或收縮，而不影響其他維度。</span><span class="sxs-lookup"><span data-stu-id="d9f19-142">By specifying a non-uniform scale transformation—a scale transformation whose X, Y, and Z values are not all the same—you can cause a model to stretch or contract in one or two dimensions without affecting the others.</span></span> <span data-ttu-id="d9f19-143">例如，設定<xref:System.Windows.Media.ScaleTransform.ScaleX%2A>設為 1，<xref:System.Windows.Media.ScaleTransform.ScaleY%2A>為 2，和<xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A>為 1 會讓轉換的模型高度加倍，但會保持不變，沿著 X 軸和 Z 軸。</span><span class="sxs-lookup"><span data-stu-id="d9f19-143">For example, setting <xref:System.Windows.Media.ScaleTransform.ScaleX%2A> to 1, <xref:System.Windows.Media.ScaleTransform.ScaleY%2A> to 2, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.ScaleZ%2A> to 1 would cause the transformed model to double in height but remain unchanged along the X and Z axes.</span></span>  
  
 <span data-ttu-id="d9f19-144">ScaleTransform3D 預設會讓頂點相對於原點 (0,0,0) 展開或收縮。</span><span class="sxs-lookup"><span data-stu-id="d9f19-144">By default, ScaleTransform3D causes vertices to expand or contract about the origin (0,0,0).</span></span> <span data-ttu-id="d9f19-145">不過如果您想要轉換的模型不是從原點繪製，從原點縮放模型將不會「就地」縮放模型。</span><span class="sxs-lookup"><span data-stu-id="d9f19-145">If the model you want to transform is not drawn from the origin, however, scaling the model from the origin will not scale the model "in place."</span></span> <span data-ttu-id="d9f19-146">而是當模型的頂點乘上縮放向量時，縮放作業將會有平移模型，同時縮放模型的效果。</span><span class="sxs-lookup"><span data-stu-id="d9f19-146">Instead, when the model's vertices are multiplied by the scale vector, the scale operation will have the effect of translating the model as well as scaling it.</span></span>  
  
 <span data-ttu-id="d9f19-147">![以指定的中心點縮放的三個立方體](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-scaledwithcenter-1.png "threecubes_scaledwithcenter_1")</span><span class="sxs-lookup"><span data-stu-id="d9f19-147">![Three cubes scaled with center point specified](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-scaledwithcenter-1.png "threecubes_scaledwithcenter_1")</span></span>  
<span data-ttu-id="d9f19-148">縮放中心範例</span><span class="sxs-lookup"><span data-stu-id="d9f19-148">Scale Center Example</span></span>  
  
 <span data-ttu-id="d9f19-149">若要調整 「 就地 」 模型，來指定模型的中心設定 ScaleTransform3D 的<xref:System.Windows.Media.ScaleTransform.CenterX%2A>， <xref:System.Windows.Media.ScaleTransform.CenterY%2A>，和<xref:System.Windows.Media.Media3D.ScaleTransform3D.CenterZ%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-149">To scale a model "in place," specify the center of the model by setting the ScaleTransform3D's <xref:System.Windows.Media.ScaleTransform.CenterX%2A>, <xref:System.Windows.Media.ScaleTransform.CenterY%2A>, and <xref:System.Windows.Media.Media3D.ScaleTransform3D.CenterZ%2A> properties.</span></span> <span data-ttu-id="d9f19-150">這可確保圖形系統縮放模型空間，然後將它置中指定轉譯<xref:System.Windows.Media.Media3D.Point3D>。</span><span class="sxs-lookup"><span data-stu-id="d9f19-150">This ensures that the graphics system scales the model space and then translates it to center on the specified <xref:System.Windows.Media.Media3D.Point3D>.</span></span> <span data-ttu-id="d9f19-151">但是如果您已經先根據原點建置模型，再指定不同的中心點，則會看到模型偏離原點。</span><span class="sxs-lookup"><span data-stu-id="d9f19-151">Conversely, if you've built the model about the origin and specify a different center point, expect to see the model translated away from the origin.</span></span>  
  
## <a name="rotation-transformations"></a><span data-ttu-id="d9f19-152">旋轉轉換</span><span class="sxs-lookup"><span data-stu-id="d9f19-152">Rotation Transformations</span></span>  
 <span data-ttu-id="d9f19-153">您可以使用幾種不同的方式旋轉 3D 模型。</span><span class="sxs-lookup"><span data-stu-id="d9f19-153">You can rotate a model in 3-D in several different ways.</span></span> <span data-ttu-id="d9f19-154">一般旋轉轉換是指定一個軸，以及繞著該軸旋轉的角度。</span><span class="sxs-lookup"><span data-stu-id="d9f19-154">A typical rotation transformation specifies an axis and an angle of rotation around that axis.</span></span> <span data-ttu-id="d9f19-155"><xref:System.Windows.Media.Media3D.RotateTransform3D>類別可讓您定義<xref:System.Windows.Media.Media3D.Rotation3D>具有其<xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-155">The <xref:System.Windows.Media.Media3D.RotateTransform3D> class allows you to define a <xref:System.Windows.Media.Media3D.Rotation3D> with its <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A> property.</span></span> <span data-ttu-id="d9f19-156">接著您可以指定<xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Axis%2A>及<xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Angle%2A>屬性，在此情況下的在 Rotation3D 上<xref:System.Windows.Media.Media3D.AxisAngleRotation3D>，來定義轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-156">You then specify <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Axis%2A> and <xref:System.Windows.Media.Media3D.AxisAngleRotation3D.Angle%2A> properties on the Rotation3D, in this case an <xref:System.Windows.Media.Media3D.AxisAngleRotation3D>, to define the transformation.</span></span> <span data-ttu-id="d9f19-157">下列範例會將模型繞著 Y 軸旋轉 60 度。</span><span class="sxs-lookup"><span data-stu-id="d9f19-157">The following examples rotate a model by 60 degrees around the Y axis.</span></span>  
  
 [!code-xaml[animation3dgallery_snip#Rotate3DUsingAxisAngleRotation3DExampleWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Animation3DGallery_snip/CS/Rotat3DUsingAxisAngleRotation3DExample.xaml#rotate3dusingaxisanglerotation3dexamplewholepage)]  
  
 <span data-ttu-id="d9f19-158">注意︰[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3D 是右手系統，這表示旋轉的正角度值會繞著軸以逆時針方向旋轉。</span><span class="sxs-lookup"><span data-stu-id="d9f19-158">Note:[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D is a right-handed system, which means that a positive angle value for a rotation results in a counter-clockwise rotation about the axis.</span></span>  
  
 <span data-ttu-id="d9f19-159">如果未指定值，軸角度旋轉會假設對於原點旋轉<xref:System.Windows.Media.Media3D.RotateTransform3D.CenterX%2A>， <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterY%2A>，和<xref:System.Windows.Media.Media3D.RotateTransform3D.CenterZ%2A>RotateTransform3D 上的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-159">Axis-angle rotations assume rotation about the origin if a value is not specified for the <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterX%2A>, <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterY%2A>, and <xref:System.Windows.Media.Media3D.RotateTransform3D.CenterZ%2A> properties on RotateTransform3D.</span></span> <span data-ttu-id="d9f19-160">若使用縮放比例，最好記住旋轉會轉換模型的整個座標空間。</span><span class="sxs-lookup"><span data-stu-id="d9f19-160">As with scaling, it's helpful to remember that the rotation transforms the model's entire coordinate space.</span></span> <span data-ttu-id="d9f19-161">如果模型不是相對於原點建立，或先前已平移，則可能會「以原點為中心」旋轉而不是就地旋轉。</span><span class="sxs-lookup"><span data-stu-id="d9f19-161">If the model was not created about the origin, or has been translated previously, the rotation might "pivot" about the origin instead of rotating in place.</span></span>  
  
 <span data-ttu-id="d9f19-162">![以新中心點旋轉](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-rotationwithcenter-1.png "threecubes_rotationwithcenter_1")</span><span class="sxs-lookup"><span data-stu-id="d9f19-162">![Rotation with new center point](../../../../docs/framework/wpf/graphics-multimedia/media/threecubes-rotationwithcenter-1.png "threecubes_rotationwithcenter_1")</span></span>  
<span data-ttu-id="d9f19-163">以指定的新中心進行的旋轉</span><span class="sxs-lookup"><span data-stu-id="d9f19-163">Rotation with new center specified</span></span>  
  
 <span data-ttu-id="d9f19-164">若要「就地」旋轉模型，請指定模型真正的中心做為旋轉的中心。</span><span class="sxs-lookup"><span data-stu-id="d9f19-164">To rotate the model "in place," specify the model's actual center as the center of rotation.</span></span> <span data-ttu-id="d9f19-165">因為幾何通常是以原點開始建立，所以您可以先調整模型的大小 (縮放模型)，然後設定模型的方向 (旋轉模型)，最後將模型移到想要的位置 (平移模型)，通常都能在一組轉換之後得到預期的結果。</span><span class="sxs-lookup"><span data-stu-id="d9f19-165">Because geometry is typically modeled about the origin, you can most often get the expected result of a set of transformations by first sizing the model (scaling it), then setting its orientation (rotating it), and finally moving it to the desired location (translating it).</span></span>  
  
 <span data-ttu-id="d9f19-166">![在 x 60 度的旋轉&#45;和 y&#45;軸](../../../../docs/framework/wpf/graphics-multimedia/media/twocubes-rotation2axes-1.png "twocubes_rotation2axes_1")</span><span class="sxs-lookup"><span data-stu-id="d9f19-166">![Rotation by 60 degrees in x&#45; and y&#45;axes](../../../../docs/framework/wpf/graphics-multimedia/media/twocubes-rotation2axes-1.png "twocubes_rotation2axes_1")</span></span>  
<span data-ttu-id="d9f19-167">旋轉範例</span><span class="sxs-lookup"><span data-stu-id="d9f19-167">Rotation Example</span></span>  
  
 <span data-ttu-id="d9f19-168">軸角度旋轉適用於靜態轉換和一些動畫。</span><span class="sxs-lookup"><span data-stu-id="d9f19-168">Axis-angle rotations work well for static transformations and some animations.</span></span> <span data-ttu-id="d9f19-169">不過，如果考慮讓立方體模型繞著 X 軸旋轉 60 度，然後繞著 Z 軸旋轉 45 度。</span><span class="sxs-lookup"><span data-stu-id="d9f19-169">However, consider rotating a cube model 60 degrees around the X axis, then 45 degrees around the Z axis.</span></span> <span data-ttu-id="d9f19-170">您可以將這個轉換描述為兩個不連續的仿射轉換，或描述為矩陣。</span><span class="sxs-lookup"><span data-stu-id="d9f19-170">You can describe this transformation as two discrete affine transformations, or as a matrix.</span></span> <span data-ttu-id="d9f19-171">不過，要順利以動畫顯示此種方式定義的旋轉很困難。</span><span class="sxs-lookup"><span data-stu-id="d9f19-171">However, it might be difficult to smoothly animate a rotation defined this way.</span></span> <span data-ttu-id="d9f19-172">雖然以兩種方法計算的模型開始位置和結束位置都相同，但是模型所採取的中間位置則是具有計算不確定性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-172">Although the beginning and ending positions of the model computed by either approach are the same, the intermediate positions taken by the model are computationally uncertain.</span></span> <span data-ttu-id="d9f19-173">四元數是一種用來計算旋轉開始和結束之間插補的替代方法。</span><span class="sxs-lookup"><span data-stu-id="d9f19-173">Quaternions represent an alternative way to compute the interpolation between the start and end of a rotation.</span></span>  
  
 <span data-ttu-id="d9f19-174">一個四元數代表 3D 空間中的一個軸和繞著該軸的旋轉。</span><span class="sxs-lookup"><span data-stu-id="d9f19-174">A quaternion represents an axis in 3-D space and a rotation around that axis.</span></span> <span data-ttu-id="d9f19-175">例如，某個四元數可能代表 (1,1,2) 軸和 50 度的旋轉。</span><span class="sxs-lookup"><span data-stu-id="d9f19-175">For example, a quaternion might represent a (1,1,2) axis and a rotation of 50 degrees.</span></span> <span data-ttu-id="d9f19-176">四元數在定義旋轉的威力在於您可以對四元數執行兩個操作︰合成和插補。</span><span class="sxs-lookup"><span data-stu-id="d9f19-176">Quaternions’ power in defining rotations comes from the two operations that you can perform on them: composition and interpolation.</span></span> <span data-ttu-id="d9f19-177">套用至幾何的兩個四元數合成表示「將幾何繞著 axis2 旋轉 rotation2，然後繞著 axis1 旋轉 rotation1」。</span><span class="sxs-lookup"><span data-stu-id="d9f19-177">The composition of two quaternions applied to a geometry means "rotate the geometry around axis2 by rotation2, then rotate it around axis1 by rotation1."</span></span> <span data-ttu-id="d9f19-178">使用合成，則可以結合幾何上的兩個旋轉來取得代表結果的單一四元數。</span><span class="sxs-lookup"><span data-stu-id="d9f19-178">By using composition, you can combine the two rotations on the geometry to get a single quaternion that represents the result.</span></span> <span data-ttu-id="d9f19-179">因為四元數插補可以計算兩個軸與方向之間的平滑合理路徑，所以可以在原始的四元數與合成的四元數之間進行插補，以達到兩個四元數之間的平滑轉換，讓您以動畫顯示轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-179">Because quaternion interpolation can calculate a smooth and reasonable path from one axis and orientation to another, you can interpolate from the original to the composed quaternion to achieve a smooth transition from one to the other, enabling you to animate the transformation.</span></span> <span data-ttu-id="d9f19-180">針對您想要以動畫顯示的模型，您可以指定的目的地<xref:System.Windows.Media.Media3D.Quaternion>使用旋轉<xref:System.Windows.Media.Media3D.QuaternionRotation3D>如<xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-180">For models that you want to animate, you can specify a destination <xref:System.Windows.Media.Media3D.Quaternion> for the rotation by using a <xref:System.Windows.Media.Media3D.QuaternionRotation3D> for the <xref:System.Windows.Media.Media3D.RotateTransform3D.Rotation%2A> property.</span></span>  
  
## <a name="using-transformation-collections"></a><span data-ttu-id="d9f19-181">使用轉換集合</span><span class="sxs-lookup"><span data-stu-id="d9f19-181">Using Transformation Collections</span></span>  
 <span data-ttu-id="d9f19-182">建立場景時，常會對模型套用多個轉換。</span><span class="sxs-lookup"><span data-stu-id="d9f19-182">When building a scene, it's common to apply more than one transformation to a model.</span></span> <span data-ttu-id="d9f19-183">新增轉換<xref:System.Windows.Media.Media3D.Transform3DGroup.Children%2A>的集合<xref:System.Windows.Media.Media3D.Transform3DGroup>類別來分組方便將轉換為套用到場景中的各種模型。</span><span class="sxs-lookup"><span data-stu-id="d9f19-183">Add transforms to the <xref:System.Windows.Media.Media3D.Transform3DGroup.Children%2A> collection of the <xref:System.Windows.Media.Media3D.Transform3DGroup> class to group transforms conveniently to apply to various models in the scene.</span></span> <span data-ttu-id="d9f19-184">重複使用多個不同群組中的轉換通常很方便，因此您可以對每個執行個體套用一組不同的轉換來重複使用模型。</span><span class="sxs-lookup"><span data-stu-id="d9f19-184">It's often convenient to reuse a transformation in several different groups, in much the way that you can reuse a model by applying a different set of transforms to each instance.</span></span> <span data-ttu-id="d9f19-185">請注意，在集合中新增轉換的順序非常重要︰集合中的轉換會從第一個套用至最後一個。</span><span class="sxs-lookup"><span data-stu-id="d9f19-185">Note that order in which the transformations are added to the collection is significant: transforms in the collection are applied from first to last.</span></span>  
  
## <a name="animating-transformations"></a><span data-ttu-id="d9f19-186">以動畫顯示轉換</span><span class="sxs-lookup"><span data-stu-id="d9f19-186">Animating Transformations</span></span>  
 <span data-ttu-id="d9f19-187">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3D 實作參與和 2D 圖形相同的計時和動畫系統。</span><span class="sxs-lookup"><span data-stu-id="d9f19-187">The [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3-D implementation participates in the same timing and animation system as 2-D graphics.</span></span> <span data-ttu-id="d9f19-188">換句話說，若要以動畫顯示 3D 場景，就要以動畫顯示其模型的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-188">In other words, to animate a 3-D scene, animate the properties of its models.</span></span> <span data-ttu-id="d9f19-189">您可以直接以動畫顯示基元的屬性，但是以動畫顯示變更模型位置或外觀的轉換通常更容易。</span><span class="sxs-lookup"><span data-stu-id="d9f19-189">It's possible to animate properties of primitives directly, but it's typically easier to animate transformations that change the position or appearance of models.</span></span> <span data-ttu-id="d9f19-190">因為轉換可以套用至<xref:System.Windows.Media.Media3D.Model3DGroup>物件以及個別模型，它就 Model3Dgroup 的子系和另一組一整組物件的動畫套用一組動畫。</span><span class="sxs-lookup"><span data-stu-id="d9f19-190">Because transformations can be applied to <xref:System.Windows.Media.Media3D.Model3DGroup> objects as well as individual models, it's possible to apply one set of animations to the children of a Model3Dgroup and another set of animations to a group of objects.</span></span>  <span data-ttu-id="d9f19-191">如需 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 計時和動畫系統的背景資訊，請參閱[動畫概觀](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)和[分鏡腳本概觀](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="d9f19-191">For background information on the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] timing and animation system, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md) and [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="d9f19-192">若要以動畫顯示 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 中的物件，請建立時間軸、定義動畫 (這實際上是某些屬性值隨時間的變化)，並指定要套用動畫的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-192">To animate an object in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], create a timeline, define an animation (which is really a change in some property value over time), and specify the property to which to apply the animation.</span></span> <span data-ttu-id="d9f19-193">這個屬性必須是 FrameworkElement 的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-193">This property must be a property of a FrameworkElement.</span></span> <span data-ttu-id="d9f19-194">因為在 3D 場景中所有物件都是 Viewport3D 的子系，所以您想要套用至場景之任何動畫的目標屬性都是 Viewport3D 之屬性的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-194">Because all the objects in a 3-D scene are children of Viewport3D, the properties targeted by any animation you want to apply to the scene are properties of properties of Viewport3D.</span></span> <span data-ttu-id="d9f19-195">請務必小心處理動畫的屬性路徑，因為語法可能很冗長。</span><span class="sxs-lookup"><span data-stu-id="d9f19-195">It's important to work out the property path for the animation carefully, because the syntax can be verbose.</span></span>  
  
 <span data-ttu-id="d9f19-196">假設您想要就地旋轉物件，但是也想要套用擺動運動，讓物件更多部分供人檢視。</span><span class="sxs-lookup"><span data-stu-id="d9f19-196">Suppose you want to rotate an object in place, but also to apply a swinging motion to expose more of the object to view.</span></span> <span data-ttu-id="d9f19-197">您可以選擇對模型套用 RotateTransform3D，然後讓其旋轉軸從一個向量到另一個向量以動畫顯示。</span><span class="sxs-lookup"><span data-stu-id="d9f19-197">You might choose to apply a RotateTransform3D to the model, and animate the axis of its rotation from one vector to another.</span></span> <span data-ttu-id="d9f19-198">下列程式碼範例示範套用<xref:System.Windows.Media.Animation.Vector3DAnimation>的轉換的 Rotation3D 的 Axis 屬性，假設 RotateTransform3D 是數個轉換套用至具有模型的其中一個要<xref:System.Windows.Media.TransformGroup>。</span><span class="sxs-lookup"><span data-stu-id="d9f19-198">The following code example demonstrates applying a <xref:System.Windows.Media.Animation.Vector3DAnimation> to the Axis property of the transformation's Rotation3D, assuming the RotateTransform3D to be one of several transforms applied to the model with a <xref:System.Windows.Media.TransformGroup>.</span></span>  
  
 [!code-csharp[3doverview#3DOverview3DN1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn1)]
 [!code-vb[3doverview#3DOverview3DN1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn1)]  
  
 [!code-csharp[3doverview#3DOverview3DN3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/3DOverview/CSharp/Window1.xaml.cs#3doverview3dn3)]
 [!code-vb[3doverview#3DOverview3DN3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/3DOverview/visualbasic/window1.xaml.vb#3doverview3dn3)]  
  
 <span data-ttu-id="d9f19-199">您可以針對其他轉換屬性使用類似的語法來移動或縮放物件。</span><span class="sxs-lookup"><span data-stu-id="d9f19-199">Use a similar syntax to target other transformation properties to move or scale the object.</span></span>  <span data-ttu-id="d9f19-200">例如，您可以套用<xref:System.Windows.Media.Animation.Point3DAnimation>擴展轉換，以讓模型順暢地扭曲圖形上的 ScaleCenter 屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-200">For example, you might apply a <xref:System.Windows.Media.Animation.Point3DAnimation> to the ScaleCenter property on a scale transform to cause a model to smoothly distort its shape.</span></span>  
  
 <span data-ttu-id="d9f19-201">雖然上述範例是轉換的屬性<xref:System.Windows.Media.Media3D.GeometryModel3D>，也是可以轉換場景中其他模型的屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-201">Although the preceding examples transform the properties of <xref:System.Windows.Media.Media3D.GeometryModel3D>, it’s also possible to transform the properties of other models in the scene.</span></span>  <span data-ttu-id="d9f19-202">例如以動畫顯示套用至 Light 物件的平移，您可以建立能大幅變更模型外觀的移動光線和陰影效果。</span><span class="sxs-lookup"><span data-stu-id="d9f19-202">By animating translations applied to Light objects, for example, you can create moving light and shadow effects that can dramatically change the appearance of your models.</span></span>  
  
 <span data-ttu-id="d9f19-203">因為觀景窗也是模型，所以同樣可以轉換觀景窗屬性。</span><span class="sxs-lookup"><span data-stu-id="d9f19-203">Because cameras are also models, it’s possible to transform camera properties as well.</span></span>  <span data-ttu-id="d9f19-204">雖然您可以轉換觀景窗位置或平面距離來變更場景的外觀 (實際上是轉換整個場景投影)，但請注意，以這種方式達成的許多效果就觀者的「視覺感受」來說，會比對場景中的模型位置套用轉換來得少。</span><span class="sxs-lookup"><span data-stu-id="d9f19-204">While you can certainly change the appearance of the scene by transforming the camera location or plane distances—in effect, transforming the entire scene projection—note that many of the effects you achieve this way may not make as much "visual sense" to the viewer as transformations applied to the location or position of the models in the scene.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d9f19-205">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d9f19-205">See Also</span></span>  
 [<span data-ttu-id="d9f19-206">立體圖形概觀</span><span class="sxs-lookup"><span data-stu-id="d9f19-206">3-D Graphics Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/3-d-graphics-overview.md)  
 [<span data-ttu-id="d9f19-207">轉換概觀</span><span class="sxs-lookup"><span data-stu-id="d9f19-207">Transforms Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/transforms-overview.md)  
 [<span data-ttu-id="d9f19-208">2D 轉換範例</span><span class="sxs-lookup"><span data-stu-id="d9f19-208">2-D Transforms Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=158252)
