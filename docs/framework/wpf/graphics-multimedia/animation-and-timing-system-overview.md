---
title: 動畫和計時系統概觀
ms.date: 03/30/2017
helpviewer_keywords:
- timing system [WPF]
- animation [WPF]
ms.assetid: 172cd5a8-a333-4c81-9456-fafccc19f382
ms.openlocfilehash: bfb9a337a604fe8d86d208344d4371748e28f285
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/04/2018
---
# <a name="animation-and-timing-system-overview"></a><span data-ttu-id="1a1bf-102">動畫和計時系統概觀</span><span class="sxs-lookup"><span data-stu-id="1a1bf-102">Animation and Timing System Overview</span></span>
<span data-ttu-id="1a1bf-103">本主題描述如何計時系統使用動畫， <xref:System.Windows.Media.Animation.Timeline>，和<xref:System.Windows.Media.Animation.Clock>以動畫方式顯示屬性的類別。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-103">This topic describes how the timing system uses the animation, <xref:System.Windows.Media.Animation.Timeline>, and <xref:System.Windows.Media.Animation.Clock> classes to animate properties.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="1a1bf-104">必要條件</span><span class="sxs-lookup"><span data-stu-id="1a1bf-104">Prerequisites</span></span>  
 <span data-ttu-id="1a1bf-105">若要了解本主題，您可以如[動畫概觀](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)中所述，使用 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 動畫來以動畫顯示屬性。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-105">To understand this topic, you should be able to use [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations to animate properties, as described in the [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span> <span data-ttu-id="1a1bf-106">這也有助於熟悉相依性屬性。如需詳細資訊，請參閱[相依性屬性概觀](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-106">It also helps to be familiar with dependency properties; for more information, see the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
<a name="timelinesandclocks"></a>   
## <a name="timelines-and-clocks"></a><span data-ttu-id="1a1bf-107">時間軸和時鐘</span><span class="sxs-lookup"><span data-stu-id="1a1bf-107">Timelines and Clocks</span></span>  
 <span data-ttu-id="1a1bf-108">[動畫概觀](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)所述方式<xref:System.Windows.Media.Animation.Timeline>代表一段時間和動畫是一種<xref:System.Windows.Media.Animation.Timeline>，會產生輸出值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-108">The [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md) described how a <xref:System.Windows.Media.Animation.Timeline> represents a segment of time, and an animation is a type of <xref:System.Windows.Media.Animation.Timeline> that produces output values.</span></span> <span data-ttu-id="1a1bf-109">單獨使用時， <xref:System.Windows.Media.Animation.Timeline>，不執行任何動作不是只說明一段時間。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-109">By itself, a <xref:System.Windows.Media.Animation.Timeline>, doesn't do anything other than just describe a segment of time.</span></span> <span data-ttu-id="1a1bf-110">它是時間軸的<xref:System.Windows.Media.Animation.Clock>從事實際作業的物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-110">It's the timeline's <xref:System.Windows.Media.Animation.Clock> object that does the real work.</span></span> <span data-ttu-id="1a1bf-111">同樣地，動畫不會實際建立屬性的動畫： 動畫類別描述輸出值應如何計算，但卻<xref:System.Windows.Media.Animation.Clock>所建立的磁碟機的動畫的輸出並將其套用至屬性的動畫。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-111">Likewise, animation doesn't actually animate properties: an animation class describes how output values should be calculated, but it’s the <xref:System.Windows.Media.Animation.Clock> that was created for the animation that drives the animation output and applies it to properties.</span></span>  
  
 <span data-ttu-id="1a1bf-112">A<xref:System.Windows.Media.Animation.Clock>是特殊類型的物件會維護與時間有關執行階段狀態<xref:System.Windows.Media.Animation.Timeline>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-112">A <xref:System.Windows.Media.Animation.Clock> is a special type of object that maintains timing-related run-time state for the <xref:System.Windows.Media.Animation.Timeline>.</span></span> <span data-ttu-id="1a1bf-113">它提供必要的動畫和計時系統資訊的三個位元： <xref:System.Windows.Media.Animation.Clock.CurrentTime%2A>， <xref:System.Windows.Media.Animation.Clock.CurrentProgress%2A>，和<xref:System.Windows.Media.Animation.Clock.CurrentState%2A>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-113">It provides three bits of information that are essential to the animation and timing system: <xref:System.Windows.Media.Animation.Clock.CurrentTime%2A>, <xref:System.Windows.Media.Animation.Clock.CurrentProgress%2A>, and <xref:System.Windows.Media.Animation.Clock.CurrentState%2A>.</span></span> <span data-ttu-id="1a1bf-114">A<xref:System.Windows.Media.Animation.Clock>判斷其目前的時間、 進度與狀態描述的計時行為，透過其<xref:System.Windows.Media.Animation.Timeline>: <xref:System.Windows.Media.Animation.Timeline.Duration%2A>， <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>， <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>，依此類推。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-114">A <xref:System.Windows.Media.Animation.Clock> determines its current time, progress, and state by using the timing behaviors described by its <xref:System.Windows.Media.Animation.Timeline>: <xref:System.Windows.Media.Animation.Timeline.Duration%2A>, <xref:System.Windows.Media.Animation.Timeline.RepeatBehavior%2A>, <xref:System.Windows.Media.Animation.Timeline.AutoReverse%2A>, and so on.</span></span>  
  
 <span data-ttu-id="1a1bf-115">在大部分情況下，<xref:System.Windows.Media.Animation.Clock>時刻表自動建立。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-115">In most cases, a <xref:System.Windows.Media.Animation.Clock> is created automatically for your timeline.</span></span> <span data-ttu-id="1a1bf-116">當您使用動畫顯示<xref:System.Windows.Media.Animation.Storyboard>或<xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A>方法中，時鐘的自動建立時間表的動畫並套用至其目標屬性。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-116">When you animate by using a <xref:System.Windows.Media.Animation.Storyboard> or the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method, clocks are automatically created for your timelines and animations and applied to their targeted properties.</span></span> <span data-ttu-id="1a1bf-117">您也可以建立<xref:System.Windows.Media.Animation.Clock>明確地使用<xref:System.Windows.Media.Animation.Timeline.CreateClock%2A>方法您<xref:System.Windows.Media.Animation.Timeline>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-117">You can also create a <xref:System.Windows.Media.Animation.Clock> explicitly by using the <xref:System.Windows.Media.Animation.Timeline.CreateClock%2A> method of your <xref:System.Windows.Media.Animation.Timeline>.</span></span> <span data-ttu-id="1a1bf-118"><xref:System.Windows.Media.MediaTimeline.CreateClock%2A?displayProperty=nameWithType>方法會建立適當類型的時鐘<xref:System.Windows.Media.Animation.Timeline>它為呼叫的目標。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-118">The <xref:System.Windows.Media.MediaTimeline.CreateClock%2A?displayProperty=nameWithType> method creates a clock of the appropriate type for the <xref:System.Windows.Media.Animation.Timeline> on which it is called.</span></span> <span data-ttu-id="1a1bf-119">如果<xref:System.Windows.Media.Animation.Timeline>包含子時間表，它會建立<xref:System.Windows.Media.Animation.Clock>以及它們的物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-119">If the <xref:System.Windows.Media.Animation.Timeline> contains child timelines, it creates <xref:System.Windows.Media.Animation.Clock> objects for them as well.</span></span> <span data-ttu-id="1a1bf-120">產生<xref:System.Windows.Media.Animation.Clock>物件會在符合的結構的樹狀目錄中排列<xref:System.Windows.Media.Animation.Timeline>所建立的物件樹狀結構。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-120">The resulting <xref:System.Windows.Media.Animation.Clock> objects are arranged in trees that match the structure of the <xref:System.Windows.Media.Animation.Timeline> objects tree from which they are created.</span></span>  
  
 <span data-ttu-id="1a1bf-121">不同類型的時間軸有不同類型的時鐘。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-121">There are different types of clocks for different types of timelines.</span></span> <span data-ttu-id="1a1bf-122">下表顯示<xref:System.Windows.Media.Animation.Clock>對應至一些不同的型別<xref:System.Windows.Media.Animation.Timeline>型別。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-122">The following table shows the <xref:System.Windows.Media.Animation.Clock> types that correspond to some of the different <xref:System.Windows.Media.Animation.Timeline> types.</span></span>  
  
|<span data-ttu-id="1a1bf-123">時間軸型別</span><span class="sxs-lookup"><span data-stu-id="1a1bf-123">Timeline type</span></span>|<span data-ttu-id="1a1bf-124">時鐘類型</span><span class="sxs-lookup"><span data-stu-id="1a1bf-124">Clock type</span></span>|<span data-ttu-id="1a1bf-125">時鐘用途</span><span class="sxs-lookup"><span data-stu-id="1a1bf-125">Clock purpose</span></span>|  
|-------------------|----------------|-------------------|  
|<span data-ttu-id="1a1bf-126">動畫 (繼承自<xref:System.Windows.Media.Animation.AnimationTimeline>)</span><span class="sxs-lookup"><span data-stu-id="1a1bf-126">Animation (inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>)</span></span>|<xref:System.Windows.Media.Animation.AnimationClock>|<span data-ttu-id="1a1bf-127">產生相依性屬性的輸出值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-127">Generates output values for a dependency property.</span></span>|  
|<xref:System.Windows.Media.MediaTimeline>|<xref:System.Windows.Media.MediaClock>|<span data-ttu-id="1a1bf-128">處理媒體檔案。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-128">Processes a media file.</span></span>|  
|<xref:System.Windows.Media.Animation.ParallelTimeline>|<xref:System.Windows.Media.Animation.ClockGroup>|<span data-ttu-id="1a1bf-129">分組，並控制它的子系<xref:System.Windows.Media.Animation.Clock>物件</span><span class="sxs-lookup"><span data-stu-id="1a1bf-129">Groups and controls its child <xref:System.Windows.Media.Animation.Clock> objects</span></span>|  
|<xref:System.Windows.Media.Animation.Storyboard>|<xref:System.Windows.Media.Animation.ClockGroup>|<span data-ttu-id="1a1bf-130">分組，並控制它的子系<xref:System.Windows.Media.Animation.Clock>物件</span><span class="sxs-lookup"><span data-stu-id="1a1bf-130">Groups and controls its child <xref:System.Windows.Media.Animation.Clock> objects</span></span>|  
  
 <span data-ttu-id="1a1bf-131">您可以套用任何<xref:System.Windows.Media.Animation.AnimationClock>物件使用建立相容的相依性屬性<xref:System.Windows.Media.Animation.IAnimatable.ApplyAnimationClock%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-131">You can apply any <xref:System.Windows.Media.Animation.AnimationClock> objects you create to compatible dependency properties by using the <xref:System.Windows.Media.Animation.IAnimatable.ApplyAnimationClock%2A> method.</span></span>  
  
 <span data-ttu-id="1a1bf-132">需要大量效能的情況下，例如動畫執行大量的類似物件，管理您自己<xref:System.Windows.Media.Animation.Clock>使用可以提供的效能優勢。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-132">In performance-intensive scenarios, such as animating large numbers of similar objects, managing your own <xref:System.Windows.Media.Animation.Clock> use can provide performance benefits.</span></span>  
  
<a name="timemanager"></a>   
## <a name="clocks-and-the-time-manager"></a><span data-ttu-id="1a1bf-133">時鐘和時間管理員</span><span class="sxs-lookup"><span data-stu-id="1a1bf-133">Clocks and the Time Manager</span></span>  
 <span data-ttu-id="1a1bf-134">當您製作物件動畫中[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，它是時間管理員管理<xref:System.Windows.Media.MediaPlayer.Clock%2A>針對時間表建立的物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-134">When you animate objects in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], it’s the time manager that manages the <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects created for your timelines.</span></span> <span data-ttu-id="1a1bf-135">時間管理員為 <xref:System.Windows.Media.MediaPlayer.Clock%2A> 物件樹狀目錄的根目錄，並控制該樹狀目錄中的時間流程。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-135">The time manager is the root of a tree of <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects and controls the flow of time in that tree.</span></span>  <span data-ttu-id="1a1bf-136">系統會為每一個 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 應用程式自動建立時間管理員，而且應用程式開發人員看不到時間管理員。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-136">A time manager is automatically created for each [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application and is invisible to the application developer.</span></span> <span data-ttu-id="1a1bf-137">時間管理員每一秒都會「滴答」許多次，每一秒發生的實際滴答數目會視可用的系統資源而有所不同。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-137">The time manager "ticks" many times per second; the actual number of ticks that occur each second varies depending on available system resources.</span></span> <span data-ttu-id="1a1bf-138">時間管理員會在每個這些刻度期間計算所有的狀態<xref:System.Windows.Media.Animation.ClockState.Active><xref:System.Windows.Media.Animation.Clock>時間樹狀結構中的物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-138">During each one of these ticks, the time manager computes the state of all <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> objects in the timing tree.</span></span>  
  
 <span data-ttu-id="1a1bf-139">下圖顯示時間管理員之間的關聯性和<xref:System.Windows.Media.Animation.AnimationClock>，和執行動畫相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-139">The following illustration shows the relationship between the time manager, and <xref:System.Windows.Media.Animation.AnimationClock>, and an animated dependency property.</span></span>  
  
 <span data-ttu-id="1a1bf-140">![計時系統元件](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-1clock1prop.png "graphicsmm_clocks_1clock1prop")</span><span class="sxs-lookup"><span data-stu-id="1a1bf-140">![Timing system components](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-1clock1prop.png "graphicsmm_clocks_1clock1prop")</span></span>  
<span data-ttu-id="1a1bf-141">以動畫顯示屬性</span><span class="sxs-lookup"><span data-stu-id="1a1bf-141">Animating a property</span></span>  
  
 <span data-ttu-id="1a1bf-142">當時間管理員刻度時，它會更新的時間的每個<xref:System.Windows.Media.Animation.ClockState.Active><xref:System.Windows.Media.Animation.Clock>應用程式中。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-142">When the time manager ticks, it updates the time of every <xref:System.Windows.Media.Animation.ClockState.Active> <xref:System.Windows.Media.Animation.Clock> in the application.</span></span> <span data-ttu-id="1a1bf-143">如果<xref:System.Windows.Media.Animation.Clock>是<xref:System.Windows.Media.Animation.AnimationClock>，它會使用<xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A>方法<xref:System.Windows.Media.Animation.AnimationTimeline>從建立它時所要計算其目前輸出值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-143">If the <xref:System.Windows.Media.Animation.Clock> is an <xref:System.Windows.Media.Animation.AnimationClock>, it uses the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method of the <xref:System.Windows.Media.Animation.AnimationTimeline> from which it was created to calculate its current output value.</span></span> <span data-ttu-id="1a1bf-144"><xref:System.Windows.Media.Animation.AnimationClock>提供<xref:System.Windows.Media.Animation.AnimationTimeline>與目前的當地時間、 輸入的值，通常是屬性的基底值和預設目的地值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-144">The <xref:System.Windows.Media.Animation.AnimationClock> supplies the <xref:System.Windows.Media.Animation.AnimationTimeline> with the current local time, an input value, which is typically the base value of the property, and a default destination value.</span></span> <span data-ttu-id="1a1bf-145">當您擷取的動態值屬性使用<xref:System.Windows.DependencyObject.GetValue%2A>方法或其 CLR 存取子，您會得到的輸出及其<xref:System.Windows.Media.Animation.AnimationClock>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-145">When you retrieve the value of an animated by property using the <xref:System.Windows.DependencyObject.GetValue%2A> method or its CLR accessor, you get the output of its <xref:System.Windows.Media.Animation.AnimationClock>.</span></span>  
  
#### <a name="clock-groups"></a><span data-ttu-id="1a1bf-146">時鐘群組</span><span class="sxs-lookup"><span data-stu-id="1a1bf-146">Clock Groups</span></span>  
 <span data-ttu-id="1a1bf-147">上一節中所述方式沒有不同類型的<xref:System.Windows.Media.Animation.Clock>時間軸的不同類型的物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-147">The preceding section described how there are different types of <xref:System.Windows.Media.Animation.Clock> objects for different types of timelines.</span></span> <span data-ttu-id="1a1bf-148">下圖顯示時間管理員之間的關聯性<xref:System.Windows.Media.Animation.ClockGroup>、 <xref:System.Windows.Media.Animation.AnimationClock>，和執行動畫相依性屬性。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-148">The following illustration shows the relationship between the time manager, a <xref:System.Windows.Media.Animation.ClockGroup>, an <xref:System.Windows.Media.Animation.AnimationClock>, and an animated dependency property.</span></span> <span data-ttu-id="1a1bf-149">A<xref:System.Windows.Media.Animation.ClockGroup>建立的群組，例如其他時間軸的時間軸<xref:System.Windows.Media.Animation.Storyboard>類別以分組動畫和其他砸下大筆花費。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-149">A <xref:System.Windows.Media.Animation.ClockGroup> is created for timelines that group other timelines, such as the <xref:System.Windows.Media.Animation.Storyboard> class, which groups animations and other timelines.</span></span>  
  
 <span data-ttu-id="1a1bf-150">![計時系統元件](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-2clock1clockgroup2prop.png "graphicsmm_clocks_2clock1clockgroup2prop")</span><span class="sxs-lookup"><span data-stu-id="1a1bf-150">![Timing system components](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-2clock1clockgroup2prop.png "graphicsmm_clocks_2clock1clockgroup2prop")</span></span>  
<span data-ttu-id="1a1bf-151">ClockGroup</span><span class="sxs-lookup"><span data-stu-id="1a1bf-151">A ClockGroup</span></span>  
  
#### <a name="composition"></a><span data-ttu-id="1a1bf-152">組合</span><span class="sxs-lookup"><span data-stu-id="1a1bf-152">Composition</span></span>  
 <span data-ttu-id="1a1bf-153">您可以將多個時鐘與單一屬性進行關聯，此時每個時鐘都使用上述時鐘的輸出值做為其基底值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-153">It's possible to associate multiple clocks with a single property, in which case each clock uses the output value of the preceding clock as its base value.</span></span> <span data-ttu-id="1a1bf-154">下圖顯示三個<xref:System.Windows.Media.Animation.AnimationClock>物件套用至相同的屬性。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-154">The following illustration shows three <xref:System.Windows.Media.Animation.AnimationClock> objects applied to the same property.</span></span> <span data-ttu-id="1a1bf-155">Clock1 使用動畫屬性的基底值做為輸入，並使用它來產生輸出。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-155">Clock1 uses the base value of the animated property as its input and uses it to generate output.</span></span> <span data-ttu-id="1a1bf-156">Clock2 會採用從 Clock1 的輸出做為輸入，並使用它來產生輸出。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-156">Clock2 takes the output from Clock1 as its input and uses it to generate output.</span></span> <span data-ttu-id="1a1bf-157">Clock3 會採用從 Clock2 的輸出做為輸入，並使用它來產生輸出。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-157">Clock3 takes the output from Clock2 as its input and uses it to generate output.</span></span> <span data-ttu-id="1a1bf-158">當多個時鐘同時影響同一個屬性時，就可以說是形成一個組合鏈結。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-158">When multiple clocks affect the same property simultaneously, they are said to be in a composition chain.</span></span>  
  
 <span data-ttu-id="1a1bf-159">![計時系統元件](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-2clock1prop.png "graphicsmm_clocks_2clock1prop")</span><span class="sxs-lookup"><span data-stu-id="1a1bf-159">![Timing system components](../../../../docs/framework/wpf/graphics-multimedia/media/graphicsmm-clocks-2clock1prop.png "graphicsmm_clocks_2clock1prop")</span></span>  
<span data-ttu-id="1a1bf-160">組合鏈結</span><span class="sxs-lookup"><span data-stu-id="1a1bf-160">A composition chain</span></span>  
  
 <span data-ttu-id="1a1bf-161">請注意，雖然輸入和輸出之間建立關聯性<xref:System.Windows.Media.Animation.AnimationClock>組合鏈結中的物件及其計時行為不受影響;<xref:System.Windows.Media.Animation.Clock>物件 (包括<xref:System.Windows.Media.Animation.AnimationClock>物件) 具有其父代階層式相依性<xref:System.Windows.Media.Animation.Clock>物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-161">Note that although a relationship is created among the input and output of the <xref:System.Windows.Media.Animation.AnimationClock> objects in the composition chain, their timing behaviors are not affected; <xref:System.Windows.Media.Animation.Clock> objects (including <xref:System.Windows.Media.Animation.AnimationClock> objects) have a hierarchical dependency on their parent <xref:System.Windows.Media.Animation.Clock> objects.</span></span>  
  
 <span data-ttu-id="1a1bf-162">若要將多個時鐘套用至相同的屬性，使用<xref:System.Windows.Media.Animation.HandoffBehavior.Compose><xref:System.Windows.Media.Animation.HandoffBehavior>套用時<xref:System.Windows.Media.Animation.Storyboard>，動畫，或<xref:System.Windows.Media.Animation.AnimationClock>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-162">To apply multiple clocks to the same property, use the <xref:System.Windows.Media.Animation.HandoffBehavior.Compose> <xref:System.Windows.Media.Animation.HandoffBehavior> when applying a <xref:System.Windows.Media.Animation.Storyboard>, animation, or <xref:System.Windows.Media.Animation.AnimationClock>.</span></span>  
  
#### <a name="ticks-and-event-consolidation"></a><span data-ttu-id="1a1bf-163">滴答和事件彙總</span><span class="sxs-lookup"><span data-stu-id="1a1bf-163">Ticks and Event Consolidation</span></span>  
 <span data-ttu-id="1a1bf-164">除了計算輸出值，時間管理員也會在每次滴答時執行其他工作︰它會判斷每個時鐘的狀態並引發適當的事件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-164">In addition to calculating output values, the time manager does other work every time it ticks: it determines the state of each clock and raises events as appropriate.</span></span>  
  
 <span data-ttu-id="1a1bf-165">雖然滴答經常發生，但在滴答之間有可能會發生很多事。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-165">While ticks occur frequently, it's possible for a lot of things to happen between ticks.</span></span> <span data-ttu-id="1a1bf-166">例如，<xref:System.Windows.Media.Animation.Clock>可能會停止、 啟動，而且在此情況下，停止其<xref:System.Windows.Media.Animation.Clock.CurrentState%2A>值將變更三次。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-166">For example, a <xref:System.Windows.Media.Animation.Clock> might be stopped, started, and stopped again, in which case its <xref:System.Windows.Media.Animation.Clock.CurrentState%2A> value will have changed three times.</span></span> <span data-ttu-id="1a1bf-167">理論上來說，<xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated>事件無法在單一刻度中引發多次; 但是，時間引擎會彙總事件，以便<xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated>可以一次引發事件，每個刻度。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-167">In theory, the <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> event could be raised multiple times in a single tick; however, the timing engine consolidates events, so that the <xref:System.Windows.Media.Animation.Clock.CurrentStateInvalidated> event can be raised at most once per tick.</span></span> <span data-ttu-id="1a1bf-168">這適用於所有的計時事件： 都會引發最多一個事件的每個型別指定<xref:System.Windows.Media.Animation.Clock>物件。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-168">This is true for all timing events: at most one event of each type is raised for a given <xref:System.Windows.Media.Animation.Clock> object.</span></span>  
  
 <span data-ttu-id="1a1bf-169">當<xref:System.Windows.Media.Animation.Clock>切換狀態，並傳回其原始狀態刻度之間 (例如變更從<xref:System.Windows.Media.Animation.ClockState.Active>至<xref:System.Windows.Media.Animation.ClockState.Stopped>再回到<xref:System.Windows.Media.Animation.ClockState.Active>)，相關聯的事件還是會發生。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-169">When a <xref:System.Windows.Media.Animation.Clock> switches states and returns back to its original state between ticks (such as changing from <xref:System.Windows.Media.Animation.ClockState.Active> to <xref:System.Windows.Media.Animation.ClockState.Stopped> and back to <xref:System.Windows.Media.Animation.ClockState.Active>), the associated event still occurs.</span></span>  
  
 <span data-ttu-id="1a1bf-170">如需計時事件的詳細資訊，請參閱[計時事件概觀](../../../../docs/framework/wpf/graphics-multimedia/timing-events-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-170">For more information about timing events, see the [Timing Events Overview](../../../../docs/framework/wpf/graphics-multimedia/timing-events-overview.md).</span></span>  
  
<a name="currentvaluesbasevaluesofproperties"></a>   
## <a name="current-values-and-base-values-of-properties"></a><span data-ttu-id="1a1bf-171">屬性的目前值和基底值</span><span class="sxs-lookup"><span data-stu-id="1a1bf-171">Current Values and Base Values of Properties</span></span>  
 <span data-ttu-id="1a1bf-172">可動畫的屬性可以有兩個值︰基底值和目前值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-172">An animatable property can have two values: a base value and a current value.</span></span> <span data-ttu-id="1a1bf-173">當您將使用其 CLR 存取子的屬性或<xref:System.Windows.DependencyObject.SetValue%2A>方法，設定其基底值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-173">When you set property using its CLR accessor or the <xref:System.Windows.DependencyObject.SetValue%2A> method, you set its base value.</span></span> <span data-ttu-id="1a1bf-174">當屬性未以動畫顯示時，其基底值和目前值都相同。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-174">When a property is not animated, its base and current values are the same.</span></span>  
  
 <span data-ttu-id="1a1bf-175">當您以動畫顯示屬性，<xref:System.Windows.Media.Animation.AnimationClock>設定的屬性*目前*值。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-175">When you animate a property, the <xref:System.Windows.Media.Animation.AnimationClock> sets the property's *current* value.</span></span> <span data-ttu-id="1a1bf-176">擷取透過其 CLR 存取子屬性的值或<xref:System.Windows.DependencyObject.GetValue%2A>方法傳回的輸出<xref:System.Windows.Media.Animation.AnimationClock>時<xref:System.Windows.Media.Animation.AnimationClock>是<xref:System.Windows.Media.Animation.ClockState.Active>或<xref:System.Windows.Media.Animation.ClockState.Filling>。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-176">Retrieving the property's value through its CLR accessor or the <xref:System.Windows.DependencyObject.GetValue%2A> method returns the output of the <xref:System.Windows.Media.Animation.AnimationClock> when the <xref:System.Windows.Media.Animation.AnimationClock> is <xref:System.Windows.Media.Animation.ClockState.Active> or <xref:System.Windows.Media.Animation.ClockState.Filling>.</span></span> <span data-ttu-id="1a1bf-177">您可以使用來擷取屬性的基底值<xref:System.Windows.Media.Animation.IAnimatable.GetAnimationBaseValue%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="1a1bf-177">You can retrieve the property's base value by using the <xref:System.Windows.Media.Animation.IAnimatable.GetAnimationBaseValue%2A> method.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a1bf-178">另請參閱</span><span class="sxs-lookup"><span data-stu-id="1a1bf-178">See Also</span></span>  
 [<span data-ttu-id="1a1bf-179">動畫概觀</span><span class="sxs-lookup"><span data-stu-id="1a1bf-179">Animation Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)  
 [<span data-ttu-id="1a1bf-180">計時事件概觀</span><span class="sxs-lookup"><span data-stu-id="1a1bf-180">Timing Events Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/timing-events-overview.md)  
 [<span data-ttu-id="1a1bf-181">計時行為概觀</span><span class="sxs-lookup"><span data-stu-id="1a1bf-181">Timing Behaviors Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/timing-behaviors-overview.md)
