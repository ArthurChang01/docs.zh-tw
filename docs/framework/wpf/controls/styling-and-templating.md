---
title: 樣式設定和範本化
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- triggers [WPF]
- styles [WPF], referencing
- event triggers [WPF]
- styles [WPF], prerequisites
- styles [WPF], declaring
- styles [WPF], overview
- styles [WPF], extending
- styles [WPF], triggers
- styles [WPF], event triggers
ms.assetid: 481765e5-5467-4a75-9f7b-e10e2ac410d9
ms.openlocfilehash: 3fae4993a13b02ad998668f644a80ba7c07196fa
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/18/2019
ms.locfileid: "59132287"
---
# <a name="styling-and-templating"></a><span data-ttu-id="df1a4-102">樣式設定和範本化</span><span class="sxs-lookup"><span data-stu-id="df1a4-102">Styling and Templating</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="df1a4-103">樣式設定和範本化係指一套功能 (樣式、範本、觸發程序及分鏡腳本)，可讓開發人員和設計人員創造引人注目的效果，並為其產品建立一致的外觀。</span><span class="sxs-lookup"><span data-stu-id="df1a4-103">styling and templating refer to a suite of features (styles, templates, triggers, and storyboards) that allow developers and designers to create visually compelling effects and to create a consistent appearance for their product.</span></span> <span data-ttu-id="df1a4-104">雖然開發人員和 (或) 設計人員可以依個別應用程式廣泛地自訂外觀，但強大的樣式設定和範本化模型仍有其必要性，這可允許在應用程式內或應用程式之間維護及共用外觀。</span><span class="sxs-lookup"><span data-stu-id="df1a4-104">Although developers and or designers can customize the appearance extensively on an application-by-application basis, a strong styling and templating model is necessary to allow maintenance and sharing of the appearance within and among applications.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="df1a4-105">便有提供該模型。</span><span class="sxs-lookup"><span data-stu-id="df1a4-105">provides that model.</span></span>  
  
 <span data-ttu-id="df1a4-106">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 樣式設定模型的另一項功能是將呈現與邏輯區分開來。</span><span class="sxs-lookup"><span data-stu-id="df1a4-106">Another feature of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] styling model is the separation of presentation and logic.</span></span> <span data-ttu-id="df1a4-107">這意謂著設計人員可以在開發人員使用 C# 或 Visual Basic 來處理程式設計邏輯的同時，僅使用 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 來處理應用程式的外觀。</span><span class="sxs-lookup"><span data-stu-id="df1a4-107">This means that designers can work on the appearance of an application by using only [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] at the same time that developers work on the programming logic by using C# or Visual Basic.</span></span>  
  
 <span data-ttu-id="df1a4-108">本概觀將焦點放在應用程式的樣式設定和範本化方面，而不討論任何資料繫結概念。</span><span class="sxs-lookup"><span data-stu-id="df1a4-108">This overview focuses on the styling and templating aspects of the application and does not discuss any data binding concepts.</span></span> <span data-ttu-id="df1a4-109">如需有關資料繫結的資訊，請參閱[資料繫結概觀](../data/data-binding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-109">For information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>  
  
 <span data-ttu-id="df1a4-110">此外，了解資源相當重要，資源可讓您重複使用樣式和範本。</span><span class="sxs-lookup"><span data-stu-id="df1a4-110">In addition, it is important to understand resources, which are what enable styles and templates to be reused.</span></span> <span data-ttu-id="df1a4-111">如需有關資源的詳細資訊，請參閱 [XAML 資源](../advanced/xaml-resources.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-111">For more information about resources, see [XAML Resources](../advanced/xaml-resources.md).</span></span>

<a name="styling_and_templating_sample"></a>   
## <a name="styling-and-templating-sample"></a><span data-ttu-id="df1a4-112">樣式設定和範本化範例</span><span class="sxs-lookup"><span data-stu-id="df1a4-112">Styling and Templating Sample</span></span>  
 <span data-ttu-id="df1a4-113">本概觀中使用的程式碼範例是根據下圖中所示的簡單相片範例：</span><span class="sxs-lookup"><span data-stu-id="df1a4-113">The code examples used in this overview are based on a simple photo sample shown in the following illustration:</span></span>  
  
 <span data-ttu-id="df1a4-114">![已設定樣式的 ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="df1a4-114">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
 <span data-ttu-id="df1a4-115">這個簡單的相片範例使用樣式設定和範本化，來創造引人注目的使用者體驗。</span><span class="sxs-lookup"><span data-stu-id="df1a4-115">This simple photo sample uses styling and templating to create a visually compelling user experience.</span></span> <span data-ttu-id="df1a4-116">此範例有兩個<xref:System.Windows.Controls.TextBlock>項目和<xref:System.Windows.Controls.ListBox>控制項繫結至映像的清單。</span><span class="sxs-lookup"><span data-stu-id="df1a4-116">The sample has two <xref:System.Windows.Controls.TextBlock> elements and a <xref:System.Windows.Controls.ListBox> control that is bound to a list of images.</span></span> <span data-ttu-id="df1a4-117">如需完整範例，請參閱[樣式設定和範本化範例簡介 (英文)](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-117">For the complete sample, see [Introduction to Styling and Templating Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
<a name="styling_basics"></a>   
## <a name="style-basics"></a><span data-ttu-id="df1a4-118">樣式基本概念</span><span class="sxs-lookup"><span data-stu-id="df1a4-118">Style Basics</span></span>  
 <span data-ttu-id="df1a4-119">您可以將<xref:System.Windows.Style>作為便利的方式來將一組屬性值套用至一個以上的項目。</span><span class="sxs-lookup"><span data-stu-id="df1a4-119">You can think of a <xref:System.Windows.Style> as a convenient way to apply a set of property values to more than one element.</span></span> <span data-ttu-id="df1a4-120">例如，請考慮下列<xref:System.Windows.Controls.TextBlock>項目和其預設外觀：</span><span class="sxs-lookup"><span data-stu-id="df1a4-120">For example, consider the following <xref:System.Windows.Controls.TextBlock> elements and their default appearance:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#TextBlocks](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#textblocks)]  
  
 <span data-ttu-id="df1a4-121">![樣式設定範例螢幕擷取畫面](./media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span><span class="sxs-lookup"><span data-stu-id="df1a4-121">![Styling sample screenshot](./media/stylingintro-textblocksbefore.PNG "StylingIntro_TextBlocksBefore")</span></span>  
  
 <span data-ttu-id="df1a4-122">您可以藉由設定屬性，例如變更預設外觀<xref:System.Windows.Controls.Control.FontSize%2A>並<xref:System.Windows.Controls.Control.FontFamily%2A>，在每個<xref:System.Windows.Controls.TextBlock>直接項目。</span><span class="sxs-lookup"><span data-stu-id="df1a4-122">You can change the default appearance by setting properties, such as <xref:System.Windows.Controls.Control.FontSize%2A> and <xref:System.Windows.Controls.Control.FontFamily%2A>, on each <xref:System.Windows.Controls.TextBlock> element directly.</span></span> <span data-ttu-id="df1a4-123">不過，如果您想要您<xref:System.Windows.Controls.TextBlock>元素共用某些屬性，您可以建立<xref:System.Windows.Style>中`Resources`一節您[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]檔案，如下所示：</span><span class="sxs-lookup"><span data-stu-id="df1a4-123">However, if you want your <xref:System.Windows.Controls.TextBlock> elements to share some properties, you can create a <xref:System.Windows.Style> in the `Resources` section of your [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb1](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb1)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="df1a4-124">當您設定<xref:System.Windows.Style.TargetType%2A>您要的樣式<xref:System.Windows.Controls.TextBlock>型別，樣式會套用到所有<xref:System.Windows.Controls.TextBlock> 視窗中的項目。</span><span class="sxs-lookup"><span data-stu-id="df1a4-124">When you set the <xref:System.Windows.Style.TargetType%2A> of your style to the <xref:System.Windows.Controls.TextBlock> type, the style is applied to all the <xref:System.Windows.Controls.TextBlock> elements in the window.</span></span>  
  
 <span data-ttu-id="df1a4-125">現在<xref:System.Windows.Controls.TextBlock>項目會出現，如下所示：</span><span class="sxs-lookup"><span data-stu-id="df1a4-125">Now the <xref:System.Windows.Controls.TextBlock> elements appear as follows:</span></span>  
  
 <span data-ttu-id="df1a4-126">![樣式設定範例螢幕擷取畫面](./media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span><span class="sxs-lookup"><span data-stu-id="df1a4-126">![Styling sample screenshot](./media/stylingintro-textblocksbasestyle.PNG "StylingIntro_TextBlocksBaseStyle")</span></span>  
  
### <a name="extending-styles"></a><span data-ttu-id="df1a4-127">延伸樣式</span><span class="sxs-lookup"><span data-stu-id="df1a4-127">Extending Styles</span></span>  
 <span data-ttu-id="df1a4-128">或許您想要兩個<xref:System.Windows.Controls.TextBlock>元素共用某些屬性值，例如<xref:System.Windows.Controls.Control.FontFamily%2A>和置中對齊<xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>，但您也想要有一些其他屬性的"My Pictures"文字。</span><span class="sxs-lookup"><span data-stu-id="df1a4-128">Perhaps you want your two <xref:System.Windows.Controls.TextBlock> elements to share some property values, such as the <xref:System.Windows.Controls.Control.FontFamily%2A> and the centered <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>, but you also want the text "My Pictures" to have some additional properties.</span></span> <span data-ttu-id="df1a4-129">您可以建立一個以第一個樣式為基礎的新樣式來達到該目的，如以下所示：</span><span class="sxs-lookup"><span data-stu-id="df1a4-129">You can do that by creating a new style that is based on the first style, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#tb2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#tb2)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="df1a4-130">請注意，前一個樣式已有指定的 `x:Key`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-130">Notice that the previous style is given an `x:Key`.</span></span> <span data-ttu-id="df1a4-131">若要套用樣式，您設定<xref:System.Windows.FrameworkElement.Style%2A>屬性上的您<xref:System.Windows.Controls.TextBlock>到`x:Key`值，如下所示：</span><span class="sxs-lookup"><span data-stu-id="df1a4-131">To apply the style, you set the <xref:System.Windows.FrameworkElement.Style%2A> property on your <xref:System.Windows.Controls.TextBlock> to the `x:Key` value, as shown here:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIText](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uitext)]  
  
 <span data-ttu-id="df1a4-132">這<xref:System.Windows.Controls.TextBlock>樣式現在已<xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>的值<xref:System.Windows.HorizontalAlignment.Center>，則<xref:System.Windows.Controls.TextBlock.FontFamily%2A>的值`Comic Sans MS`、<xref:System.Windows.Controls.TextBlock.FontSize%2A>值為 26，和<xref:System.Windows.Controls.TextBlock.Foreground%2A>值設定為<xref:System.Windows.Media.LinearGradientBrush>範例所示。</span><span class="sxs-lookup"><span data-stu-id="df1a4-132">This <xref:System.Windows.Controls.TextBlock> style now has a <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A> value of <xref:System.Windows.HorizontalAlignment.Center>, a <xref:System.Windows.Controls.TextBlock.FontFamily%2A> value of `Comic Sans MS`, a <xref:System.Windows.Controls.TextBlock.FontSize%2A> value of 26, and a <xref:System.Windows.Controls.TextBlock.Foreground%2A> value set to the <xref:System.Windows.Media.LinearGradientBrush> shown in the example.</span></span> <span data-ttu-id="df1a4-133">請注意，它會覆寫<xref:System.Windows.Controls.Control.FontSize%2A>的基底的樣式值。</span><span class="sxs-lookup"><span data-stu-id="df1a4-133">Notice that it overrides the <xref:System.Windows.Controls.Control.FontSize%2A> value of the base style.</span></span> <span data-ttu-id="df1a4-134">如果有一個以上<xref:System.Windows.Setter>中設定相同的屬性<xref:System.Windows.Style>，則<xref:System.Windows.Setter>也就是宣告最後一個會優先採用。</span><span class="sxs-lookup"><span data-stu-id="df1a4-134">If there is more than one <xref:System.Windows.Setter> setting the same property in a <xref:System.Windows.Style>, the <xref:System.Windows.Setter> that is declared last takes precedence.</span></span>  
  
 <span data-ttu-id="df1a4-135">下圖顯示什麼<xref:System.Windows.Controls.TextBlock>元素現在看起來像：</span><span class="sxs-lookup"><span data-stu-id="df1a4-135">The following shows what the <xref:System.Windows.Controls.TextBlock> elements now look like:</span></span>  
  
 <span data-ttu-id="df1a4-136">![已設定樣式的 TextBlock](./media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span><span class="sxs-lookup"><span data-stu-id="df1a4-136">![Styled TextBlocks](./media/stylingintro-textblocks.png "StylingIntro_TextBlocks")</span></span>  
  
 <span data-ttu-id="df1a4-137">這`TitleText`樣式會擴充已建立的樣式<xref:System.Windows.Controls.TextBlock>型別。</span><span class="sxs-lookup"><span data-stu-id="df1a4-137">This `TitleText` style extends the style that has been created for the <xref:System.Windows.Controls.TextBlock> type.</span></span> <span data-ttu-id="df1a4-138">您也可以使用 `x:Key` 值來延伸具有 `x:Key` 的樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-138">You can also extend a style that has an `x:Key` by using the `x:Key` value.</span></span> <span data-ttu-id="df1a4-139">如需範例，請參閱針對提供的範例<xref:System.Windows.Style.BasedOn%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-139">For an example, see the example provided for the <xref:System.Windows.Style.BasedOn%2A> property.</span></span>  
  
### <a name="relationship-of-the-targettype-property-and-the-xkey-attribute"></a><span data-ttu-id="df1a4-140">TargetType 屬性 (Property) 與 x:Key 屬性 (Attribute) 的關聯性</span><span class="sxs-lookup"><span data-stu-id="df1a4-140">Relationship of the TargetType Property and the x:Key Attribute</span></span>  
 <span data-ttu-id="df1a4-141">第一個範例所示，設定<xref:System.Windows.Style.TargetType%2A>屬性，以`TextBlock`而不為樣式指派`x:Key`會導致將樣式套用至所有<xref:System.Windows.Controls.TextBlock>項目。</span><span class="sxs-lookup"><span data-stu-id="df1a4-141">As shown in the first example, setting the <xref:System.Windows.Style.TargetType%2A> property to `TextBlock` without assigning the style an `x:Key` causes the style to be applied to all <xref:System.Windows.Controls.TextBlock> elements.</span></span> <span data-ttu-id="df1a4-142">在此情況下，`x:Key` 會隱含地設定為 `{x:Type TextBlock}`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-142">In this case, the `x:Key` is implicitly set to `{x:Type TextBlock}`.</span></span> <span data-ttu-id="df1a4-143">這表示，如果您明確設定`x:Key`以外的其他值的任何項目`{x:Type TextBlock}`，則<xref:System.Windows.Style>不會套用到所有<xref:System.Windows.Controls.TextBlock>項目自動。</span><span class="sxs-lookup"><span data-stu-id="df1a4-143">This means that if you explicitly set the `x:Key` value to anything other than `{x:Type TextBlock}`, the <xref:System.Windows.Style> is not applied to all <xref:System.Windows.Controls.TextBlock> elements automatically.</span></span> <span data-ttu-id="df1a4-144">相反地，您必須套用的樣式 (使用`x:Key`值) 到<xref:System.Windows.Controls.TextBlock>項目明確。</span><span class="sxs-lookup"><span data-stu-id="df1a4-144">Instead, you must apply the style (by using the `x:Key` value) to the <xref:System.Windows.Controls.TextBlock> elements explicitly.</span></span> <span data-ttu-id="df1a4-145">如果您的樣式是資源區段中，您未設定<xref:System.Windows.Style.TargetType%2A>屬性，您的樣式，則您必須提供`x:Key`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-145">If your style is in the resources section and you do not set the <xref:System.Windows.Style.TargetType%2A> property on your style, then you must provide an `x:Key`.</span></span>  
  
 <span data-ttu-id="df1a4-146">除了提供的預設值`x:Key`，則<xref:System.Windows.Style.TargetType%2A>屬性會指定要套用 setter 屬性的型別。</span><span class="sxs-lookup"><span data-stu-id="df1a4-146">In addition to providing a default value for the `x:Key`, the <xref:System.Windows.Style.TargetType%2A> property specifies the type to which setter properties apply.</span></span> <span data-ttu-id="df1a4-147">如果您未指定<xref:System.Windows.Style.TargetType%2A>，您必須限定名稱的屬性，在您<xref:System.Windows.Setter>使用語法的類別名稱的物件`Property="ClassName.Property"`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-147">If you do not specify a <xref:System.Windows.Style.TargetType%2A>, you must qualify the properties in your <xref:System.Windows.Setter> objects with a class name by using the syntax `Property="ClassName.Property"`.</span></span> <span data-ttu-id="df1a4-148">比方說，而不是設定`Property="FontSize"`，您必須設定<xref:System.Windows.Setter.Property%2A>要`"TextBlock.FontSize"`或`"Control.FontSize"`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-148">For example, instead of setting `Property="FontSize"`, you must set <xref:System.Windows.Setter.Property%2A> to `"TextBlock.FontSize"` or `"Control.FontSize"`.</span></span>  
  
 <span data-ttu-id="df1a4-149">另請注意，許多 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 控制項都是由其他 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 控制項的組合所組成。</span><span class="sxs-lookup"><span data-stu-id="df1a4-149">Also note that many [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls consist of a combination of other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls.</span></span> <span data-ttu-id="df1a4-150">如果您建立一個套用到某個型別所有控制項的樣式，可能會獲得非預期的結果。</span><span class="sxs-lookup"><span data-stu-id="df1a4-150">If you create a style that applies to all controls of a type, you might get unexpected results.</span></span> <span data-ttu-id="df1a4-151">比方說，如果您建立目標的樣式<xref:System.Windows.Controls.TextBlock>中輸入<xref:System.Windows.Window>，樣式會套用到所有<xref:System.Windows.Controls.TextBlock>控制項，在視窗中，即使<xref:System.Windows.Controls.TextBlock>屬於另一個控制項，例如<xref:System.Windows.Controls.ListBox>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-151">For example, if you create a style that targets the <xref:System.Windows.Controls.TextBlock> type in a <xref:System.Windows.Window>, the style is applied to all <xref:System.Windows.Controls.TextBlock> controls in the window, even if the <xref:System.Windows.Controls.TextBlock> is part of another control, such as a <xref:System.Windows.Controls.ListBox>.</span></span>  
  
### <a name="styles-and-resources"></a><span data-ttu-id="df1a4-152">樣式和資源</span><span class="sxs-lookup"><span data-stu-id="df1a4-152">Styles and Resources</span></span>  
 <span data-ttu-id="df1a4-153">您可以使用衍生自任何項目上的樣式<xref:System.Windows.FrameworkElement>或<xref:System.Windows.FrameworkContentElement>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-153">You can use a style on any element that derives from <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="df1a4-154">宣告樣式的最常見方式是在 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 檔案的 `Resources` 區段中宣告成資源，如先前的範例所示。</span><span class="sxs-lookup"><span data-stu-id="df1a4-154">The most common way to declare a style is as a resource in the `Resources` section in a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, as shown in the previous examples.</span></span> <span data-ttu-id="df1a4-155">由於樣式是資源，因此它們會遵守適用於所有資源的相同範圍限定規則；您宣告樣式的位置會影響可以套用樣式的位置。</span><span class="sxs-lookup"><span data-stu-id="df1a4-155">Because styles are resources, they obey the same scoping rules that apply to all resources; where you declare a style affects where the style can be applied.</span></span> <span data-ttu-id="df1a4-156">例如，如果您是在應用程式定義 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 檔案的根元素中宣告樣式，就可在應用程式中的任何地方使用該樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-156">For example, if you declare the style in the root element of your application definition [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file, the style can be used anywhere in your application.</span></span> <span data-ttu-id="df1a4-157">如果您建立一個導覽應用程式並在應用程式的其中一個 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 檔案中宣告樣式，則只能在該 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 檔案中使用該樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-157">If you create a navigation application and declare the style in one of the application's [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files, the style can be used only in that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="df1a4-158">如需有關資源範圍限定規則的詳細資訊，請參閱 [XAML 資源](../advanced/xaml-resources.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-158">For more information about scoping rules for resources, see [XAML Resources](../advanced/xaml-resources.md).</span></span>  
  
 <span data-ttu-id="df1a4-159">此外，您也可以在本概觀稍後的[共用的資源和佈景主題](#styling_themes)中，找到有關樣式和資源的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="df1a4-159">In addition, you can find more information about styles and resources in [Shared Resources and Themes](#styling_themes) later in this overview.</span></span>  
  
### <a name="setting-styles-programmatically"></a><span data-ttu-id="df1a4-160">以程式設計方式設定樣式</span><span class="sxs-lookup"><span data-stu-id="df1a4-160">Setting Styles Programmatically</span></span>  
 <span data-ttu-id="df1a4-161">若要以程式設計方式將具名的樣式指派給項目，獲取的資源集合中的樣式，並將它指派給元素的<xref:System.Windows.FrameworkElement.Style%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-161">To assign a named style to an element programmatically, get the style from the resources collection and assign it to the element's <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="df1a4-162">請注意，資源集合中的項目都屬於型別<xref:System.Object>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-162">Note that the items in a resources collection are of type <xref:System.Object>.</span></span> <span data-ttu-id="df1a4-163">因此，您必須轉換為要擷取的樣式<xref:System.Windows.Style>之前將它指派給<xref:System.Windows.FrameworkElement.Style%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-163">Therefore, you must cast the retrieved style to a <xref:System.Windows.Style> before assigning it to the <xref:System.Windows.FrameworkElement.Style%2A> property.</span></span> <span data-ttu-id="df1a4-164">例如，若要設定已定義`TitleText`上設定樣式<xref:System.Windows.Controls.TextBlock>名為`textblock1`，執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="df1a4-164">For example, to set the defined `TitleText` style on a <xref:System.Windows.Controls.TextBlock> named `textblock1`, do the following:</span></span>  
  
 [!code-csharp[StylingIntroSample_snippet#Code](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml.cs#code)]
 [!code-vb[StylingIntroSample_snippet#Code](~/samples/snippets/visualbasic/VS_Snippets_Wpf/StylingIntroSample_snippet/visualbasic/window1.xaml.vb#code)]  
  
 <span data-ttu-id="df1a4-165">請注意，套用樣式之後，系統就會將它密封而無法供您變更。</span><span class="sxs-lookup"><span data-stu-id="df1a4-165">Note that once a style has been applied, it is sealed and cannot be changed.</span></span> <span data-ttu-id="df1a4-166">如果您想要動態變更已經套用的樣式，就必須建立新的樣式來取代現有的樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-166">If you want to dynamically change a style that has already been applied, you must create a new style to replace the existing one.</span></span> <span data-ttu-id="df1a4-167">如需詳細資訊，請參閱 <xref:System.Windows.Style.IsSealed%2A> 屬性 (Property)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-167">For more information, see the <xref:System.Windows.Style.IsSealed%2A> property.</span></span>  
  
 <span data-ttu-id="df1a4-168">您可以建立一個物件來根據自訂邏輯選擇要套用的樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-168">You can create an object that chooses a style to apply based on custom logic.</span></span> <span data-ttu-id="df1a4-169">如需範例，請參閱針對提供的範例<xref:System.Windows.Controls.StyleSelector>類別。</span><span class="sxs-lookup"><span data-stu-id="df1a4-169">For an example, see the example provided for the <xref:System.Windows.Controls.StyleSelector> class.</span></span>  
  
<a name="styling_binding_dynamicresource"></a>   
### <a name="bindings-dynamic-resources-and-event-handlers"></a><span data-ttu-id="df1a4-170">繫結、動態資源及事件處理常式</span><span class="sxs-lookup"><span data-stu-id="df1a4-170">Bindings, Dynamic Resources, and Event Handlers</span></span>  
 <span data-ttu-id="df1a4-171">請注意，您可以使用 `Setter.Value` 屬性來指定 [Binding 標記延伸](../advanced/binding-markup-extension.md)或 [DynamicResource 標記延伸](../advanced/dynamicresource-markup-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-171">Note that you can use the `Setter.Value` property to specify a [Binding Markup Extension](../advanced/binding-markup-extension.md) or a [DynamicResource Markup Extension](../advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="df1a4-172">如需詳細資訊，請參閱提供的範例<xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType>屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-172">For more information, see the examples provided for the <xref:System.Windows.Setter.Value%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="df1a4-173">到目前為止，本概觀僅討論使用 setter 來設定屬性值。</span><span class="sxs-lookup"><span data-stu-id="df1a4-173">So far, this overview only discusses the use of setters to set property value.</span></span> <span data-ttu-id="df1a4-174">您也可以在樣式中指定事件處理常式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-174">You can also specify event handlers in a style.</span></span> <span data-ttu-id="df1a4-175">如需詳細資訊，請參閱<xref:System.Windows.EventSetter>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-175">For more information, see <xref:System.Windows.EventSetter>.</span></span>  
  
<a name="styling_datatemplates"></a>   
## <a name="data-templates"></a><span data-ttu-id="df1a4-176">資料範本</span><span class="sxs-lookup"><span data-stu-id="df1a4-176">Data Templates</span></span>  
 <span data-ttu-id="df1a4-177">在此範例應用程式中，沒有<xref:System.Windows.Controls.ListBox>繫結至相片清單的控制項：</span><span class="sxs-lookup"><span data-stu-id="df1a4-177">In this sample application, there is a <xref:System.Windows.Controls.ListBox> control that is bound to a list of photos:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#UIListBox](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#uilistbox)]  
  
 <span data-ttu-id="df1a4-178">這<xref:System.Windows.Controls.ListBox>目前看起來如下所示：</span><span class="sxs-lookup"><span data-stu-id="df1a4-178">This <xref:System.Windows.Controls.ListBox> currently looks like the following:</span></span>  
  
 <span data-ttu-id="df1a4-179">![套用範本之前的 ListBox](./media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span><span class="sxs-lookup"><span data-stu-id="df1a4-179">![ListBox before applying template](./media/stylingintro-listboxbefore.png "StylingIntro_ListBoxBefore")</span></span>  
  
 <span data-ttu-id="df1a4-180">大多數控制項都有某個型別的內容，而該內容通常來自您要繫結的資料。</span><span class="sxs-lookup"><span data-stu-id="df1a4-180">Most controls have some type of content, and that content often comes from data that you are binding to.</span></span> <span data-ttu-id="df1a4-181">在此範例中，該資料是相片清單。</span><span class="sxs-lookup"><span data-stu-id="df1a4-181">In this sample, the data is the list of photos.</span></span> <span data-ttu-id="df1a4-182">在  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，您使用<xref:System.Windows.DataTemplate>來定義資料的視覺表示法。</span><span class="sxs-lookup"><span data-stu-id="df1a4-182">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], you use a <xref:System.Windows.DataTemplate> to define the visual representation of data.</span></span> <span data-ttu-id="df1a4-183">基本上，什麼您放入<xref:System.Windows.DataTemplate>決定資料在轉譯的應用程式中的外觀。</span><span class="sxs-lookup"><span data-stu-id="df1a4-183">Basically, what you put into a <xref:System.Windows.DataTemplate> determines what the data looks like in the rendered application.</span></span>  
  
 <span data-ttu-id="df1a4-184">在我們的範例應用程式中，每個自訂的 `Photo` 物件都有一個字串型別的 `Source` 屬性，用來指定影像的檔案路徑。</span><span class="sxs-lookup"><span data-stu-id="df1a4-184">In our sample application, each custom `Photo` object has a `Source` property of type string that specifies the file path of the image.</span></span> <span data-ttu-id="df1a4-185">目前，相片物件是顯示成檔案路徑。</span><span class="sxs-lookup"><span data-stu-id="df1a4-185">Currently, the photo objects appear as file paths.</span></span>  
  
 <span data-ttu-id="df1a4-186">在您建立文件，相片才會顯示為映像，<xref:System.Windows.DataTemplate>做為資源：</span><span class="sxs-lookup"><span data-stu-id="df1a4-186">For the photos to appear as images, you create a <xref:System.Windows.DataTemplate> as a resource:</span></span>  
  
 [!code-xaml[StylingIntroSnippet#Resources](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources)]  
[!code-xaml[StylingIntroSnippet#DataTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#datatemplate)]  
[!code-xaml[StylingIntroSnippet#Resources2](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSnippet/CS/window1.xaml#resources2)]  
  
 <span data-ttu-id="df1a4-187">請注意，<xref:System.Windows.DataTemplate.DataType%2A>屬性是非常類似於<xref:System.Windows.Style.TargetType%2A>屬性<xref:System.Windows.Style>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-187">Notice that the <xref:System.Windows.DataTemplate.DataType%2A> property is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style>.</span></span> <span data-ttu-id="df1a4-188">如果您<xref:System.Windows.DataTemplate>位於 [資源] 區段中，當您指定<xref:System.Windows.DataTemplate.DataType%2A>屬性的型別並不會將它指派`x:Key`，則<xref:System.Windows.DataTemplate>該型別出現時套用。</span><span class="sxs-lookup"><span data-stu-id="df1a4-188">If your <xref:System.Windows.DataTemplate> is in the resources section, when you specify the <xref:System.Windows.DataTemplate.DataType%2A> property to a type and not assign it an `x:Key`, the <xref:System.Windows.DataTemplate> is applied whenever that type appears.</span></span> <span data-ttu-id="df1a4-189">您一律可以選擇来指派<xref:System.Windows.DataTemplate>具有`x:Key`，然後將它設為`StaticResource`屬性採用<xref:System.Windows.DataTemplate>類型，例如<xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>屬性或<xref:System.Windows.Controls.ContentControl.ContentTemplate%2A>屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-189">You always have the option to assign the <xref:System.Windows.DataTemplate> with an `x:Key` and then set it as a `StaticResource` for properties that take <xref:System.Windows.DataTemplate> types, such as the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property or the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>  
  
 <span data-ttu-id="df1a4-190">基本上，<xref:System.Windows.DataTemplate>在上述範例中定義了每當有`Photo`物件，它應該會顯示為<xref:System.Windows.Controls.Image>內<xref:System.Windows.Controls.Border>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-190">Essentially, the <xref:System.Windows.DataTemplate> in the above example defines that whenever there is a `Photo` object, it should appear as an <xref:System.Windows.Controls.Image> within a <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="df1a4-191">與這個<xref:System.Windows.DataTemplate>，我們的應用程式現在看起來像這樣：</span><span class="sxs-lookup"><span data-stu-id="df1a4-191">With this <xref:System.Windows.DataTemplate>, our application now looks like this:</span></span>  
  
 <span data-ttu-id="df1a4-192">![相片影像](./media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span><span class="sxs-lookup"><span data-stu-id="df1a4-192">![Photo image](./media/stylingintro-photosasimages.png "StylingIntro_PhotosAsImages")</span></span>  
  
 <span data-ttu-id="df1a4-193">資料範本化模型還提供其他功能。</span><span class="sxs-lookup"><span data-stu-id="df1a4-193">The data templating model provides other features.</span></span> <span data-ttu-id="df1a4-194">例如，如果您要顯示包含使用其他集合的集合資料<xref:System.Windows.Controls.HeaderedItemsControl>輸入，例如<xref:System.Windows.Controls.Menu>或<xref:System.Windows.Controls.TreeView>，沒有<xref:System.Windows.HierarchicalDataTemplate>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-194">For example, if you are displaying collection data that contains other collections using a <xref:System.Windows.Controls.HeaderedItemsControl> type such as a <xref:System.Windows.Controls.Menu> or a <xref:System.Windows.Controls.TreeView>, there is the <xref:System.Windows.HierarchicalDataTemplate>.</span></span> <span data-ttu-id="df1a4-195">另一個資料範本化功能是<xref:System.Windows.Controls.DataTemplateSelector>，這可讓您選擇<xref:System.Windows.DataTemplate>使用根據自訂邏輯。</span><span class="sxs-lookup"><span data-stu-id="df1a4-195">Another data templating feature is the <xref:System.Windows.Controls.DataTemplateSelector>, which allows you to choose a <xref:System.Windows.DataTemplate> to use based on custom logic.</span></span> <span data-ttu-id="df1a4-196">如需詳細資訊，請參閱[資料範本化概觀](../data/data-templating-overview.md)，其中提供不同資料範本化功能的更深入探討。</span><span class="sxs-lookup"><span data-stu-id="df1a4-196">For more information, see [Data Templating Overview](../data/data-templating-overview.md), which provides a more in-depth discussion of the different data templating features.</span></span>  
  
<a name="styling_controltemplates"></a>   
## <a name="control-templates"></a><span data-ttu-id="df1a4-197">控制項範本</span><span class="sxs-lookup"><span data-stu-id="df1a4-197">Control Templates</span></span>  
 <span data-ttu-id="df1a4-198">在  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]，則<xref:System.Windows.Controls.ControlTemplate>控制項的定義控制項的外觀。</span><span class="sxs-lookup"><span data-stu-id="df1a4-198">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Controls.ControlTemplate> of a control defines the appearance of the control.</span></span> <span data-ttu-id="df1a4-199">您可以藉由定義新變更的結構和控制項的外觀<xref:System.Windows.Controls.ControlTemplate>控制項。</span><span class="sxs-lookup"><span data-stu-id="df1a4-199">You can change the structure and appearance of a control by defining a new <xref:System.Windows.Controls.ControlTemplate> for the control.</span></span> <span data-ttu-id="df1a4-200">在許多情況下，這會賦予您足夠的彈性，讓您不需要撰寫自己的自訂控制項。</span><span class="sxs-lookup"><span data-stu-id="df1a4-200">In many cases, this gives you enough flexibility so that you do not have to write your own custom controls.</span></span> <span data-ttu-id="df1a4-201">如需詳細資訊，請參閱[透過建立 ControlTemplate 自訂現有控制項的外觀](customizing-the-appearance-of-an-existing-control.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-201">For more information, see [Customizing the Appearance of an Existing Control by Creating a ControlTemplate](customizing-the-appearance-of-an-existing-control.md).</span></span>  
  
<a name="styling_triggers"></a>   
## <a name="triggers"></a><span data-ttu-id="df1a4-202">觸發程序</span><span class="sxs-lookup"><span data-stu-id="df1a4-202">Triggers</span></span>  
 <span data-ttu-id="df1a4-203">觸發程序會在屬性值發生變更或在某個事件被引發時，設定屬性或啟動動作 (例如動畫)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-203">A trigger sets properties or starts actions, such as an animation, when a property value changes or when an event is raised.</span></span> <span data-ttu-id="df1a4-204"><xref:System.Windows.Style><xref:System.Windows.Controls.ControlTemplate>，並<xref:System.Windows.DataTemplate>都有`Triggers`可以包含一組觸發程序的屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-204"><xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, and <xref:System.Windows.DataTemplate> all have a `Triggers` property that can contain a set of triggers.</span></span> <span data-ttu-id="df1a4-205">有各種不同類型的觸發程序。</span><span class="sxs-lookup"><span data-stu-id="df1a4-205">There are various types of triggers.</span></span>  
  
### <a name="property-triggers"></a><span data-ttu-id="df1a4-206">屬性觸發程序</span><span class="sxs-lookup"><span data-stu-id="df1a4-206">Property Triggers</span></span>  
 <span data-ttu-id="df1a4-207">A<xref:System.Windows.Trigger>設定屬性值，或啟動屬性的值為基礎的動作稱為屬性觸發程序。</span><span class="sxs-lookup"><span data-stu-id="df1a4-207">A <xref:System.Windows.Trigger> that sets property values or starts actions based on the value of a property is called a property trigger.</span></span>  
  
 <span data-ttu-id="df1a4-208">為了示範如何使用屬性觸發程序，您可以讓每個<xref:System.Windows.Controls.ListBoxItem>部分透明，除非已選取。</span><span class="sxs-lookup"><span data-stu-id="df1a4-208">To demonstrate how to use property triggers, you can make each <xref:System.Windows.Controls.ListBoxItem> partially transparent unless it is selected.</span></span> <span data-ttu-id="df1a4-209">下列樣式集<xref:System.Windows.UIElement.Opacity%2A>的值<xref:System.Windows.Controls.ListBoxItem>至`0.5`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-209">The following style sets the <xref:System.Windows.UIElement.Opacity%2A> value of a <xref:System.Windows.Controls.ListBoxItem> to `0.5`.</span></span> <span data-ttu-id="df1a4-210">當<xref:System.Windows.Controls.ListBoxItem.IsSelected%2A>屬性是`true`，不過<xref:System.Windows.UIElement.Opacity%2A>設定為`1.0`:</span><span class="sxs-lookup"><span data-stu-id="df1a4-210">When the <xref:System.Windows.Controls.ListBoxItem.IsSelected%2A> property is `true`, however, the <xref:System.Windows.UIElement.Opacity%2A> is set to `1.0`:</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#Triggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#triggers)]  
[!code-xaml[StylingIntroSample_snippet#EndTriggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#endtriggers)]  
  
 <span data-ttu-id="df1a4-211">這個範例會使用<xref:System.Windows.Trigger>若要設定的屬性值，但請注意<xref:System.Windows.Trigger>類別也有<xref:System.Windows.TriggerBase.EnterActions%2A>和<xref:System.Windows.TriggerBase.ExitActions%2A>啟用觸發程序執行動作的屬性。</span><span class="sxs-lookup"><span data-stu-id="df1a4-211">This example uses a <xref:System.Windows.Trigger> to set a property value, but note that the <xref:System.Windows.Trigger> class also has the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that enable a trigger to perform actions.</span></span>  
  
 <span data-ttu-id="df1a4-212">請注意，<xref:System.Windows.FrameworkElement.MaxHeight%2A>的屬性<xref:System.Windows.Controls.ListBoxItem>設定為`75`。</span><span class="sxs-lookup"><span data-stu-id="df1a4-212">Notice that the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property of the <xref:System.Windows.Controls.ListBoxItem> is set to `75`.</span></span> <span data-ttu-id="df1a4-213">在下圖中，第三個項目是已選取的項目：</span><span class="sxs-lookup"><span data-stu-id="df1a4-213">In the following illustration, the third item is the selected item:</span></span>  
  
 <span data-ttu-id="df1a4-214">![已設定樣式的 ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span><span class="sxs-lookup"><span data-stu-id="df1a4-214">![Styled ListView](./media/stylingintro-triggers.png "StylingIntro_triggers")</span></span>  
  
### <a name="eventtriggers-and-storyboards"></a><span data-ttu-id="df1a4-215">EventTrigger 和分鏡腳本</span><span class="sxs-lookup"><span data-stu-id="df1a4-215">EventTriggers and Storyboards</span></span>  
 <span data-ttu-id="df1a4-216">觸發程序的另一種是<xref:System.Windows.EventTrigger>，這會啟動一組發生的事件為基礎的動作。</span><span class="sxs-lookup"><span data-stu-id="df1a4-216">Another type of trigger is the <xref:System.Windows.EventTrigger>, which starts a set of actions based on the occurrence of an event.</span></span> <span data-ttu-id="df1a4-217">例如，下列<xref:System.Windows.EventTrigger>物件指定當滑鼠指標進入<xref:System.Windows.Controls.ListBoxItem>，則<xref:System.Windows.FrameworkElement.MaxHeight%2A>屬性以動畫顯示的值`90`透過`0.2`第二段。</span><span class="sxs-lookup"><span data-stu-id="df1a4-217">For example, the following <xref:System.Windows.EventTrigger> objects specify that when the mouse pointer enters the <xref:System.Windows.Controls.ListBoxItem>, the <xref:System.Windows.FrameworkElement.MaxHeight%2A> property animates to a value of `90` over a `0.2` second period.</span></span> <span data-ttu-id="df1a4-218">當滑鼠指標從項目移開時，該屬性會在 `1` 秒的期間內恢復成原始值。</span><span class="sxs-lookup"><span data-stu-id="df1a4-218">When the mouse moves away from the item, the property returns to the original value over a period of `1` second.</span></span> <span data-ttu-id="df1a4-219">請注意如何不需要指定<xref:System.Windows.Media.Animation.DoubleAnimation.To%2A>值<xref:System.Windows.ContentElement.MouseLeave>動畫。</span><span class="sxs-lookup"><span data-stu-id="df1a4-219">Note how it is not necessary to specify a <xref:System.Windows.Media.Animation.DoubleAnimation.To%2A> value for the <xref:System.Windows.ContentElement.MouseLeave> animation.</span></span> <span data-ttu-id="df1a4-220">這是因為動畫能夠記錄原始值。</span><span class="sxs-lookup"><span data-stu-id="df1a4-220">This is because the animation is able to keep track of the original value.</span></span>  
  
 [!code-xaml[StylingIntroSample_snippet#EventTriggers](~/samples/snippets/csharp/VS_Snippets_Wpf/StylingIntroSample_snippet/CSharp/Window1.xaml#eventtriggers)]  
  
 <span data-ttu-id="df1a4-221">如需詳細資訊，請參閱[分鏡腳本概觀](../graphics-multimedia/storyboards-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-221">For more information, see the [Storyboards Overview](../graphics-multimedia/storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="df1a4-222">在下圖中，滑鼠指標正指向第三個項目：</span><span class="sxs-lookup"><span data-stu-id="df1a4-222">In the following illustration, the mouse is pointing to the third item:</span></span>  
  
 <span data-ttu-id="df1a4-223">![樣式設定範例螢幕擷取畫面](./media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span><span class="sxs-lookup"><span data-stu-id="df1a4-223">![Styling sample screenshot](./media/stylingintro-eventtriggers.png "StylingIntro_EventTriggers")</span></span>  
  
### <a name="multitriggers-datatriggers-and-multidatatriggers"></a><span data-ttu-id="df1a4-224">MultiTrigger、DataTrigger 及 MultiDataTrigger</span><span class="sxs-lookup"><span data-stu-id="df1a4-224">MultiTriggers, DataTriggers, and MultiDataTriggers</span></span>  
 <span data-ttu-id="df1a4-225">除了<xref:System.Windows.Trigger>和<xref:System.Windows.EventTrigger>，還有其他類型的觸發程序。</span><span class="sxs-lookup"><span data-stu-id="df1a4-225">In addition to <xref:System.Windows.Trigger> and <xref:System.Windows.EventTrigger>, there are other types of triggers.</span></span> <span data-ttu-id="df1a4-226"><xref:System.Windows.MultiTrigger> 可讓您設定多個條件為基礎的屬性值。</span><span class="sxs-lookup"><span data-stu-id="df1a4-226"><xref:System.Windows.MultiTrigger> allows you to set property values based on multiple conditions.</span></span> <span data-ttu-id="df1a4-227">您使用<xref:System.Windows.DataTrigger>和<xref:System.Windows.MultiDataTrigger>若條件的屬性是資料繫結。</span><span class="sxs-lookup"><span data-stu-id="df1a4-227">You use <xref:System.Windows.DataTrigger> and <xref:System.Windows.MultiDataTrigger> when the property of your condition is data-bound.</span></span>  
  
<a name="styling_themes"></a>   
## <a name="shared-resources-and-themes"></a><span data-ttu-id="df1a4-228">共用的資源和佈景主題</span><span class="sxs-lookup"><span data-stu-id="df1a4-228">Shared Resources and Themes</span></span>  
 <span data-ttu-id="df1a4-229">典型的 Windows Presentation Foundation (WPF) 應用程式可能會有多個套用整個應用程式的使用者介面 (UI) 資源。</span><span class="sxs-lookup"><span data-stu-id="df1a4-229">A typical Windows Presentation Foundation (WPF) application might have multiple user interface (UI) resources that are applied throughout the application.</span></span> <span data-ttu-id="df1a4-230">這組資源集體可視為應用程式的佈景主題。</span><span class="sxs-lookup"><span data-stu-id="df1a4-230">Collectively, this set of resources can be considered the theme for the application.</span></span> <span data-ttu-id="df1a4-231">Windows Presentation Foundation (WPF) 提供的支援封裝使用者介面 (UI) 資源做為主題藉由使用資源字典，其會封裝為<xref:System.Windows.ResourceDictionary>類別。</span><span class="sxs-lookup"><span data-stu-id="df1a4-231">Windows Presentation Foundation (WPF) provides support for packaging user interface (UI) resources as a theme by using a resource dictionary that is encapsulated as the <xref:System.Windows.ResourceDictionary> class.</span></span>  
  
 <span data-ttu-id="df1a4-232">Windows Presentation Foundation (WPF) 佈景主題定義使用的樣式和範本化機制，Windows Presentation Foundation (WPF) 會公開用於自訂的視覺效果的任何項目。</span><span class="sxs-lookup"><span data-stu-id="df1a4-232">Windows Presentation Foundation (WPF) themes are defined by using the styling and templating mechanism that Windows Presentation Foundation (WPF) exposes for customizing the visuals of any element.</span></span>  
  
 <span data-ttu-id="df1a4-233">Windows Presentation Foundation (WPF) 佈景主題資源會儲存在內嵌的資源字典。</span><span class="sxs-lookup"><span data-stu-id="df1a4-233">Windows Presentation Foundation (WPF) theme resources are stored in embedded resource dictionaries.</span></span> <span data-ttu-id="df1a4-234">這些資源字典必須內嵌在已簽署的組件內，並且可內嵌在與程式碼本身相同的組件中，也可內嵌在並存的組件中。</span><span class="sxs-lookup"><span data-stu-id="df1a4-234">These resource dictionaries must be embedded within a signed assembly, and can either be embedded in the same assembly as the code itself or in a side-by-side assembly.</span></span> <span data-ttu-id="df1a4-235">在 PresentationFramework.dll 中，其中包含 Windows Presentation Foundation (WPF) 控制項的組件的情況下佈景主題資源是一系列並排顯示組件中。</span><span class="sxs-lookup"><span data-stu-id="df1a4-235">In the case of PresentationFramework.dll, the assembly which contains Windows Presentation Foundation (WPF) controls, theme resources are in a series of side-by-side assemblies.</span></span>  
  
 <span data-ttu-id="df1a4-236">當搜尋元素的樣式時，佈景主題會成為最後一個要查看的地方。</span><span class="sxs-lookup"><span data-stu-id="df1a4-236">The theme becomes the last place to look when searching for the style of an element.</span></span> <span data-ttu-id="df1a4-237">一般而言，搜尋會從元素樹狀目錄往上開始、搜尋適當的資源，然後查看應用程式資源集合，最後查詢系統。</span><span class="sxs-lookup"><span data-stu-id="df1a4-237">Typically, the search will begin by walking up the element tree searching for an appropriate resource, then look in the application resource collection and finally query the system.</span></span> <span data-ttu-id="df1a4-238">這會為應用程式開發人員提供一個機會，可在到達佈景主題之前，先為樹狀目錄或應用程式層級的任何物件，重新定義樣式。</span><span class="sxs-lookup"><span data-stu-id="df1a4-238">This gives application developers a chance to redefine the style for any object at the tree or application level before reaching the theme.</span></span>  
  
 <span data-ttu-id="df1a4-239">您可以將資源字典定義成個別的檔案，這可讓您跨多個應用程式重複使用佈景主題。</span><span class="sxs-lookup"><span data-stu-id="df1a4-239">You can define resource dictionaries as individual files that enable you to reuse a theme across multiple applications.</span></span> <span data-ttu-id="df1a4-240">您也可以透過定義多個資源字典來提供類型相同但值不同的資源，以建立可切換的佈景主題。</span><span class="sxs-lookup"><span data-stu-id="df1a4-240">You can also create swappable themes by defining multiple resource dictionaries that provide the same types of resources but with different values.</span></span> <span data-ttu-id="df1a4-241">重新定義這些樣式或其他應用程式層級的資源，是簡化應用程式的建議做法。</span><span class="sxs-lookup"><span data-stu-id="df1a4-241">Redefining these styles or other resources at the application level is the recommended approach for skinning an application.</span></span>  
  
 <span data-ttu-id="df1a4-242">若要共用一組資源，包括樣式和範本，跨應用程式，您可以建立[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]檔案，並定義<xref:System.Windows.ResourceDictionary>。</span><span class="sxs-lookup"><span data-stu-id="df1a4-242">To share a set of resources, including styles and templates, across applications, you can create a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file and define a <xref:System.Windows.ResourceDictionary>.</span></span> <span data-ttu-id="df1a4-243">例如，請看看下圖，當中顯示部分的[使用 ControlTemplates 設定樣式範例](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating)：</span><span class="sxs-lookup"><span data-stu-id="df1a4-243">For example, take a look at the following illustration that shows part of the [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating):</span></span>

<span data-ttu-id="df1a4-244">![控制項範本範例](./media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span><span class="sxs-lookup"><span data-stu-id="df1a4-244">![Control Template Examples](./media/stylingintro-controltemplateexamples.png "StylingIntro_ControlTemplateExamples")</span></span>  
  
 <span data-ttu-id="df1a4-245">如果您查看範例中的 [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] 檔案，您將會發現這些檔案都具有下列內容：</span><span class="sxs-lookup"><span data-stu-id="df1a4-245">If you look at the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the sample, you will notice that the files all have the following:</span></span>  
  
 [!code-xaml[ControlTemplateExamples#MergedDictionaries](~/samples/snippets/csharp/VS_Snippets_Wpf/ControlTemplateExamples/CS/resources/button.xaml#mergeddictionaries)]  
  
 <span data-ttu-id="df1a4-246">它是共用`shared.xaml`，其定義<xref:System.Windows.ResourceDictionary>，其中包含一組樣式和筆刷資源，可讓擁有一致的外觀範例中的控制項。</span><span class="sxs-lookup"><span data-stu-id="df1a4-246">It is the sharing of `shared.xaml`, which defines a <xref:System.Windows.ResourceDictionary> that contains a set of style and brush resources that enables the controls in the sample to have a consistent look.</span></span>  
  
 <span data-ttu-id="df1a4-247">如需詳細資訊，請參閱[合併的資源字典](../advanced/merged-resource-dictionaries.md)。</span><span class="sxs-lookup"><span data-stu-id="df1a4-247">For more information, see [Merged Resource Dictionaries](../advanced/merged-resource-dictionaries.md).</span></span>  
  
 <span data-ttu-id="df1a4-248">如果您要為自訂控制項建立佈景主題，請參閱[控制項撰寫概觀](control-authoring-overview.md)的＜外部控制項程式庫＞一節。</span><span class="sxs-lookup"><span data-stu-id="df1a4-248">If you are creating a theme for you custom control, see the External Control Library section of the [Control Authoring Overview](control-authoring-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="df1a4-249">另請參閱</span><span class="sxs-lookup"><span data-stu-id="df1a4-249">See also</span></span>

- [<span data-ttu-id="df1a4-250">WPF 中的 Pack URI</span><span class="sxs-lookup"><span data-stu-id="df1a4-250">Pack URIs in WPF</span></span>](../app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="df1a4-251">如何：尋找 ControlTemplate 產生的項目</span><span class="sxs-lookup"><span data-stu-id="df1a4-251">How to: Find ControlTemplate-Generated Elements</span></span>](how-to-find-controltemplate-generated-elements.md)
- [<span data-ttu-id="df1a4-252">尋找 DataTemplate 產生的元素</span><span class="sxs-lookup"><span data-stu-id="df1a4-252">Find DataTemplate-Generated Elements</span></span>](../data/how-to-find-datatemplate-generated-elements.md)
