---
title: "WindowsFormsHost 項目的配置考量"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- WindowsFormsHost element layout considerations [WPF]
- dynamic layout [WPF interoperability]
- device-independent pixels
ms.assetid: 3c574597-bbde-440f-95cc-01371f1a5d9d
caps.latest.revision: "20"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 895185797ebdef2145caec4c1c5ac26e3688c463
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/22/2017
---
# <a name="layout-considerations-for-the-windowsformshost-element"></a><span data-ttu-id="7c326-102">WindowsFormsHost 項目的配置考量</span><span class="sxs-lookup"><span data-stu-id="7c326-102">Layout Considerations for the WindowsFormsHost Element</span></span>
<span data-ttu-id="7c326-103">本主題描述如何<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目互動[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]版面配置系統。</span><span class="sxs-lookup"><span data-stu-id="7c326-103">This topic describes how the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element interacts with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7c326-104">和[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]支援不同但相似，邏輯大小及定位到表單或頁面上的項目。</span><span class="sxs-lookup"><span data-stu-id="7c326-104"> and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] support different, but similar, logic for sizing and positioning elements on a form or page.</span></span> <span data-ttu-id="7c326-105">當您建立混合式使用者介面 (UI) 的主控件[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]、<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目整合兩個配置。</span><span class="sxs-lookup"><span data-stu-id="7c326-105">When you create a hybrid user interface (UI) that hosts [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element integrates the two layout schemes.</span></span>  
  
## <a name="differences-in-layout-between-wpf-and-windows-forms"></a><span data-ttu-id="7c326-106">版面配置 WPF 和 Windows Form 之間的差異</span><span class="sxs-lookup"><span data-stu-id="7c326-106">Differences in Layout Between WPF and Windows Forms</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7c326-107">使用解析度獨立版面配置。</span><span class="sxs-lookup"><span data-stu-id="7c326-107"> uses resolution-independent layout.</span></span> <span data-ttu-id="7c326-108">所有[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]使用指定的配置維度*裝置無關的像素*。</span><span class="sxs-lookup"><span data-stu-id="7c326-108">All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout dimensions are specified using *device-independent pixels*.</span></span> <span data-ttu-id="7c326-109">與裝置無關的像素是一個 90-第六個英吋的大小與解析度無關，因此會發生類似的結果，不論您是否呈現 72 dpi 監視器或 19200 dpi 印表機。</span><span class="sxs-lookup"><span data-stu-id="7c326-109">A device-independent pixel is one ninety-sixth of an inch in size and resolution-independent, so you get similar results regardless of whether you are rendering to a 72-dpi monitor or a 19,200-dpi printer.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7c326-110">此外亦根據*動態配置*。</span><span class="sxs-lookup"><span data-stu-id="7c326-110"> is also based on *dynamic layout*.</span></span> <span data-ttu-id="7c326-111">這表示 UI 項目，在表單或頁面根據其內容、 其父版面配置容器和可用的螢幕大小來排列本身。</span><span class="sxs-lookup"><span data-stu-id="7c326-111">This means that a UI element arranges itself on a form or page according to its content, its parent layout container, and the available screen size.</span></span> <span data-ttu-id="7c326-112">動態版面配置包含的字串長度變更時，自動調整的大小和位置的 UI 項目，從而完成當地語系化。</span><span class="sxs-lookup"><span data-stu-id="7c326-112">Dynamic layout facilitates localization by automatically adjusting the size and position of UI elements when the strings they contain change length.</span></span>  
  
 <span data-ttu-id="7c326-113">在 版面配置[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]是裝置而異，更容易為靜態。</span><span class="sxs-lookup"><span data-stu-id="7c326-113">Layout in [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] is device-dependent and more likely to be static.</span></span> <span data-ttu-id="7c326-114">一般而言，[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]使用硬體像素為單位指定維度的表單上控制項絕對定位。</span><span class="sxs-lookup"><span data-stu-id="7c326-114">Typically, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls are positioned absolutely on a form using dimensions specified in hardware pixels.</span></span> <span data-ttu-id="7c326-115">不過，[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]並支援某些動態配置功能，在下表將摘要說明。</span><span class="sxs-lookup"><span data-stu-id="7c326-115">However, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] does support some dynamic layout features, as summarized in the following table.</span></span>  
  
|<span data-ttu-id="7c326-116">版面配置功能</span><span class="sxs-lookup"><span data-stu-id="7c326-116">Layout feature</span></span>|<span data-ttu-id="7c326-117">描述</span><span class="sxs-lookup"><span data-stu-id="7c326-117">Description</span></span>|  
|--------------------|-----------------|  
|<span data-ttu-id="7c326-118">自動調整大小</span><span class="sxs-lookup"><span data-stu-id="7c326-118">Autosizing</span></span>|<span data-ttu-id="7c326-119">某些[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項調整大小，才能夠正確顯示其內容。</span><span class="sxs-lookup"><span data-stu-id="7c326-119">Some [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls resize themselves to display their contents properly.</span></span> <span data-ttu-id="7c326-120">如需詳細資訊，請參閱[AutoSize 屬性概觀](../../../../docs/framework/winforms/controls/autosize-property-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="7c326-120">For more information, see [AutoSize Property Overview](../../../../docs/framework/winforms/controls/autosize-property-overview.md).</span></span>|  
|<span data-ttu-id="7c326-121">錨定和停駐</span><span class="sxs-lookup"><span data-stu-id="7c326-121">Anchoring and docking</span></span>|[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="7c326-122">控制項支援定位和調整大小基礎的父容器。</span><span class="sxs-lookup"><span data-stu-id="7c326-122"> controls support positioning and sizing based on the parent container.</span></span> <span data-ttu-id="7c326-123">如需詳細資訊，請參閱 <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> 與 <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="7c326-123">For more information, see <xref:System.Windows.Forms.Control.Anchor%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.Control.Dock%2A?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="7c326-124">自動調整</span><span class="sxs-lookup"><span data-stu-id="7c326-124">Autoscaling</span></span>|<span data-ttu-id="7c326-125">容器控制項調整大小本身和其子系根據輸出裝置或大小，單位為像素的預設容器字型的解析度。</span><span class="sxs-lookup"><span data-stu-id="7c326-125">Container controls resize themselves and their children based on the resolution of the output device or the size, in pixels, of the default container font.</span></span> <span data-ttu-id="7c326-126">如需詳細資訊，請參閱[Windows Form 中的自動調整](../../../../docs/framework/winforms/automatic-scaling-in-windows-forms.md)。</span><span class="sxs-lookup"><span data-stu-id="7c326-126">For more information, see [Automatic Scaling in Windows Forms](../../../../docs/framework/winforms/automatic-scaling-in-windows-forms.md).</span></span>|  
|<span data-ttu-id="7c326-127">版面配置容器</span><span class="sxs-lookup"><span data-stu-id="7c326-127">Layout containers</span></span>|<span data-ttu-id="7c326-128"><xref:System.Windows.Forms.FlowLayoutPanel>和<xref:System.Windows.Forms.TableLayoutPanel>控制項排列其子控制項，並根據其內容調整本身的大小。</span><span class="sxs-lookup"><span data-stu-id="7c326-128">The <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel> controls arrange their child controls and size themselves according to their contents.</span></span>|  
  
## <a name="layout-limitations"></a><span data-ttu-id="7c326-129">版面配置限制</span><span class="sxs-lookup"><span data-stu-id="7c326-129">Layout Limitations</span></span>  
 <span data-ttu-id="7c326-130">一般情況下，[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項無法調整及轉換為範圍中可能有[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="7c326-130">In general, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be scaled and transformed to the extent possible in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="7c326-131">下列清單描述已知的限制時<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目會嘗試將其裝載整合[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項放入[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]版面配置系統。</span><span class="sxs-lookup"><span data-stu-id="7c326-131">The following list describes the known limitations when the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to integrate its hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control into the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
-   <span data-ttu-id="7c326-132">在某些情況下，無法調整 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] 控制項大小，或只能將它調整為特定維度。</span><span class="sxs-lookup"><span data-stu-id="7c326-132">In some cases, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be resized, or can be sized only to specific dimensions.</span></span> <span data-ttu-id="7c326-133">例如， [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] <xref:System.Windows.Forms.ComboBox>控制項支援只有單一高度定義控制項的字型大小。</span><span class="sxs-lookup"><span data-stu-id="7c326-133">For example, a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] <xref:System.Windows.Forms.ComboBox> control supports only a single height, which is defined by the control's font size.</span></span> <span data-ttu-id="7c326-134">在[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]其中項目可以垂直延伸，裝載的動態配置<xref:System.Windows.Forms.ComboBox>控制項將會自動縮放如預期般。</span><span class="sxs-lookup"><span data-stu-id="7c326-134">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dynamic layout where elements can stretch vertically, a hosted <xref:System.Windows.Forms.ComboBox> control will not stretch as expected.</span></span>  
  
-   <span data-ttu-id="7c326-135">無法旋轉或扭曲 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] 控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-135">[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls cannot be rotated or skewed.</span></span> <span data-ttu-id="7c326-136"><xref:System.Windows.Forms.Integration.WindowsFormsHost>項目引發<xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError>事件，如果您將會套用傾斜或旋轉轉換。</span><span class="sxs-lookup"><span data-stu-id="7c326-136">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element raises the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event if you apply a skew or rotation transformation.</span></span> <span data-ttu-id="7c326-137">如果您沒有處理<xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError>事件， <xref:System.InvalidOperationException> ，就會引發。</span><span class="sxs-lookup"><span data-stu-id="7c326-137">If you do not handle the <xref:System.Windows.Forms.Integration.WindowsFormsHost.LayoutError> event, an <xref:System.InvalidOperationException> is raised.</span></span>  
  
-   <span data-ttu-id="7c326-138">在大部分情況下，[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] 控制項不支援等比例縮放。</span><span class="sxs-lookup"><span data-stu-id="7c326-138">In most cases, [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls do not support proportional scaling.</span></span> <span data-ttu-id="7c326-139">雖然會縮放控制項的整體維度，但是可能無法如預期調整控制項的子控制項和元件大小。</span><span class="sxs-lookup"><span data-stu-id="7c326-139">Although the overall dimensions of the control will scale, child controls and component elements of the control may not resize as expected.</span></span> <span data-ttu-id="7c326-140">這項限制取決於每個 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] 控制項支援縮放比例的程度。</span><span class="sxs-lookup"><span data-stu-id="7c326-140">This limitation depends on how well each [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control supports scaling.</span></span> <span data-ttu-id="7c326-141">此外，您無法擴充[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]向 0 像素大小的控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-141">In addition, you cannot scale [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls down to a size of 0 pixels.</span></span>  
  
-   [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="7c326-142">控制項支援自動調整，以表單將自動調整大小本身和字型大小，依據其控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-142"> controls support autoscaling, in which the form will automatically resize itself and its controls based on the font size.</span></span> <span data-ttu-id="7c326-143">在 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 使用者介面中，變更字型大小並不會調整整個版面配置大小，雖然可能會動態調整個別項目。</span><span class="sxs-lookup"><span data-stu-id="7c326-143">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, changing the font size does not resize the entire layout, although individual elements may dynamically resize.</span></span>  
  
### <a name="z-order"></a><span data-ttu-id="7c326-144">疊置順序</span><span class="sxs-lookup"><span data-stu-id="7c326-144">Z-order</span></span>  
 <span data-ttu-id="7c326-145">在 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 使用者介面中，您可以變更項目的 Z 順序以控制重疊行為。</span><span class="sxs-lookup"><span data-stu-id="7c326-145">In a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] user interface, you can change the z-order of elements to control overlapping behavior.</span></span> <span data-ttu-id="7c326-146">裝載的 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] 控制項會以不同的 HWND 進行繪製，因此一律會將它繪製在 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 項目頂端。</span><span class="sxs-lookup"><span data-stu-id="7c326-146">A hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control is drawn in a separate HWND, so it is always drawn on top of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements.</span></span>  
  
 <span data-ttu-id="7c326-147">裝載[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]之上任何也繪製控制項<xref:System.Windows.Documents.Adorner>項目。</span><span class="sxs-lookup"><span data-stu-id="7c326-147">A hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control is also drawn on top of any <xref:System.Windows.Documents.Adorner> elements.</span></span>  
  
## <a name="layout-behavior"></a><span data-ttu-id="7c326-148">配置行為</span><span class="sxs-lookup"><span data-stu-id="7c326-148">Layout Behavior</span></span>  
 <span data-ttu-id="7c326-149">下列章節說明特定層面的配置行為，當裝載[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="7c326-149">The following sections describe specific aspects of layout behavior when hosting [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="scaling-unit-conversion-and-device-independence"></a><span data-ttu-id="7c326-150">縮放比例單位轉換與裝置獨立</span><span class="sxs-lookup"><span data-stu-id="7c326-150">Scaling, Unit Conversion, and Device Independence</span></span>  
 <span data-ttu-id="7c326-151">每當<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目執行作業[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]和[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]所涉及的維度，這兩個座標系統： 與裝置無關像素[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]和硬體像素[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="7c326-151">Whenever the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element performs operations involving [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] dimensions, two coordinate systems are involved: device-independent pixels for [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and hardware pixels for [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span></span> <span data-ttu-id="7c326-152">因此，您必須套用適當的單位和縮放轉換，以達到一致的版面配置。</span><span class="sxs-lookup"><span data-stu-id="7c326-152">Therefore, you must apply proper unit and scaling conversions to achieve a consistent layout.</span></span>  
  
 <span data-ttu-id="7c326-153">座標系統之間的轉換取決於目前的裝置解析度和任何配置或呈現轉換套用至<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目或其祖系。</span><span class="sxs-lookup"><span data-stu-id="7c326-153">Conversion between the coordinate systems depends on the current device resolution and any layout or rendering transforms applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element or to its ancestors.</span></span>  
  
 <span data-ttu-id="7c326-154">如果輸出裝置是 96 dpi，沒有縮放已套用至<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目，一個與裝置無關的像素等於一個硬體像素。</span><span class="sxs-lookup"><span data-stu-id="7c326-154">If the output device is 96 dpi and no scaling has been applied to the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, one device-independent pixel is equal to one hardware pixel.</span></span>  
  
 <span data-ttu-id="7c326-155">所有其他情況下需要調整座標系統。</span><span class="sxs-lookup"><span data-stu-id="7c326-155">All other cases require coordinate system scaling.</span></span> <span data-ttu-id="7c326-156">裝載的控制項不會重新調整。</span><span class="sxs-lookup"><span data-stu-id="7c326-156">The hosted control is not resized.</span></span> <span data-ttu-id="7c326-157">相反地，<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目會嘗試調整裝載的控制項和所有子控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-157">Instead, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element attempts to scale the hosted control and all of its child controls.</span></span> <span data-ttu-id="7c326-158">因為[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]不完全支援縮放比例，<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目會調整為特定控制項所支援的程度。</span><span class="sxs-lookup"><span data-stu-id="7c326-158">Because [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] does not fully support scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element scales to the degree supported by particular controls.</span></span>  
  
 <span data-ttu-id="7c326-159">覆寫<xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A>方法以提供自訂的縮放行為的裝載[!INCLUDE[TLA2#tla_winforms](../../../../includes/tla2sharptla-winforms-md.md)]控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-159">Override the <xref:System.Windows.Forms.Integration.WindowsFormsHost.ScaleChild%2A> method to provide custom scaling behavior for the hosted [!INCLUDE[TLA2#tla_winforms](../../../../includes/tla2sharptla-winforms-md.md)] control.</span></span>  
  
 <span data-ttu-id="7c326-160">除了擴充之外，<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目會處理捨入和溢位的情況下下, 表中所述。</span><span class="sxs-lookup"><span data-stu-id="7c326-160">In addition to scaling, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element handles rounding and overflow cases as described in the following table.</span></span>  
  
|<span data-ttu-id="7c326-161">轉換問題</span><span class="sxs-lookup"><span data-stu-id="7c326-161">Conversion issue</span></span>|<span data-ttu-id="7c326-162">描述</span><span class="sxs-lookup"><span data-stu-id="7c326-162">Description</span></span>|  
|----------------------|-----------------|  
|<span data-ttu-id="7c326-163">四捨五入</span><span class="sxs-lookup"><span data-stu-id="7c326-163">Rounding</span></span>|[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="7c326-164">裝置獨立畫素維度已指定為`double`，和[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]硬體像素維度已指定為`int`。</span><span class="sxs-lookup"><span data-stu-id="7c326-164"> device-independent pixel dimensions are specified as `double`, and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] hardware pixel dimensions are specified as `int`.</span></span> <span data-ttu-id="7c326-165">萬一其中`double`-根據的維度會轉換成`int`-基礎維度<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目使用標準的捨入，以便小於 0.5 小數的值會無條件捨去至 0。</span><span class="sxs-lookup"><span data-stu-id="7c326-165">In cases where `double`-based dimensions are converted to `int`-based dimensions, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses standard rounding, so that fractional values less than 0.5 are rounded down to 0.</span></span>|  
|<span data-ttu-id="7c326-166">溢位</span><span class="sxs-lookup"><span data-stu-id="7c326-166">Overflow</span></span>|<span data-ttu-id="7c326-167">當<xref:System.Windows.Forms.Integration.WindowsFormsHost>元素將從轉換`double`值`int`值，可能會溢位。</span><span class="sxs-lookup"><span data-stu-id="7c326-167">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element converts from `double` values to `int` values, overflow is possible.</span></span> <span data-ttu-id="7c326-168">值大於<xref:System.Int32.MaxValue>設為<xref:System.Int32.MaxValue>。</span><span class="sxs-lookup"><span data-stu-id="7c326-168">Values that are larger than <xref:System.Int32.MaxValue> are set to <xref:System.Int32.MaxValue>.</span></span>|  
  
### <a name="layout-related-properties"></a><span data-ttu-id="7c326-169">與配置有關的屬性</span><span class="sxs-lookup"><span data-stu-id="7c326-169">Layout-related Properties</span></span>  
 <span data-ttu-id="7c326-170">屬性可控制中的配置行為[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項和[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]項目適當地對應<xref:System.Windows.Forms.Integration.WindowsFormsHost>項目。</span><span class="sxs-lookup"><span data-stu-id="7c326-170">Properties that control layout behavior in [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements are mapped appropriately by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element.</span></span> <span data-ttu-id="7c326-171">如需詳細資訊，請參閱 [Windows Form 和 WPF 屬性對應](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md)。</span><span class="sxs-lookup"><span data-stu-id="7c326-171">For more information, see [Windows Forms and WPF Property Mapping](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md).</span></span>  
  
### <a name="layout-changes-in-the-hosted-control"></a><span data-ttu-id="7c326-172">裝載控制項的配置變更</span><span class="sxs-lookup"><span data-stu-id="7c326-172">Layout Changes in the Hosted Control</span></span>  
 <span data-ttu-id="7c326-173">中主控的版面配置變更[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制會傳播至[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]觸發配置更新。</span><span class="sxs-lookup"><span data-stu-id="7c326-173">Layout changes in the hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control are propagated to [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to trigger layout updates.</span></span> <span data-ttu-id="7c326-174"><xref:System.Windows.UIElement.InvalidateMeasure%2A>方法<xref:System.Windows.Forms.Integration.WindowsFormsHost>可確保裝載控制項的配置變更，導致[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]版面配置引擎來執行。</span><span class="sxs-lookup"><span data-stu-id="7c326-174">The <xref:System.Windows.UIElement.InvalidateMeasure%2A> method on <xref:System.Windows.Forms.Integration.WindowsFormsHost> ensures that layout changes in the hosted control cause the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout engine to run.</span></span>  
  
### <a name="continuously-sized-windows-forms-controls"></a><span data-ttu-id="7c326-175">持續的大小調整 Windows Form 控制項</span><span class="sxs-lookup"><span data-stu-id="7c326-175">Continuously Sized Windows Forms Controls</span></span>  
 [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="7c326-176">控制項支援連續調整完整互動[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]版面配置系統。</span><span class="sxs-lookup"><span data-stu-id="7c326-176"> controls that support continuous scaling fully interact with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span> <span data-ttu-id="7c326-177"><xref:System.Windows.Forms.Integration.WindowsFormsHost>項目使用<xref:System.Windows.FrameworkElement.MeasureOverride%2A>和<xref:System.Windows.FrameworkElement.ArrangeOverride%2A>方法，如往常般以調整大小和排列託管[!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-177">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods as usual to size and arrange the hosted [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control.</span></span>  
  
### <a name="sizing-algorithm"></a><span data-ttu-id="7c326-178">調整大小演算法</span><span class="sxs-lookup"><span data-stu-id="7c326-178">Sizing Algorithm</span></span>  
 <span data-ttu-id="7c326-179"><xref:System.Windows.Forms.Integration.WindowsFormsHost>項目使用下列程序來裝載的控制項的大小：</span><span class="sxs-lookup"><span data-stu-id="7c326-179">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element uses the following procedure to size the hosted control:</span></span>  
  
1.  <span data-ttu-id="7c326-180"><xref:System.Windows.Forms.Integration.WindowsFormsHost>元素會覆寫<xref:System.Windows.FrameworkElement.MeasureOverride%2A>和<xref:System.Windows.FrameworkElement.ArrangeOverride%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7c326-180">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element overrides the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> and <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods.</span></span>  
  
2.  <span data-ttu-id="7c326-181">若要判斷與裝載的控制項的大小<xref:System.Windows.FrameworkElement.MeasureOverride%2A>方法會呼叫裝載的控制項的<xref:System.Windows.Forms.Control.GetPreferredSize%2A>從條件約束傳遞至轉譯方法具有條件約束<xref:System.Windows.FrameworkElement.MeasureOverride%2A>方法。</span><span class="sxs-lookup"><span data-stu-id="7c326-181">To determine the size of the hosted control, the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method calls the hosted control's <xref:System.Windows.Forms.Control.GetPreferredSize%2A> method with a constraint translated from the constraint passed to the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> method.</span></span>  
  
3.  <span data-ttu-id="7c326-182"><xref:System.Windows.FrameworkElement.ArrangeOverride%2A>方法嘗試將指定的大小條件約束設定裝載的控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-182">The <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> method attempts to set the hosted control to the given size constraint.</span></span>  
  
4.  <span data-ttu-id="7c326-183">如果裝載的控制項<xref:System.Windows.Forms.Control.Size%2A>屬性符合指定的條件約束，裝載的控制項的大小調整成條件約束。</span><span class="sxs-lookup"><span data-stu-id="7c326-183">If the hosted control's <xref:System.Windows.Forms.Control.Size%2A> property matches the specified constraint, the hosted control is sized to the constraint.</span></span>  
  
 <span data-ttu-id="7c326-184">如果<xref:System.Windows.Forms.Control.Size%2A>屬性不符合指定的條件約束，裝載的控制項不支援連續的調整大小。</span><span class="sxs-lookup"><span data-stu-id="7c326-184">If the <xref:System.Windows.Forms.Control.Size%2A> property does not match the specified constraint, the hosted control does not support continuous sizing.</span></span> <span data-ttu-id="7c326-185">例如，<xref:System.Windows.Forms.MonthCalendar>控制項可讓不連續的大小。</span><span class="sxs-lookup"><span data-stu-id="7c326-185">For example, the <xref:System.Windows.Forms.MonthCalendar> control allows only discrete sizes.</span></span> <span data-ttu-id="7c326-186">對這個控制項允許的大小會組成高度和寬度的整數 （表示的月份數）。</span><span class="sxs-lookup"><span data-stu-id="7c326-186">The permitted sizes for this control consist of integers (representing the number of months) for both height and width.</span></span> <span data-ttu-id="7c326-187">在此情況下<xref:System.Windows.Forms.Integration.WindowsFormsHost>元素的行為，如下所示：</span><span class="sxs-lookup"><span data-stu-id="7c326-187">In cases such as this, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element behaves as follows:</span></span>  
  
-   <span data-ttu-id="7c326-188">如果<xref:System.Windows.Forms.Control.Size%2A>屬性會傳回與指定的條件約束，較大的大小<xref:System.Windows.Forms.Integration.WindowsFormsHost>元素裁剪裝載的控制項。</span><span class="sxs-lookup"><span data-stu-id="7c326-188">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a larger size than the specified constraint, the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element clips the hosted control.</span></span> <span data-ttu-id="7c326-189">高度和寬度會個別處理，讓裝載的控制項可能會裁剪任一方向。</span><span class="sxs-lookup"><span data-stu-id="7c326-189">Height and width are handled separately, so the hosted control may be clipped in either direction.</span></span>  
  
-   <span data-ttu-id="7c326-190">如果<xref:System.Windows.Forms.Control.Size%2A>屬性會傳回與指定的條件約束，較小的大小<xref:System.Windows.Forms.Integration.WindowsFormsHost>接受這個大小值，並傳回值，以[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]版面配置系統。</span><span class="sxs-lookup"><span data-stu-id="7c326-190">If the <xref:System.Windows.Forms.Control.Size%2A> property returns a smaller size than the specified constraint, <xref:System.Windows.Forms.Integration.WindowsFormsHost> accepts this size value and returns the value to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layout system.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7c326-191">請參閱</span><span class="sxs-lookup"><span data-stu-id="7c326-191">See Also</span></span>  
 <xref:System.Windows.Forms.Integration.ElementHost>  
 <xref:System.Windows.Forms.Integration.WindowsFormsHost>  
 [<span data-ttu-id="7c326-192">逐步解說：在 WPF 中排列 Windows Forms 控制項</span><span class="sxs-lookup"><span data-stu-id="7c326-192">Walkthrough: Arranging Windows Forms Controls in WPF</span></span>](../../../../docs/framework/wpf/advanced/walkthrough-arranging-windows-forms-controls-in-wpf.md)  
 [<span data-ttu-id="7c326-193">排列 Windows Form 控制項中的 WPF 範例</span><span class="sxs-lookup"><span data-stu-id="7c326-193">Arranging Windows Forms Controls in WPF Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159971)  
 [<span data-ttu-id="7c326-194">Windows Forms 和 WPF 屬性對應</span><span class="sxs-lookup"><span data-stu-id="7c326-194">Windows Forms and WPF Property Mapping</span></span>](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md)  
 [<span data-ttu-id="7c326-195">移轉和互通性</span><span class="sxs-lookup"><span data-stu-id="7c326-195">Migration and Interoperability</span></span>](../../../../docs/framework/wpf/advanced/migration-and-interoperability.md)
