---
title: 架構屬性中繼資料
ms.date: 03/30/2017
helpviewer_keywords:
- metadata [WPF], framework properties
- framework property metadata [WPF]
ms.assetid: 9962f380-b885-4b61-a62e-457397083fea
ms.openlocfilehash: 73ac80786b95c214cbba5924301b21f9c6e32837
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/23/2019
ms.locfileid: "54649813"
---
# <a name="framework-property-metadata"></a><span data-ttu-id="bdb85-102">架構屬性中繼資料</span><span class="sxs-lookup"><span data-stu-id="bdb85-102">Framework Property Metadata</span></span>
<span data-ttu-id="bdb85-103">針對在 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 架構中視為 WPF 架構層級的物件項目屬性，報告架構屬性中繼資料選項。</span><span class="sxs-lookup"><span data-stu-id="bdb85-103">Framework property metadata options are reported for the properties of object elements considered to be at the WPF framework level in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] architecture.</span></span> <span data-ttu-id="bdb85-104">WPF 架構層級指定一般會需要由 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 簡報 [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] 和可執行檔處理的轉譯、資料繫結和屬性系統調整等功能。</span><span class="sxs-lookup"><span data-stu-id="bdb85-104">In general the WPF framework-level designation entails that features such as rendering, data binding, and property system refinements are handled by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] presentation [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] and executables.</span></span> <span data-ttu-id="bdb85-105">這些系統會查詢架構屬性中繼資料，以判斷特定項目屬性的特定功能特性。</span><span class="sxs-lookup"><span data-stu-id="bdb85-105">Framework property metadata is queried by these systems to determine feature-specific characteristics of particular element properties.</span></span>  
  
 
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="bdb85-106">必要條件</span><span class="sxs-lookup"><span data-stu-id="bdb85-106">Prerequisites</span></span>  
 <span data-ttu-id="bdb85-107">本主題假設您已從 [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 類別的現有相依性屬性消費者角度了解相依性屬性，並已閱讀[相依性屬性概觀](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-107">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span> <span data-ttu-id="bdb85-108">您也應該已閱讀[相依性屬性中繼資料](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-108">You should also have read [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span></span>  
  
<a name="What_Is_Communicated_by_Framework_Property"></a>   
## <a name="what-is-communicated-by-framework-property-metadata"></a><span data-ttu-id="bdb85-109">架構屬性中繼資料通訊的內容</span><span class="sxs-lookup"><span data-stu-id="bdb85-109">What Is Communicated by Framework Property Metadata</span></span>  
 <span data-ttu-id="bdb85-110">架構屬性中繼資料可分成下列分類︰</span><span class="sxs-lookup"><span data-stu-id="bdb85-110">Framework property metadata can be divided into the following categories:</span></span>  
  
-   <span data-ttu-id="bdb85-111">報告影響項目配置屬性 (<xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A>， <xref:System.Windows.FrameworkPropertyMetadata.AffectsMeasure%2A>， <xref:System.Windows.FrameworkPropertyMetadata.AffectsRender%2A>)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-111">Reporting layout properties that affect an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsMeasure%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsRender%2A>).</span></span> <span data-ttu-id="bdb85-112">如果屬性會影響這些個別層面，而且您一併實作，您可能會在中繼資料中設定這些旗標<xref:System.Windows.FrameworkElement.MeasureOverride%2A>  /  <xref:System.Windows.FrameworkElement.ArrangeOverride%2A>中您的類別提供特定的轉譯行為和配置資訊的方法系統。</span><span class="sxs-lookup"><span data-stu-id="bdb85-112">You might set these flags in metadata if the property affects those respective aspects, and you are also implementing the <xref:System.Windows.FrameworkElement.MeasureOverride%2A> / <xref:System.Windows.FrameworkElement.ArrangeOverride%2A> methods in your class to supply specific rendering behavior and information to the layout system.</span></span> <span data-ttu-id="bdb85-113">一般而言，這類實作會檢查相依性屬性是否屬性失效，這些相依性屬性在屬性中繼資料中的任何配置屬性都是 true，而且只有這些失效需要要求新的配置傳遞。</span><span class="sxs-lookup"><span data-stu-id="bdb85-113">Typically, such an implementation would check for property invalidations in dependency properties where any of these layout properties were true in the property metadata, and only those invalidations would necessitate requesting a new layout pass.</span></span>  
  
-   <span data-ttu-id="bdb85-114">報告影響項目之父元素的版面配置屬性 (<xref:System.Windows.FrameworkPropertyMetadata.AffectsParentArrange%2A>， <xref:System.Windows.FrameworkPropertyMetadata.AffectsParentMeasure%2A>)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-114">Reporting layout properties that affect the parent element of an element (<xref:System.Windows.FrameworkPropertyMetadata.AffectsParentArrange%2A>, <xref:System.Windows.FrameworkPropertyMetadata.AffectsParentMeasure%2A>).</span></span> <span data-ttu-id="bdb85-115">根據預設，設定這些旗標的一些範例包括<xref:System.Windows.Documents.FixedPage.Left%2A?displayProperty=nameWithType>和<xref:System.Windows.Documents.Paragraph.KeepWithNext%2A?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="bdb85-115">Some examples where these flags are set by default are <xref:System.Windows.Documents.FixedPage.Left%2A?displayProperty=nameWithType> and <xref:System.Windows.Documents.Paragraph.KeepWithNext%2A?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="bdb85-116"><xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A>.</span><span class="sxs-lookup"><span data-stu-id="bdb85-116"><xref:System.Windows.FrameworkPropertyMetadata.Inherits%2A>.</span></span> <span data-ttu-id="bdb85-117">相依性屬性預設不繼承值。</span><span class="sxs-lookup"><span data-stu-id="bdb85-117">By default, dependency properties do not inherit values.</span></span> <span data-ttu-id="bdb85-118"><xref:System.Windows.FrameworkPropertyMetadata.OverridesInheritanceBehavior%2A> 可讓在視覺化樹狀結構，也就是所需的某些控制項複合案例也移動的繼承路徑。</span><span class="sxs-lookup"><span data-stu-id="bdb85-118"><xref:System.Windows.FrameworkPropertyMetadata.OverridesInheritanceBehavior%2A> allows the pathway of inheritance to also travel into a visual tree, which is necessary for some control compositing scenarios.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="bdb85-119">屬性值內容中的「繼承」一詞表示相依性屬性的特定項目，它表示因為 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 屬性系統的 WPF 架構層級功能，子項目可以繼承父項目的實際相依性屬性值。</span><span class="sxs-lookup"><span data-stu-id="bdb85-119">The term "inherits" in the context of property values means something specific for dependency properties; it means that child elements can inherit the actual dependency property value from parent elements because of a WPF framework-level capability of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system.</span></span> <span data-ttu-id="bdb85-120">它和 Managed 程式碼類型及透過衍生類型的成員繼承沒有直接關係。</span><span class="sxs-lookup"><span data-stu-id="bdb85-120">It has nothing to do directly with managed code type and members inheritance through derived types.</span></span> <span data-ttu-id="bdb85-121">如需詳細資訊，請參閱[屬性值繼承](../../../../docs/framework/wpf/advanced/property-value-inheritance.md)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-121">For details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span></span>  
  
-   <span data-ttu-id="bdb85-122">報告資料繫結特性 (<xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A>， <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A>)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-122">Reporting data binding characteristics (<xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A>, <xref:System.Windows.FrameworkPropertyMetadata.BindsTwoWayByDefault%2A>).</span></span> <span data-ttu-id="bdb85-123">根據預設，架構中的相依性屬性以單向繫結行為支援資料繫結。</span><span class="sxs-lookup"><span data-stu-id="bdb85-123">By default, dependency properties in the framework support data binding, with a one-way binding behavior.</span></span> <span data-ttu-id="bdb85-124">如果沒有任何案例，您可能會停用資料繫結 (因為它們具有彈性且可延伸，所以預設的 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] 中沒有太多這類屬性的範例)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-124">You might disable data binding if there were no scenario for it whatsoever (because they are intended to be flexible and extensible, there aren't many examples of such properties in the default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]).</span></span> <span data-ttu-id="bdb85-125">您可能會設定繫結到雙向繫結在一起的元件組件間的控制項行為的屬性預設值 (<xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A>範例)，或雙向繫結的一般且預期使用者實例 (<xref:System.Windows.Controls.TextBox.Text%2A>範例)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-125">You might set binding to have a two-way default for properties that tie together a control's behaviors amongst its component pieces (<xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> is an example) or where two-way binding is the common and expected scenario for users (<xref:System.Windows.Controls.TextBox.Text%2A> is an example).</span></span> <span data-ttu-id="bdb85-126">對預設值一律可以變更的每個繫結而言，變更與資料繫結相關的中繼資料只會影響預設值。</span><span class="sxs-lookup"><span data-stu-id="bdb85-126">Changing the data binding–related metadata only influences the default; on a per-binding basis that default can always be changed.</span></span> <span data-ttu-id="bdb85-127">如需繫結模式和一般繫結的詳細資訊，請參閱[資料繫結概觀](../../../../docs/framework/wpf/data/data-binding-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-127">For details on the binding modes and binding in general, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span>  
  
-   <span data-ttu-id="bdb85-128">報告屬性是否應該由應用程式或支援日誌功能的服務 (<xref:System.Windows.FrameworkPropertyMetadata.Journal%2A>)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-128">Reporting whether properties should be journaled by applications or services that support journaling (<xref:System.Windows.FrameworkPropertyMetadata.Journal%2A>).</span></span> <span data-ttu-id="bdb85-129">一般項目預設不啟用日誌功能，但某些使用者輸入控制項會選擇性地啟用。</span><span class="sxs-lookup"><span data-stu-id="bdb85-129">For general elements, journaling is not enabled by default, but it is selectively enabled for certain user input controls.</span></span> <span data-ttu-id="bdb85-130">此屬性原由日誌服務讀取，包括 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 實作日誌功能，通常設定在使用者控制項，例如在所有瀏覽步驟都應保存之清單的使用者選取範圍。</span><span class="sxs-lookup"><span data-stu-id="bdb85-130">This property is intended to be read by journaling services including the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of journaling, and is typically set on user controls such as user selections within lists that should be persisted across navigation steps.</span></span> <span data-ttu-id="bdb85-131">如需日誌的相關資訊，請參閱[巡覽概觀](../../../../docs/framework/wpf/app-development/navigation-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="bdb85-131">For information about the journal, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>  
  
<a name="Reading_FrameworkPropertyMetadata"></a>   
## <a name="reading-frameworkpropertymetadata"></a><span data-ttu-id="bdb85-132">讀取 FrameworkPropertyMetadata</span><span class="sxs-lookup"><span data-stu-id="bdb85-132">Reading FrameworkPropertyMetadata</span></span>  
 <span data-ttu-id="bdb85-133">每個上述連結的屬性是特定的屬性，<xref:System.Windows.FrameworkPropertyMetadata>將其直接基底類別<xref:System.Windows.UIPropertyMetadata>。</span><span class="sxs-lookup"><span data-stu-id="bdb85-133">Each of the properties linked above are the specific properties that the <xref:System.Windows.FrameworkPropertyMetadata> adds to its immediate base class <xref:System.Windows.UIPropertyMetadata>.</span></span> <span data-ttu-id="bdb85-134">這些屬性每一個預設都是 `false`。</span><span class="sxs-lookup"><span data-stu-id="bdb85-134">Each of these properties will be `false` by default.</span></span> <span data-ttu-id="bdb85-135">屬性，其中了解這些屬性的值是重要的中繼資料要求應該嘗試轉型傳回的中繼資料，以<xref:System.Windows.FrameworkPropertyMetadata>，視需要然後檢查個別屬性的值。</span><span class="sxs-lookup"><span data-stu-id="bdb85-135">A metadata request for a property where knowing the value of these properties is important should attempt to cast the returned metadata to <xref:System.Windows.FrameworkPropertyMetadata>, and then check the values of the individual properties as needed.</span></span>  
  
<a name="Specifying_Metadata"></a>   
## <a name="specifying-metadata"></a><span data-ttu-id="bdb85-136">指定中繼資料</span><span class="sxs-lookup"><span data-stu-id="bdb85-136">Specifying Metadata</span></span>  
 <span data-ttu-id="bdb85-137">當您建立的新中繼資料執行個體進行將中繼資料套用至新的相依性屬性登錄時，您可以使用哪些中繼資料類別的選擇： 基底<xref:System.Windows.PropertyMetadata>或一些衍生類別，例如<xref:System.Windows.FrameworkPropertyMetadata>。</span><span class="sxs-lookup"><span data-stu-id="bdb85-137">When you create a new metadata instance for purposes of applying metadata to a new dependency property registration, you have the choice of which metadata class to use: the base <xref:System.Windows.PropertyMetadata> or some derived class such as <xref:System.Windows.FrameworkPropertyMetadata>.</span></span> <span data-ttu-id="bdb85-138">一般情況下，您應該使用<xref:System.Windows.FrameworkPropertyMetadata>，特別是如果您的屬性具有屬性系統的任何互動和[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]函式，例如版面配置和資料繫結。</span><span class="sxs-lookup"><span data-stu-id="bdb85-138">In general, you should use <xref:System.Windows.FrameworkPropertyMetadata>, particularly if your property has any interaction with property system and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] functions such as layout and data binding.</span></span> <span data-ttu-id="bdb85-139">更複雜情況的另一個選項是衍生自<xref:System.Windows.FrameworkPropertyMetadata>來建立您自己的中繼資料報告的額外資訊的類別中傳遞其成員。</span><span class="sxs-lookup"><span data-stu-id="bdb85-139">Another option for more sophisticated scenarios is to derive from <xref:System.Windows.FrameworkPropertyMetadata> to create your own metadata reporting class with extra information carried in its members.</span></span> <span data-ttu-id="bdb85-140">或者，您可能會使用<xref:System.Windows.PropertyMetadata>或<xref:System.Windows.UIPropertyMetadata>通訊實作的功能的支援程度。</span><span class="sxs-lookup"><span data-stu-id="bdb85-140">Or you might use <xref:System.Windows.PropertyMetadata> or <xref:System.Windows.UIPropertyMetadata> to communicate the degree of support for features of your implementation.</span></span>  
  
 <span data-ttu-id="bdb85-141">針對現有的屬性 (<xref:System.Windows.DependencyProperty.AddOwner%2A>或<xref:System.Windows.DependencyProperty.OverrideMetadata%2A>呼叫)，您應該一律會使用原始登錄所使用的中繼資料類型覆寫。</span><span class="sxs-lookup"><span data-stu-id="bdb85-141">For existing properties (<xref:System.Windows.DependencyProperty.AddOwner%2A> or <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> call), you should always override with the metadata type used by the original registration.</span></span>  
  
 <span data-ttu-id="bdb85-142">如果您要建立<xref:System.Windows.FrameworkPropertyMetadata>執行個體，有兩種方式可以填入該中繼資料的通訊架構屬性特性的特定屬性的值：</span><span class="sxs-lookup"><span data-stu-id="bdb85-142">If you are creating a <xref:System.Windows.FrameworkPropertyMetadata> instance, there are two ways to populate that metadata with values for the specific properties that communicate the framework property characteristics:</span></span>  
  
1.  <span data-ttu-id="bdb85-143">使用<xref:System.Windows.FrameworkPropertyMetadata>建構函式簽章，可讓`flags`參數。</span><span class="sxs-lookup"><span data-stu-id="bdb85-143">Use the <xref:System.Windows.FrameworkPropertyMetadata> constructor signature that allows a `flags` parameter.</span></span> <span data-ttu-id="bdb85-144">這個參數應該填入所有所需的組合值的<xref:System.Windows.FrameworkPropertyMetadataOptions>列舉旗標。</span><span class="sxs-lookup"><span data-stu-id="bdb85-144">This parameter should be filled with all desired combined values of the <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration flags.</span></span>  
  
2.  <span data-ttu-id="bdb85-145">使用其中一個不含簽章`flags`參數，然後將每個報告布林值屬性<xref:System.Windows.FrameworkPropertyMetadata>到`true`適用於每個所需的特性變更。</span><span class="sxs-lookup"><span data-stu-id="bdb85-145">Use one of the signatures without a `flags` parameter, and then set each reporting Boolean property on <xref:System.Windows.FrameworkPropertyMetadata> to `true` for each desired characteristic change.</span></span> <span data-ttu-id="bdb85-146">如果這麼做，您必須先設定這些屬性，才能建構具有此相依性屬性的任何項目；布林值屬性為讀寫，以允許此避免 `flags` 參數的行為，且仍可填入中繼資料，但在屬性使用前必須有效密封中繼資料。</span><span class="sxs-lookup"><span data-stu-id="bdb85-146">If you do this, you must set these properties before any elements with this dependency property are constructed; the Boolean properties are read-write in order to allow this behavior of avoiding the `flags` parameter and still populate the metadata, but the metadata must become effectively sealed before property use.</span></span> <span data-ttu-id="bdb85-147">因此，嘗試在要求中繼資料之後設定屬性，是無效的作業。</span><span class="sxs-lookup"><span data-stu-id="bdb85-147">Thus, attempting to set the properties after metadata is requested will be an invalid operation.</span></span>  
  
<a name="Framework_Property_Metadata_Merge_Behavior"></a>   
## <a name="framework-property-metadata-merge-behavior"></a><span data-ttu-id="bdb85-148">架構屬性中繼資料合併行為</span><span class="sxs-lookup"><span data-stu-id="bdb85-148">Framework Property Metadata Merge Behavior</span></span>  
 <span data-ttu-id="bdb85-149">當您覆寫架構屬性中繼資料時，不同的中繼資料特性會被合併或取代。</span><span class="sxs-lookup"><span data-stu-id="bdb85-149">When you override framework property metadata, the different metadata characteristics are either merged or replaced.</span></span>  
  
-   <span data-ttu-id="bdb85-150"><xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> 會合併。</span><span class="sxs-lookup"><span data-stu-id="bdb85-150"><xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is merged.</span></span> <span data-ttu-id="bdb85-151">如果您加入新<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>，該回撥會儲存在中繼資料。</span><span class="sxs-lookup"><span data-stu-id="bdb85-151">If you add a new <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>, that callback is stored in the metadata.</span></span> <span data-ttu-id="bdb85-152">如果您未指定<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>中的值覆寫<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>會升階為來自指定中繼資料中最接近上階的參考。</span><span class="sxs-lookup"><span data-stu-id="bdb85-152">If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata.</span></span>  
  
-   <span data-ttu-id="bdb85-153">實際屬性系統行為<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>是實作的階層中的所有中繼資料擁有者都會保留並新增至資料表，且屬性系統為，最常衍生的類別的回撥的執行順序第一次叫用。</span><span class="sxs-lookup"><span data-stu-id="bdb85-153">The actual property system behavior for <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> is that implementations for all metadata owners in the hierarchy are retained and added to a table, with order of execution by the property system being that the callbacks of the most deeply derived class are invoked first.</span></span> <span data-ttu-id="bdb85-154">繼承的回撥只執行一次，視為將它們放在中繼資料的類別所擁有。</span><span class="sxs-lookup"><span data-stu-id="bdb85-154">Inherited callbacks run only once, counting as being owned by the class that placed them in metadata.</span></span>  
  
-   <span data-ttu-id="bdb85-155"><xref:System.Windows.PropertyMetadata.DefaultValue%2A> 會被取代。</span><span class="sxs-lookup"><span data-stu-id="bdb85-155"><xref:System.Windows.PropertyMetadata.DefaultValue%2A> is replaced.</span></span> <span data-ttu-id="bdb85-156">如果您未指定<xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A>中的值覆寫<xref:System.Windows.PropertyMetadata.DefaultValue%2A>來自指定中繼資料中最接近上階。</span><span class="sxs-lookup"><span data-stu-id="bdb85-156">If you do not specify a <xref:System.Windows.PropertyMetadata.PropertyChangedCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.DefaultValue%2A> comes from the nearest ancestor that specified it in metadata.</span></span>  
  
-   <span data-ttu-id="bdb85-157"><xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> 實作會被取代。</span><span class="sxs-lookup"><span data-stu-id="bdb85-157"><xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations are replaced.</span></span> <span data-ttu-id="bdb85-158">如果您加入新<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>，該回撥會儲存在中繼資料。</span><span class="sxs-lookup"><span data-stu-id="bdb85-158">If you add a new <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>, that callback is stored in the metadata.</span></span> <span data-ttu-id="bdb85-159">如果您未指定<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>中的值覆寫<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>會升階為來自指定中繼資料中最接近上階的參考。</span><span class="sxs-lookup"><span data-stu-id="bdb85-159">If you do not specify a <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the override, the value of <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> is promoted as a reference from the nearest ancestor that specified it in metadata.</span></span>  
  
-   <span data-ttu-id="bdb85-160">屬性系統行為是只<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>立即的中繼資料中會叫用。</span><span class="sxs-lookup"><span data-stu-id="bdb85-160">The property system behavior is that only the <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> in the immediate metadata is invoked.</span></span> <span data-ttu-id="bdb85-161">其他任何參考<xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A>會保留在階層中的實作。</span><span class="sxs-lookup"><span data-stu-id="bdb85-161">No references to other <xref:System.Windows.PropertyMetadata.CoerceValueCallback%2A> implementations in the hierarchy are retained.</span></span>  
  
-   <span data-ttu-id="bdb85-162">旗標<xref:System.Windows.FrameworkPropertyMetadataOptions>列舉型別會結合為位元的 OR 運算。</span><span class="sxs-lookup"><span data-stu-id="bdb85-162">The flags of <xref:System.Windows.FrameworkPropertyMetadataOptions> enumeration are combined as a bitwise OR operation.</span></span>  <span data-ttu-id="bdb85-163">如果您指定<xref:System.Windows.FrameworkPropertyMetadataOptions>，不會覆寫原始的選項。</span><span class="sxs-lookup"><span data-stu-id="bdb85-163">If you specify <xref:System.Windows.FrameworkPropertyMetadataOptions>, the original options are not overwritten.</span></span>  <span data-ttu-id="bdb85-164">若要變更選項，將對應的屬性上<xref:System.Windows.FrameworkPropertyMetadata>。</span><span class="sxs-lookup"><span data-stu-id="bdb85-164">To change an option, set the corresponding property on <xref:System.Windows.FrameworkPropertyMetadata>.</span></span> <span data-ttu-id="bdb85-165">例如，如果原始<xref:System.Windows.FrameworkPropertyMetadata>物件集<xref:System.Windows.FrameworkPropertyMetadataOptions.NotDataBindable?displayProperty=nameWithType>旗標，您可以藉由設定變更<xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A?displayProperty=nameWithType>至`false`。</span><span class="sxs-lookup"><span data-stu-id="bdb85-165">For example, if the original <xref:System.Windows.FrameworkPropertyMetadata> object sets the <xref:System.Windows.FrameworkPropertyMetadataOptions.NotDataBindable?displayProperty=nameWithType> flag, you can change that by setting <xref:System.Windows.FrameworkPropertyMetadata.IsNotDataBindable%2A?displayProperty=nameWithType> to `false`.</span></span>  
  
 <span data-ttu-id="bdb85-166">此行為由實作<xref:System.Windows.FrameworkPropertyMetadata.Merge%2A>，可在衍生的中繼資料類別上覆寫。</span><span class="sxs-lookup"><span data-stu-id="bdb85-166">This behavior is implemented by <xref:System.Windows.FrameworkPropertyMetadata.Merge%2A>, and can be overridden on derived metadata classes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bdb85-167">另請參閱</span><span class="sxs-lookup"><span data-stu-id="bdb85-167">See also</span></span>
- <xref:System.Windows.DependencyProperty.GetMetadata%2A>
- [<span data-ttu-id="bdb85-168">相依性屬性中繼資料</span><span class="sxs-lookup"><span data-stu-id="bdb85-168">Dependency Property Metadata</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)
- [<span data-ttu-id="bdb85-169">相依性屬性概觀</span><span class="sxs-lookup"><span data-stu-id="bdb85-169">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)
- [<span data-ttu-id="bdb85-170">自訂相依性屬性</span><span class="sxs-lookup"><span data-stu-id="bdb85-170">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
