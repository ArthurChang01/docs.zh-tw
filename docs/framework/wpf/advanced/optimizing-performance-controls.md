---
title: 最佳化效能：控制項-WPF
ms.date: 03/30/2017
helpviewer_keywords:
- controls [WPF], improving performance
- container recycling [WPF]
- user interface virtualization [WPF]
ms.assetid: 45a31c43-ea8a-4546-96c8-0631b9934179
ms.openlocfilehash: 20b2b20c2f7f37b4ae01159e70bc8c0945777152
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "61961391"
---
# <a name="optimizing-performance-controls"></a><span data-ttu-id="7cdc7-102">最佳化效能：控制項</span><span class="sxs-lookup"><span data-stu-id="7cdc7-102">Optimizing performance: Controls</span></span>

<span data-ttu-id="7cdc7-103">Windows Presentation Foundation (WPF) 包含許多常見的使用者介面 (UI) 元件，可在大部分的 Windows 應用程式。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-103">Windows Presentation Foundation (WPF) includes many of the common user-interface (UI) components that are used in most Windows applications.</span></span> <span data-ttu-id="7cdc7-104">本主題包含提升 UI 效能的技巧。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-104">This topic contains techniques for improving the performance of your UI.</span></span>

## <a name="displaying-large-data-sets"></a><span data-ttu-id="7cdc7-105">顯示大型資料集</span><span class="sxs-lookup"><span data-stu-id="7cdc7-105">Displaying large data sets</span></span>

<span data-ttu-id="7cdc7-106">WPF 控制項，例如<xref:System.Windows.Controls.ListView>和<xref:System.Windows.Controls.ComboBox>用來在應用程式中顯示的項目清單。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-106">WPF controls such as the <xref:System.Windows.Controls.ListView> and <xref:System.Windows.Controls.ComboBox> are used to display lists of items in an application.</span></span> <span data-ttu-id="7cdc7-107">如果要顯示的清單是大型清單，可能會影響應用程式的效能。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-107">If the list to display is large, the application's performance can be affected.</span></span> <span data-ttu-id="7cdc7-108">這是因為標準版面配置系統會建立與清單控制項相關聯之每個項目的版面配置容器，並計算其版面配置的大小和位置。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-108">This is because the standard layout system creates a layout container for each item associated with the list control, and computes its layout size and position.</span></span> <span data-ttu-id="7cdc7-109">一般而言，您不需要同時顯示所有項目；而可以改為顯示子集，讓使用者自行捲動清單。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-109">Typically, you do not have to display all the items at the same time; instead you display a subset, and the user scrolls through the list.</span></span> <span data-ttu-id="7cdc7-110">在此情況下，使用虛擬化 UI 就是合理的作法，這表示，系統會延後產生項目的項目容器和相關聯的版面配置計算，直到顯示項目為止。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-110">In this case, it makes sense to use UI *virtualization*, which means the item container generation and associated layout computation for an item is deferred until the item is visible.</span></span>

<span data-ttu-id="7cdc7-111">UI 虛擬化是清單控制項的重要層面。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-111">UI Virtualization is an important aspect of list controls.</span></span> <span data-ttu-id="7cdc7-112">請不要將 UI 虛擬化和資料虛擬化混淆。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-112">UI virtualization should not be confused with data virtualization.</span></span> <span data-ttu-id="7cdc7-113">UI 虛擬化只會在記憶體中存放可見的項目；若為資料繫結案例，則會在記憶體中存放整個資料結構。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-113">UI virtualization stores only visible items in memory but in a data-binding scenario stores the entire data structure in memory.</span></span> <span data-ttu-id="7cdc7-114">相反地，資料虛擬化只會在記憶體中存放螢幕上顯示的資料項目。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-114">In contrast, data virtualization stores only the data items that are visible on the screen in memory.</span></span>

<span data-ttu-id="7cdc7-115">根據預設，為啟用 UI 虛擬化<xref:System.Windows.Controls.ListView>和<xref:System.Windows.Controls.ListBox>控制其清單項目資料繫結。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-115">By default, UI virtualization is enabled for the <xref:System.Windows.Controls.ListView> and <xref:System.Windows.Controls.ListBox> controls when their list items are bound to data.</span></span> <span data-ttu-id="7cdc7-116"><xref:System.Windows.Controls.TreeView> 可以藉由設定啟用虛擬化<xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A?displayProperty=nameWithType>附加屬性`true`。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-116"><xref:System.Windows.Controls.TreeView> virtualization can be enabled by setting the <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A?displayProperty=nameWithType> attached property to `true`.</span></span> <span data-ttu-id="7cdc7-117">如果您想要啟用 UI 虛擬化的自訂控制項衍生自<xref:System.Windows.Controls.ItemsControl>或現有的項目控制項使用<xref:System.Windows.Controls.StackPanel>類別，例如<xref:System.Windows.Controls.ComboBox>，您可以設定<xref:System.Windows.Controls.ItemsControl.ItemsPanel%2A>來<xref:System.Windows.Controls.VirtualizingStackPanel>並設定<xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizing%2A>至`true`.</span><span class="sxs-lookup"><span data-stu-id="7cdc7-117">If you want to enable UI virtualization for custom controls that derive from <xref:System.Windows.Controls.ItemsControl> or existing item controls that use the <xref:System.Windows.Controls.StackPanel> class, such as <xref:System.Windows.Controls.ComboBox>, you can set the <xref:System.Windows.Controls.ItemsControl.ItemsPanel%2A> to <xref:System.Windows.Controls.VirtualizingStackPanel> and set <xref:System.Windows.Controls.VirtualizingPanel.IsVirtualizing%2A> to `true`.</span></span> <span data-ttu-id="7cdc7-118">不過，您可能會停用這些控制項的 UI 虛擬化而不自知。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-118">Unfortunately, you can disable UI virtualization for these controls without realizing it.</span></span> <span data-ttu-id="7cdc7-119">以下是停用 UI 虛擬化的條件清單。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-119">The following is a list of conditions that disable UI virtualization.</span></span>

- <span data-ttu-id="7cdc7-120">項目容器直接新增到<xref:System.Windows.Controls.ItemsControl>。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-120">Item containers are added directly to the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="7cdc7-121">比方說，如果應用程式明確地新增<xref:System.Windows.Controls.ListBoxItem>物件至<xref:System.Windows.Controls.ListBox>，則<xref:System.Windows.Controls.ListBox>不會虛擬化<xref:System.Windows.Controls.ListBoxItem>物件。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-121">For example, if an application explicitly adds <xref:System.Windows.Controls.ListBoxItem> objects to a <xref:System.Windows.Controls.ListBox>, the <xref:System.Windows.Controls.ListBox> does not virtualize the <xref:System.Windows.Controls.ListBoxItem> objects.</span></span>

- <span data-ttu-id="7cdc7-122">項目中的容器<xref:System.Windows.Controls.ItemsControl>為不同的類型。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-122">Item containers in the <xref:System.Windows.Controls.ItemsControl> are of different types.</span></span> <span data-ttu-id="7cdc7-123">例如，<xref:System.Windows.Controls.Menu>使用<xref:System.Windows.Controls.Separator>物件不能實作項目回收，因為<xref:System.Windows.Controls.Menu>包含型別的物件<xref:System.Windows.Controls.Separator>和<xref:System.Windows.Controls.MenuItem>。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-123">For example, a <xref:System.Windows.Controls.Menu> that uses <xref:System.Windows.Controls.Separator> objects cannot implement item recycling because the <xref:System.Windows.Controls.Menu> contains objects of type <xref:System.Windows.Controls.Separator> and <xref:System.Windows.Controls.MenuItem>.</span></span>

- <span data-ttu-id="7cdc7-124">設定<xref:System.Windows.Controls.ScrollViewer.CanContentScroll%2A>至`false`。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-124">Setting <xref:System.Windows.Controls.ScrollViewer.CanContentScroll%2A> to `false`.</span></span>

- <span data-ttu-id="7cdc7-125">設定<xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A>至`false`。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-125">Setting <xref:System.Windows.Controls.VirtualizingStackPanel.IsVirtualizing%2A> to `false`.</span></span>

<span data-ttu-id="7cdc7-126">在虛擬化項目容器時，也應該考量是否具有與項目所屬之項目容器相關聯的其他狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-126">An important consideration when you virtualize item containers is whether you have additional state information associated with an item container that belongs with the item.</span></span> <span data-ttu-id="7cdc7-127">在這種情況下，您必須將其他狀態儲存起來。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-127">In this case, you must save the additional state.</span></span> <span data-ttu-id="7cdc7-128">例如，您可能必須在某一項目<xref:System.Windows.Controls.Expander>控制項和<xref:System.Windows.Controls.Expander.IsExpanded%2A>狀態會繫結項目的容器，而非項目本身。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-128">For example, you might have an item contained in an <xref:System.Windows.Controls.Expander> control and the <xref:System.Windows.Controls.Expander.IsExpanded%2A> state is bound to the item's container, and not to the item itself.</span></span> <span data-ttu-id="7cdc7-129">當容器會重複使用的新項目，目前的值<xref:System.Windows.Controls.Expander.IsExpanded%2A>用於新的項目。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-129">When the container is reused for a new item, the current value of <xref:System.Windows.Controls.Expander.IsExpanded%2A> is used for the new item.</span></span> <span data-ttu-id="7cdc7-130">此外，舊的項目會遺失正確<xref:System.Windows.Controls.Expander.IsExpanded%2A>值。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-130">In addition, the old item loses the correct <xref:System.Windows.Controls.Expander.IsExpanded%2A> value.</span></span>

<span data-ttu-id="7cdc7-131">目前，WPF 控制項皆未內建支援資料虛擬化。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-131">Currently, no WPF controls offer built-in support for data virtualization.</span></span>

## <a name="container-recycling"></a><span data-ttu-id="7cdc7-132">容器回收</span><span class="sxs-lookup"><span data-stu-id="7cdc7-132">Container recycling</span></span>

<span data-ttu-id="7cdc7-133">加入繼承的控制項的.NET Framework 3.5 SP1 中的 UI 虛擬化最佳<xref:System.Windows.Controls.ItemsControl>已*容器回收 」* 並可改善捲動效能。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-133">An optimization to UI virtualization added in the .NET Framework 3.5 SP1 for controls that inherit from <xref:System.Windows.Controls.ItemsControl> is *container recycling,* which can also improve scrolling performance.</span></span> <span data-ttu-id="7cdc7-134">當<xref:System.Windows.Controls.ItemsControl>，在填入使用 UI 虛擬化，它會建立每個項目捲動到檢視，並終結項目容器，每個項目捲動檢視範圍外的項目容器。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-134">When an <xref:System.Windows.Controls.ItemsControl> that uses UI virtualization is populated, it creates an item container for each item that scrolls into view and destroys the item container for each item that scrolls out of view.</span></span> <span data-ttu-id="7cdc7-135">*容器回收*可讓要重複使用現有的項目容器，針對不同的資料項目，因而不會持續建立和終結捲動項目容器的控制項<xref:System.Windows.Controls.ItemsControl>。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-135">*Container recycling* enables the control to reuse the existing item containers for different data items, so that item containers are not constantly created and destroyed as the user scrolls the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="7cdc7-136">您可以選擇啟用項目設定回收<xref:System.Windows.Controls.VirtualizingPanel.VirtualizationMode%2A>附加屬性<xref:System.Windows.Controls.VirtualizationMode.Recycling>。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-136">You can choose to enable item recycling by setting the <xref:System.Windows.Controls.VirtualizingPanel.VirtualizationMode%2A> attached property to <xref:System.Windows.Controls.VirtualizationMode.Recycling>.</span></span>

<span data-ttu-id="7cdc7-137">任何<xref:System.Windows.Controls.ItemsControl>虛擬化可以使用容器回收的支援。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-137">Any <xref:System.Windows.Controls.ItemsControl> that supports virtualization can use container recycling.</span></span> <span data-ttu-id="7cdc7-138">如需如何啟用容器回收功能上的範例<xref:System.Windows.Controls.ListBox>，請參閱 <<c2> [ 改善 ListBox 的捲動效能](../controls/how-to-improve-the-scrolling-performance-of-a-listbox.md)。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-138">For an example of how to enable container recycling on a <xref:System.Windows.Controls.ListBox>, see [Improve the Scrolling Performance of a ListBox](../controls/how-to-improve-the-scrolling-performance-of-a-listbox.md).</span></span>

## <a name="supporting-bidirectional-virtualization"></a><span data-ttu-id="7cdc7-139">支援雙向虛擬化</span><span class="sxs-lookup"><span data-stu-id="7cdc7-139">Supporting bidirectional virtualization</span></span>

<span data-ttu-id="7cdc7-140"><xref:System.Windows.Controls.VirtualizingStackPanel> 以水平或垂直方式，提供單向 UI 虛擬化的內建支援。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-140"><xref:System.Windows.Controls.VirtualizingStackPanel> offers built-in support for UI virtualization in one direction, either horizontally or vertically.</span></span> <span data-ttu-id="7cdc7-141">如果您想要用於您的控制項中的雙向虛擬化，您必須實作自訂的面板以擴充<xref:System.Windows.Controls.VirtualizingStackPanel>類別。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-141">If you want to use bidirectional virtualization for your controls, you must implement a custom panel that extends the <xref:System.Windows.Controls.VirtualizingStackPanel> class.</span></span> <span data-ttu-id="7cdc7-142"><xref:System.Windows.Controls.VirtualizingStackPanel>類別會公開虛擬方法這類<xref:System.Windows.Controls.VirtualizingStackPanel.OnViewportSizeChanged%2A>， <xref:System.Windows.Controls.VirtualizingStackPanel.LineUp%2A>， <xref:System.Windows.Controls.VirtualizingStackPanel.PageUp%2A>，和<xref:System.Windows.Controls.VirtualizingStackPanel.MouseWheelUp%2A>。這些虛擬方法可讓您在清單的可見部分中偵測到變更，並加以處理。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-142">The <xref:System.Windows.Controls.VirtualizingStackPanel> class exposes virtual methods such as <xref:System.Windows.Controls.VirtualizingStackPanel.OnViewportSizeChanged%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.LineUp%2A>, <xref:System.Windows.Controls.VirtualizingStackPanel.PageUp%2A>, and <xref:System.Windows.Controls.VirtualizingStackPanel.MouseWheelUp%2A>.These virtual methods enable you to detect a change in the visible part of a list and handle it accordingly.</span></span>

## <a name="optimizing-templates"></a><span data-ttu-id="7cdc7-143">最佳化範本</span><span class="sxs-lookup"><span data-stu-id="7cdc7-143">Optimizing templates</span></span>

<span data-ttu-id="7cdc7-144">視覺化樹狀結構包含應用程式中所使用的所有視覺項目。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-144">The visual tree contains all the visual elements in an application.</span></span> <span data-ttu-id="7cdc7-145">除了直接建立的物件，它也包含範本展開所帶來的物件。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-145">In addition to the objects directly created, it also contains objects due to template expansion.</span></span> <span data-ttu-id="7cdc7-146">例如，當您建立<xref:System.Windows.Controls.Button>，您還<xref:Microsoft.Windows.Themes.ClassicBorderDecorator>和<xref:System.Windows.Controls.ContentPresenter>視覺化樹狀結構中的物件。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-146">For example, when you create a <xref:System.Windows.Controls.Button>, you also get <xref:Microsoft.Windows.Themes.ClassicBorderDecorator> and <xref:System.Windows.Controls.ContentPresenter> objects in the visual tree.</span></span> <span data-ttu-id="7cdc7-147">如果您尚未最佳化控制項範本，視覺化樹狀結構中就可能會建立許多不必要的物件。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-147">If you haven't optimized your control templates, you may be creating a lot of extra unnecessary objects in the visual tree.</span></span> <span data-ttu-id="7cdc7-148">如需視覺化樹狀結構的詳細資訊，請參閱 [WPF 圖形呈現概觀](../graphics-multimedia/wpf-graphics-rendering-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-148">For more information on the visual tree, see [WPF Graphics Rendering Overview](../graphics-multimedia/wpf-graphics-rendering-overview.md).</span></span>

## <a name="deferred-scrolling"></a><span data-ttu-id="7cdc7-149">延後捲動</span><span class="sxs-lookup"><span data-stu-id="7cdc7-149">Deferred scrolling</span></span>

<span data-ttu-id="7cdc7-150">根據預設，當使用者拖曳捲軸上的捲動方塊時，內容檢視就會不斷更新。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-150">By default, when the user drags the thumb on a scrollbar, the content view continuously updates.</span></span> <span data-ttu-id="7cdc7-151">如果控制項中的捲動變慢，請考慮使用延後捲動。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-151">If scrolling is slow in your control, consider using deferred scrolling.</span></span> <span data-ttu-id="7cdc7-152">延後捲動時，只有當使用者放開捲動方塊之後，才會更新內容。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-152">In deferred scrolling, the content is updated only when the user releases the thumb.</span></span>

<span data-ttu-id="7cdc7-153">若要實作延後捲動功能，設定<xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A>屬性設`true`。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-153">To implement deferred scrolling, set the <xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> property to `true`.</span></span> <span data-ttu-id="7cdc7-154"><xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> 是附加的屬性，而且可以設定上<xref:System.Windows.Controls.ScrollViewer>和具有任何控制項<xref:System.Windows.Controls.ScrollViewer>控制項範本中。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-154"><xref:System.Windows.Controls.ScrollViewer.IsDeferredScrollingEnabled%2A> is an attached property and can be set on <xref:System.Windows.Controls.ScrollViewer> and any control that has a <xref:System.Windows.Controls.ScrollViewer> in its control template.</span></span>

## <a name="controls-that-implement-performance-features"></a><span data-ttu-id="7cdc7-155">實作效能功能的控制項</span><span class="sxs-lookup"><span data-stu-id="7cdc7-155">Controls that implement performance features</span></span>

<span data-ttu-id="7cdc7-156">下表列出用來顯示資料的常見控制項，以及其支援的效能功能。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-156">The following table lists the common controls for displaying data and their support of performance features.</span></span> <span data-ttu-id="7cdc7-157">請參閱前面幾節，以取得如何啟用這些功能的資訊。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-157">See the previous sections for information on how to enable these features.</span></span>

|<span data-ttu-id="7cdc7-158">控制項</span><span class="sxs-lookup"><span data-stu-id="7cdc7-158">Control</span></span>|<span data-ttu-id="7cdc7-159">虛擬化</span><span class="sxs-lookup"><span data-stu-id="7cdc7-159">Virtualization</span></span>|<span data-ttu-id="7cdc7-160">容器回收</span><span class="sxs-lookup"><span data-stu-id="7cdc7-160">Container recycling</span></span>|<span data-ttu-id="7cdc7-161">延後捲動</span><span class="sxs-lookup"><span data-stu-id="7cdc7-161">Deferred scrolling</span></span>|
|-------------|--------------------|-------------------------|------------------------|
|<xref:System.Windows.Controls.ComboBox>|<span data-ttu-id="7cdc7-162">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-162">Can be enabled</span></span>|<span data-ttu-id="7cdc7-163">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-163">Can be enabled</span></span>|<span data-ttu-id="7cdc7-164">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-164">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ContextMenu>|<span data-ttu-id="7cdc7-165">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-165">Can be enabled</span></span>|<span data-ttu-id="7cdc7-166">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-166">Can be enabled</span></span>|<span data-ttu-id="7cdc7-167">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-167">Can be enabled</span></span>|
|<xref:System.Windows.Controls.DocumentViewer>|<span data-ttu-id="7cdc7-168">無法使用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-168">Not available</span></span>|<span data-ttu-id="7cdc7-169">無法使用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-169">Not available</span></span>|<span data-ttu-id="7cdc7-170">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-170">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ListBox>|<span data-ttu-id="7cdc7-171">預設</span><span class="sxs-lookup"><span data-stu-id="7cdc7-171">Default</span></span>|<span data-ttu-id="7cdc7-172">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-172">Can be enabled</span></span>|<span data-ttu-id="7cdc7-173">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-173">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ListView>|<span data-ttu-id="7cdc7-174">預設</span><span class="sxs-lookup"><span data-stu-id="7cdc7-174">Default</span></span>|<span data-ttu-id="7cdc7-175">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-175">Can be enabled</span></span>|<span data-ttu-id="7cdc7-176">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-176">Can be enabled</span></span>|
|<xref:System.Windows.Controls.TreeView>|<span data-ttu-id="7cdc7-177">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-177">Can be enabled</span></span>|<span data-ttu-id="7cdc7-178">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-178">Can be enabled</span></span>|<span data-ttu-id="7cdc7-179">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-179">Can be enabled</span></span>|
|<xref:System.Windows.Controls.ToolBar>|<span data-ttu-id="7cdc7-180">無法使用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-180">Not available</span></span>|<span data-ttu-id="7cdc7-181">無法使用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-181">Not available</span></span>|<span data-ttu-id="7cdc7-182">可以啟用</span><span class="sxs-lookup"><span data-stu-id="7cdc7-182">Can be enabled</span></span>|

> [!NOTE]
> <span data-ttu-id="7cdc7-183">如需如何啟用虛擬化和容器回收上的範例<xref:System.Windows.Controls.TreeView>，請參閱 <<c2> [ 改善 TreeView 的效能](../controls/how-to-improve-the-performance-of-a-treeview.md)。</span><span class="sxs-lookup"><span data-stu-id="7cdc7-183">For an example of how to enable virtualization and container recycling on a <xref:System.Windows.Controls.TreeView>, see [Improve the Performance of a TreeView](../controls/how-to-improve-the-performance-of-a-treeview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="7cdc7-184">另請參閱</span><span class="sxs-lookup"><span data-stu-id="7cdc7-184">See also</span></span>

- [<span data-ttu-id="7cdc7-185">版面配置</span><span class="sxs-lookup"><span data-stu-id="7cdc7-185">Layout</span></span>](layout.md)
- [<span data-ttu-id="7cdc7-186">版面配置與設計</span><span class="sxs-lookup"><span data-stu-id="7cdc7-186">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="7cdc7-187">資料繫結</span><span class="sxs-lookup"><span data-stu-id="7cdc7-187">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="7cdc7-188">控制項</span><span class="sxs-lookup"><span data-stu-id="7cdc7-188">Controls</span></span>](../controls/index.md)
- [<span data-ttu-id="7cdc7-189">樣式設定和範本化</span><span class="sxs-lookup"><span data-stu-id="7cdc7-189">Styling and Templating</span></span>](../controls/styling-and-templating.md)
- [<span data-ttu-id="7cdc7-190">逐步解說：快取中的 WPF 應用程式的應用程式資料</span><span class="sxs-lookup"><span data-stu-id="7cdc7-190">Walkthrough: Caching Application Data in a WPF Application</span></span>](walkthrough-caching-application-data-in-a-wpf-application.md)