---
title: 分散式應用程式安全性
ms.date: 03/30/2017
helpviewer_keywords:
- distributed application security [WCF]
- security [WCF], transfer
ms.assetid: 53928a10-e474-46d0-ab90-5f98f8d7b668
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: 0dbc06afd4695b85f426fad2859b4c6d4b6684d6
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/04/2018
ms.locfileid: "43661070"
---
# <a name="distributed-application-security"></a><span data-ttu-id="46f38-102">分散式應用程式安全性</span><span class="sxs-lookup"><span data-stu-id="46f38-102">Distributed Application Security</span></span>
<span data-ttu-id="46f38-103">Windows Communication Foundation (WCF) 安全性分為三個主要的功能區域： 傳輸安全性、 存取控制和稽核。</span><span class="sxs-lookup"><span data-stu-id="46f38-103">Windows Communication Foundation (WCF) security is broken into three major functional areas: transfer security, access control, and auditing.</span></span> <span data-ttu-id="46f38-104">傳輸安全性提供完整性、機密性與驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-104">Transfer security provides integrity, confidentiality, and authentication.</span></span> <span data-ttu-id="46f38-105">傳輸安全性是由下列其中一項提供：傳輸安全性、訊息安全性或 `TransportWithMessageCredential`。</span><span class="sxs-lookup"><span data-stu-id="46f38-105">Transfer security is provided by one of the following: transport security, message security, or `TransportWithMessageCredential`.</span></span>  
  
 <span data-ttu-id="46f38-106">如需 WCF 訊息安全性的概觀，請參閱 <<c0> [ 安全性概觀](../../../../docs/framework/wcf/feature-details/security-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="46f38-106">For an overview of WCF message security, see [Security Overview](../../../../docs/framework/wcf/feature-details/security-overview.md).</span></span> <span data-ttu-id="46f38-107">如需有關 WCF 安全性的其他兩項的詳細資訊，請參閱[授權](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md)並[稽核](../../../../docs/framework/wcf/feature-details/auditing-security-events.md)。</span><span class="sxs-lookup"><span data-stu-id="46f38-107">For more information about the other two pieces of WCF security, see [Authorization](../../../../docs/framework/wcf/feature-details/authorization-in-wcf.md) and [Auditing](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span></span>  
  
## <a name="transfer-security-scenarios"></a><span data-ttu-id="46f38-108">傳輸安全性案例</span><span class="sxs-lookup"><span data-stu-id="46f38-108">Transfer Security Scenarios</span></span>  
 <span data-ttu-id="46f38-109">採用 WCF 傳輸安全性的常見案例包括下列各項：</span><span class="sxs-lookup"><span data-stu-id="46f38-109">Common scenarios that employ WCF transfer security include the following:</span></span>  
  
-   <span data-ttu-id="46f38-110">使用 Windows 保護傳輸。</span><span class="sxs-lookup"><span data-stu-id="46f38-110">Secure transfer using Windows.</span></span> <span data-ttu-id="46f38-111">WCF 用戶端和服務部署在 Windows 網域 （或 Windows 樹系）。</span><span class="sxs-lookup"><span data-stu-id="46f38-111">A WCF client and service are deployed in a Windows domain (or a Windows forest).</span></span> <span data-ttu-id="46f38-112">由於訊息包含個人資料，因此要求會包括用戶端和服務的雙向驗證、訊息完整性及訊息機密性。</span><span class="sxs-lookup"><span data-stu-id="46f38-112">The messages contain personal data, so requirements include mutual authentication of the client and service, message integrity, and message confidentiality.</span></span> <span data-ttu-id="46f38-113">此外，特殊異動發生時需要證明，例如訊息接收者應記錄簽章資訊。</span><span class="sxs-lookup"><span data-stu-id="46f38-113">In addition, proof is required that a particular transaction occurred, for example, the receiver of the message should record the signature information.</span></span>  
  
-   <span data-ttu-id="46f38-114">使用 `UserName` 和 HTTPS 保護傳輸。</span><span class="sxs-lookup"><span data-stu-id="46f38-114">Secure transfer using `UserName` and HTTPS.</span></span> <span data-ttu-id="46f38-115">WCF 用戶端和服務需要經過開發才能跨網際網路運作。</span><span class="sxs-lookup"><span data-stu-id="46f38-115">A WCF client and service need to be developed to work across the Internet.</span></span> <span data-ttu-id="46f38-116">用戶端認證會根據使用者名稱/密碼組的資料庫進行驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-116">The client credentials authenticate against a database of user name/password pairs.</span></span> <span data-ttu-id="46f38-117">服務會使用受信任的安全通訊端層 (SSL) 憑證部署在 HTTPS 位址。</span><span class="sxs-lookup"><span data-stu-id="46f38-117">The service is deployed at an HTTPS address using a trusted Secure Sockets Layer (SSL) certificate.</span></span> <span data-ttu-id="46f38-118">由於訊息會透過網際網路傳輸，因此用戶端和服務需要經過雙向驗證，而且必須維持傳輸期間訊息的機密性與完整性。</span><span class="sxs-lookup"><span data-stu-id="46f38-118">Because the messages travel over the Internet, the client and service need to be mutually authenticated, and the messages' confidentiality and integrity must be preserved during transfer.</span></span>  
  
-   <span data-ttu-id="46f38-119">使用憑證保護傳輸。</span><span class="sxs-lookup"><span data-stu-id="46f38-119">Secure transfer using certificates.</span></span> <span data-ttu-id="46f38-120">WCF 用戶端和服務需要經過開發才能透過公用網際網路運作。</span><span class="sxs-lookup"><span data-stu-id="46f38-120">A WCF client and service need to be developed to work over the public internet.</span></span> <span data-ttu-id="46f38-121">用戶端和服務都有憑證，可以用來保護訊息的安全。</span><span class="sxs-lookup"><span data-stu-id="46f38-121">The client and service both have certificates that can be used to secure the messages.</span></span> <span data-ttu-id="46f38-122">用戶端和服務會使用網際網路彼此通訊，以及執行要求有訊息完整性、機密性與雙向驗證的高價值異動。</span><span class="sxs-lookup"><span data-stu-id="46f38-122">The client and service use the Internet to communicate with each other and to perform high-value transactions that require message integrity, confidentiality, and mutual authentication.</span></span>  
  
## <a name="integrity-confidentiality-and-authentication"></a><span data-ttu-id="46f38-123">完整性、機密性與驗證</span><span class="sxs-lookup"><span data-stu-id="46f38-123">Integrity, Confidentiality, and Authentication</span></span>  
 <span data-ttu-id="46f38-124">完整性、機密性及驗證這三項功能合稱為傳輸安全性。</span><span class="sxs-lookup"><span data-stu-id="46f38-124">Three functions—integrity, confidentiality and authentication—are together called transfer security.</span></span> <span data-ttu-id="46f38-125">傳輸安全性所提供的各種功能，會協助減少分散式應用程式的威脅。</span><span class="sxs-lookup"><span data-stu-id="46f38-125">Transfer security provides the functions that help to mitigate the threats to a distributed application.</span></span> <span data-ttu-id="46f38-126">下表簡要說明構成傳輸安全性的這三項功能。</span><span class="sxs-lookup"><span data-stu-id="46f38-126">The following table briefly describes the three functions that make up transfer security.</span></span>  
  
|<span data-ttu-id="46f38-127">功能</span><span class="sxs-lookup"><span data-stu-id="46f38-127">Function</span></span>|<span data-ttu-id="46f38-128">描述</span><span class="sxs-lookup"><span data-stu-id="46f38-128">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="46f38-129">完整性</span><span class="sxs-lookup"><span data-stu-id="46f38-129">Integrity</span></span>|<span data-ttu-id="46f38-130">*完整性*是指保證資料的完整且正確，尤其是它從某個端點傳送到另一個，並可能已讀取的許多動作項目之後。</span><span class="sxs-lookup"><span data-stu-id="46f38-130">*Integrity* is the assurance that data is complete and accurate, especially after it has traversed from one point to another, and possibly been read by many actors.</span></span> <span data-ttu-id="46f38-131">完整性必須維持，才能避免資料竄改，而且通常是藉由訊息數位簽署達成這個目的。</span><span class="sxs-lookup"><span data-stu-id="46f38-131">Integrity must be maintained to prevent tampering with the data, and is usually achieved by digital signing of a message.</span></span>|  
|<span data-ttu-id="46f38-132">機密性</span><span class="sxs-lookup"><span data-stu-id="46f38-132">Confidentiality</span></span>|<span data-ttu-id="46f38-133">*機密性*是指未預期的讀取器以外的任何人讀取訊息的保證。</span><span class="sxs-lookup"><span data-stu-id="46f38-133">*Confidentiality* is the assurance that a message has not been read by anyone other than the intended reader.</span></span> <span data-ttu-id="46f38-134">例如，信用卡號在透過網際網路傳送時必須保持其機密。</span><span class="sxs-lookup"><span data-stu-id="46f38-134">For example, a credit card number must be kept confidential as it is sent over the Internet.</span></span> <span data-ttu-id="46f38-135">機密性通常是藉由使用公開金鑰/私密金鑰配置加密資料的方式提供。</span><span class="sxs-lookup"><span data-stu-id="46f38-135">Confidentiality is often provided by the encryption of data using a public key/private key scheme.</span></span>|  
|<span data-ttu-id="46f38-136">驗證</span><span class="sxs-lookup"><span data-stu-id="46f38-136">Authentication</span></span>|<span data-ttu-id="46f38-137">*驗證*是宣告的身分識別驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-137">*Authentication* is the verification of a claimed identity.</span></span> <span data-ttu-id="46f38-138">例如，使用銀行帳戶時，必須只允許實際的帳戶擁有人提款。</span><span class="sxs-lookup"><span data-stu-id="46f38-138">For example, when using a bank account, it is imperative that only the actual owner of the account be allowed to withdraw funds.</span></span> <span data-ttu-id="46f38-139">驗證可藉由各種方法提供。</span><span class="sxs-lookup"><span data-stu-id="46f38-139">Authentication can be provided by a variety of means.</span></span> <span data-ttu-id="46f38-140">其中一種常見的方法是使用者帳號/密碼系統。</span><span class="sxs-lookup"><span data-stu-id="46f38-140">One common method is the user/password system.</span></span> <span data-ttu-id="46f38-141">另一種方式則是使用由協力廠商提供的 X.509 憑證。</span><span class="sxs-lookup"><span data-stu-id="46f38-141">A second is the use of an X.509 certificate that is provided by a third party.</span></span>|  
  
## <a name="security-modes"></a><span data-ttu-id="46f38-142">安全性模式</span><span class="sxs-lookup"><span data-stu-id="46f38-142">Security Modes</span></span>  
 <span data-ttu-id="46f38-143">WCF 有數種傳輸安全性模式下表中所述。</span><span class="sxs-lookup"><span data-stu-id="46f38-143">WCF has several modes of transfer security, which are described in the following table.</span></span>  
  
|<span data-ttu-id="46f38-144">模式</span><span class="sxs-lookup"><span data-stu-id="46f38-144">Mode</span></span>|<span data-ttu-id="46f38-145">描述</span><span class="sxs-lookup"><span data-stu-id="46f38-145">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="46f38-146">無</span><span class="sxs-lookup"><span data-stu-id="46f38-146">None</span></span>|<span data-ttu-id="46f38-147">未在傳輸層或訊息層提供任何安全性。</span><span class="sxs-lookup"><span data-stu-id="46f38-147">No security is provided at the transport layer or at the message layer.</span></span> <span data-ttu-id="46f38-148">無預先定義的繫結使用此模式，根據預設，除了[ \<basicHttpBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md)項目或使用程式碼時<xref:System.ServiceModel.BasicHttpBinding>類別。</span><span class="sxs-lookup"><span data-stu-id="46f38-148">None of the predefined bindings use this mode by default except the [\<basicHttpBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element or, when using code, the <xref:System.ServiceModel.BasicHttpBinding> class.</span></span>|  
|<span data-ttu-id="46f38-149">Transport</span><span class="sxs-lookup"><span data-stu-id="46f38-149">Transport</span></span>|<span data-ttu-id="46f38-150">使用安全傳輸 (例如 HTTPS) 以獲得完整性、機密性和雙向驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-150">Uses a secure transport such as HTTPS for integrity, confidentiality, and mutual authentication.</span></span>|  
|<span data-ttu-id="46f38-151">訊息</span><span class="sxs-lookup"><span data-stu-id="46f38-151">Message</span></span>|<span data-ttu-id="46f38-152">使用 SOAP 訊息安全性，以獲得完整性、機密性和雙向驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-152">Uses SOAP-message security for integrity, confidentiality, and mutual authentication.</span></span> <span data-ttu-id="46f38-153">SOAP 訊息是根據 WS-Security 標準加以保護。</span><span class="sxs-lookup"><span data-stu-id="46f38-153">SOAP messages are secured according to the WS-Security standards.</span></span>|  
|<span data-ttu-id="46f38-154">混合模式</span><span class="sxs-lookup"><span data-stu-id="46f38-154">Mixed Mode</span></span>|<span data-ttu-id="46f38-155">使用傳輸安全性，以獲得完整性、機密性和伺服器驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-155">Uses transport security for integrity, confidentiality, and server authentication.</span></span> <span data-ttu-id="46f38-156">使用訊息安全性 (WS-Security 和其他標準) 以獲得用戶端驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-156">Uses message security (WS-Security and other standards) for client authentication.</span></span><br /><br /> <span data-ttu-id="46f38-157">(此模式的列舉型別為 `TransportWithMessageCredential`)</span><span class="sxs-lookup"><span data-stu-id="46f38-157">(This enumeration for this mode is `TransportWithMessageCredential`.)</span></span>|  
|<span data-ttu-id="46f38-158">兩種模式</span><span class="sxs-lookup"><span data-stu-id="46f38-158">Both</span></span>|<span data-ttu-id="46f38-159">在兩個層級執行保護和驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-159">Performs protection and authentication at both levels.</span></span> <span data-ttu-id="46f38-160">此模式是僅適用於[ \<netMsmqBinding >](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md)項目。</span><span class="sxs-lookup"><span data-stu-id="46f38-160">This mode is available only in the [\<netMsmqBinding>](../../../../docs/framework/configure-apps/file-schema/wcf/netmsmqbinding.md) element.</span></span>|  
  
## <a name="credentials-and-transfer-security"></a><span data-ttu-id="46f38-161">認證和傳輸安全性</span><span class="sxs-lookup"><span data-stu-id="46f38-161">Credentials and Transfer Security</span></span>  
 <span data-ttu-id="46f38-162">A*認證*向建立宣告的身分識別或功能的資料。</span><span class="sxs-lookup"><span data-stu-id="46f38-162">A *credential* is data that is presented to establish either a claimed identity or capabilities.</span></span> <span data-ttu-id="46f38-163">出示認證包括出示資料以及資料的所有權證明。</span><span class="sxs-lookup"><span data-stu-id="46f38-163">Presenting a credential involves presenting both the data and proof of possession of the data.</span></span> <span data-ttu-id="46f38-164">WCF 支援各種不同的傳輸和訊息安全性層級的認證類型。</span><span class="sxs-lookup"><span data-stu-id="46f38-164">WCF supports a variety of credential types at both the transport and message security levels.</span></span> <span data-ttu-id="46f38-165">您可以指定一種 WCF 繫結的認證。</span><span class="sxs-lookup"><span data-stu-id="46f38-165">You can specify a type of credential for a WCF binding.</span></span>  
  
 <span data-ttu-id="46f38-166">在許多國家或地區，駕駛執照就是認證的一個範例。</span><span class="sxs-lookup"><span data-stu-id="46f38-166">In many countries or regions, a driver’s license is an example of a credential.</span></span> <span data-ttu-id="46f38-167">執照包含代表一個人身分識別和能力的資料。</span><span class="sxs-lookup"><span data-stu-id="46f38-167">A license contains data representing one's identity and capabilities.</span></span> <span data-ttu-id="46f38-168">其中包含以持有人的照片做為所有權的證明。</span><span class="sxs-lookup"><span data-stu-id="46f38-168">It contains proof of possession in the form of the possessor's picture.</span></span> <span data-ttu-id="46f38-169">執照是由受信任的授權單位發出，通常是政府的發照部門。</span><span class="sxs-lookup"><span data-stu-id="46f38-169">The license is issued by a trusted authority, usually a governmental licensing department.</span></span> <span data-ttu-id="46f38-170">執照會經過密封，而且可能內含雷射防偽，表示沒有遭到竄改或偽造。</span><span class="sxs-lookup"><span data-stu-id="46f38-170">The license is sealed, and can contain a hologram, showing that it has not been tampered with or counterfeited.</span></span>  
  
 <span data-ttu-id="46f38-171">做為範例，請考慮兩種類型的 WCF 中支援的認證： 使用者名稱和 (X.509) 憑證認證。</span><span class="sxs-lookup"><span data-stu-id="46f38-171">As an example, consider two types of credentials supported in WCF: user name and (X.509) certificate credentials.</span></span>  
  
 <span data-ttu-id="46f38-172">對於使用者名稱認證，使用者名稱代表宣告的身分識別，而密碼代表所有權的證明。</span><span class="sxs-lookup"><span data-stu-id="46f38-172">For the user name credential, the user name represents the claimed identity and the password presents the proof of possession.</span></span> <span data-ttu-id="46f38-173">在此案例中，受信任的授權單位是驗證使用者名稱和密碼的系統。</span><span class="sxs-lookup"><span data-stu-id="46f38-173">The trusted authority in this case is the system that validates the user name and password.</span></span>  
  
 <span data-ttu-id="46f38-174">在憑證認證中，主體名稱、主體別名或憑證內的特定欄位可用來代表所宣告的身分識別和 (或) 能力。</span><span class="sxs-lookup"><span data-stu-id="46f38-174">In the certificate credential, the subject name, subject alternative name, or specific fields within the certificate can be used to represent the claimed identity and/or capabilities.</span></span> <span data-ttu-id="46f38-175">認證中資料所有權的證明，是使用相關的私密金鑰產生簽章的方式建立。</span><span class="sxs-lookup"><span data-stu-id="46f38-175">Proof of possession of the data in the credential is established by using the associated private key to generate a signature.</span></span>  
  
 <span data-ttu-id="46f38-176">傳輸安全性程式設計的詳細資訊，而且指定認證，請參閱[繫結和安全性](../../../../docs/framework/wcf/feature-details/bindings-and-security.md)並[安全性行為](../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md)。</span><span class="sxs-lookup"><span data-stu-id="46f38-176">For more information about programming transfer security and specifying credentials, see [Bindings and Security](../../../../docs/framework/wcf/feature-details/bindings-and-security.md) and [Security Behaviors](../../../../docs/framework/wcf/feature-details/security-behaviors-in-wcf.md).</span></span>  
  
### <a name="transport-client-credential-types"></a><span data-ttu-id="46f38-177">傳輸用戶端認證類型</span><span class="sxs-lookup"><span data-stu-id="46f38-177">Transport Client Credential Types</span></span>  
 <span data-ttu-id="46f38-178">下表說明建立使用傳輸安全性的應用程式時，可能使用的值。</span><span class="sxs-lookup"><span data-stu-id="46f38-178">The following table shows the possible values used when creating an application that uses transfer security.</span></span> <span data-ttu-id="46f38-179">您可以在程式碼或繫結設定中使用這些值。</span><span class="sxs-lookup"><span data-stu-id="46f38-179">You can use these values in either code or binding settings.</span></span>  
  
|<span data-ttu-id="46f38-180">設定</span><span class="sxs-lookup"><span data-stu-id="46f38-180">Setting</span></span>|<span data-ttu-id="46f38-181">描述</span><span class="sxs-lookup"><span data-stu-id="46f38-181">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="46f38-182">無</span><span class="sxs-lookup"><span data-stu-id="46f38-182">None</span></span>|<span data-ttu-id="46f38-183">指定用戶端不需要提出任何認證。</span><span class="sxs-lookup"><span data-stu-id="46f38-183">Specifies that the client does not need to present any credential.</span></span> <span data-ttu-id="46f38-184">這會轉譯成匿名用戶端。</span><span class="sxs-lookup"><span data-stu-id="46f38-184">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="46f38-185">基本</span><span class="sxs-lookup"><span data-stu-id="46f38-185">Basic</span></span>|<span data-ttu-id="46f38-186">指定基本驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-186">Specifies basic authentication.</span></span>  <span data-ttu-id="46f38-187">如需詳細資訊，請參閱 RFC2617 「[HTTP 驗證： 基本與摘要式驗證](https://go.microsoft.com/fwlink/?LinkId=88313)。 」</span><span class="sxs-lookup"><span data-stu-id="46f38-187">For additional information, see RFC2617, "[HTTP Authentication: Basic and Digest Authentication](https://go.microsoft.com/fwlink/?LinkId=88313)."</span></span>|  
|<span data-ttu-id="46f38-188">摘要</span><span class="sxs-lookup"><span data-stu-id="46f38-188">Digest</span></span>|<span data-ttu-id="46f38-189">指定摘要式驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-189">Specifies digest authentication.</span></span>  <span data-ttu-id="46f38-190">如需詳細資訊，請參閱 RFC2617 「[HTTP 驗證： 基本與摘要式驗證](https://go.microsoft.com/fwlink/?LinkId=88313)。 」</span><span class="sxs-lookup"><span data-stu-id="46f38-190">For additional information, see RFC2617, "[HTTP Authentication: Basic and Digest Authentication](https://go.microsoft.com/fwlink/?LinkId=88313)."</span></span>|  
|<span data-ttu-id="46f38-191">Ntlm</span><span class="sxs-lookup"><span data-stu-id="46f38-191">Ntlm</span></span>|<span data-ttu-id="46f38-192">指定在 Windows 網域上使用 SSPI 交涉的 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-192">Specifies Windows authentication using SSPI negotiation on a Windows domain.</span></span><br /><br /> <span data-ttu-id="46f38-193">SSPI 交涉的結果會是使用 Kerberos 通訊協定或 NT LanMan (NTLM)。</span><span class="sxs-lookup"><span data-stu-id="46f38-193">SSPI negotiation results in using either the Kerberos protocol or NT LanMan (NTLM).</span></span>|  
|<span data-ttu-id="46f38-194">Windows</span><span class="sxs-lookup"><span data-stu-id="46f38-194">Windows</span></span>|<span data-ttu-id="46f38-195">指定在 Windows 網域上使用 SSPI 的 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-195">Specifies Windows authentication using SSPI on a Windows domain.</span></span> <span data-ttu-id="46f38-196">SSPI 會挑選 Kerberos 通訊協定或 NTLM 做為驗證服務。</span><span class="sxs-lookup"><span data-stu-id="46f38-196">SSPI picks from either the Kerberos protocol or NTLM as authentication service.</span></span><br /><br /> <span data-ttu-id="46f38-197">SSPI 會先嘗試 Kerberos 通訊協定，如果失敗的話，才會使用 NTLM。</span><span class="sxs-lookup"><span data-stu-id="46f38-197">SSPI tries Kerberos protocol first; if that fails, it then uses NTLM.</span></span>|  
|<span data-ttu-id="46f38-198">憑證</span><span class="sxs-lookup"><span data-stu-id="46f38-198">Certificate</span></span>|<span data-ttu-id="46f38-199">使用憑證 (通常是 X.509) 執行用戶端驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-199">Performs client authentication using a certificate, typically X.509.</span></span>|  
  
### <a name="message-client-credential-types"></a><span data-ttu-id="46f38-200">訊息用戶端認證類型</span><span class="sxs-lookup"><span data-stu-id="46f38-200">Message Client Credential Types</span></span>  
 <span data-ttu-id="46f38-201">下表說明建立使用訊息安全性的應用程式時，可能使用的值。</span><span class="sxs-lookup"><span data-stu-id="46f38-201">The following table shows the possible values used when creating an application that uses message security.</span></span> <span data-ttu-id="46f38-202">您可以在程式碼或繫結設定中使用這些值。</span><span class="sxs-lookup"><span data-stu-id="46f38-202">You can use these values in either code or binding settings.</span></span>  
  
|<span data-ttu-id="46f38-203">設定</span><span class="sxs-lookup"><span data-stu-id="46f38-203">Setting</span></span>|<span data-ttu-id="46f38-204">描述</span><span class="sxs-lookup"><span data-stu-id="46f38-204">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="46f38-205">無</span><span class="sxs-lookup"><span data-stu-id="46f38-205">None</span></span>|<span data-ttu-id="46f38-206">允許服務與匿名用戶端互動。</span><span class="sxs-lookup"><span data-stu-id="46f38-206">Allows the service to interact with anonymous clients.</span></span>|  
|<span data-ttu-id="46f38-207">Windows</span><span class="sxs-lookup"><span data-stu-id="46f38-207">Windows</span></span>|<span data-ttu-id="46f38-208">允許在 Windows 認證的已驗證內容中發生 SOAP 訊息交換。</span><span class="sxs-lookup"><span data-stu-id="46f38-208">Allows SOAP message exchanges to occur under the authenticated context of a Windows credential.</span></span> <span data-ttu-id="46f38-209">使用 SSPI 交涉機制挑選 Kerberos 通訊協定或 NTLM 做為驗證服務。</span><span class="sxs-lookup"><span data-stu-id="46f38-209">Uses SSPI negotiation mechanism to pick from either the Kerberos protocol or NTLM as an authentication service.</span></span>|  
|<span data-ttu-id="46f38-210">使用者名稱</span><span class="sxs-lookup"><span data-stu-id="46f38-210">Username</span></span>|<span data-ttu-id="46f38-211">允許服務要求用戶端必須使用使用者名稱認證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-211">Allows the service to require that the client be authenticated with a user name credential.</span></span> <span data-ttu-id="46f38-212">請注意，WCF 不允許任何密碼編譯作業的使用者名稱，例如產生簽章或加密資料。</span><span class="sxs-lookup"><span data-stu-id="46f38-212">Note that WCF does not allow any cryptographic operations with the user name, such as generating a signature or encrypting data.</span></span> <span data-ttu-id="46f38-213">因此，WCF 會強制使用使用者名稱認證時，保護傳輸。</span><span class="sxs-lookup"><span data-stu-id="46f38-213">As such, WCF enforces that the transport is secured when using user name credentials.</span></span>|  
|<span data-ttu-id="46f38-214">憑證</span><span class="sxs-lookup"><span data-stu-id="46f38-214">Certificate</span></span>|<span data-ttu-id="46f38-215">允許服務要求用戶端使用憑證進行驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-215">Allows the service to require that the client be authenticated using a certificate.</span></span>|  
|[!INCLUDE[infocard](../../../../includes/infocard-md.md)]|<span data-ttu-id="46f38-216">允許服務要求用戶端以 [!INCLUDE[infocard](../../../../includes/infocard-md.md)] 進行驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-216">Allows the service to require that the client be authenticated using an [!INCLUDE[infocard](../../../../includes/infocard-md.md)].</span></span>|  
  
### <a name="programming-credentials"></a><span data-ttu-id="46f38-217">程式設計認證</span><span class="sxs-lookup"><span data-stu-id="46f38-217">Programming Credentials</span></span>  
 <span data-ttu-id="46f38-218">針對每個用戶端認證類型，WCF 程式設計模型可讓您指定認證值，並使用服務行為和通道行為的認證驗證。</span><span class="sxs-lookup"><span data-stu-id="46f38-218">For each of the client credential types, the WCF programming model allows you to specify the credential values and credential validators by using service behaviors and channel behaviors.</span></span>  
  
 <span data-ttu-id="46f38-219">WCF 安全性有兩種認證類型： 服務認證行為和通道認證行為。</span><span class="sxs-lookup"><span data-stu-id="46f38-219">WCF security has two types of credentials: service credential behaviors and channel credential behaviors.</span></span> <span data-ttu-id="46f38-220">WCF 中的認證行為會指定實際資料，也就是用來符合透過繫結表示的安全性需求的認證。</span><span class="sxs-lookup"><span data-stu-id="46f38-220">Credential behaviors in WCF specify the actual data, namely, credentials used to meet the security requirements expressed through bindings.</span></span> <span data-ttu-id="46f38-221">在 WCF 中，用戶端類別會是作業引動過程，以及訊息之間進行轉換的執行階段元件。</span><span class="sxs-lookup"><span data-stu-id="46f38-221">In WCF, a client class is the run-time component that converts between operation invocation and messages.</span></span> <span data-ttu-id="46f38-222">所有用戶端都是繼承自 <xref:System.ServiceModel.ClientBase%601> 類別。</span><span class="sxs-lookup"><span data-stu-id="46f38-222">All clients inherit from the <xref:System.ServiceModel.ClientBase%601> class.</span></span> <span data-ttu-id="46f38-223">基底類別上的 <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> 屬性可讓您指定各種用戶端認證的值。</span><span class="sxs-lookup"><span data-stu-id="46f38-223">The <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property on the base class allows you to specify various values of client credentials.</span></span>  
  
 <span data-ttu-id="46f38-224">在 WCF 中，服務行為會套用至實作服務合約 （介面） 以程式設計方式控制服務的類別屬性。</span><span class="sxs-lookup"><span data-stu-id="46f38-224">In WCF, service behaviors are attributes applied to the class implementing a service contract (interface) to programmatically control the service.</span></span> <span data-ttu-id="46f38-225"><xref:System.ServiceModel.Description.ServiceCredentials> 類別可讓您指定服務認證的憑證，以及各種用戶端認證類型的用戶端驗證設定。</span><span class="sxs-lookup"><span data-stu-id="46f38-225">The <xref:System.ServiceModel.Description.ServiceCredentials> class allows you to specify certificates for service credential and client validation settings for various client credential types.</span></span>  
  
### <a name="negotiation-model-for-message-security"></a><span data-ttu-id="46f38-226">訊息安全性的交涉模型</span><span class="sxs-lookup"><span data-stu-id="46f38-226">Negotiation Model for Message Security</span></span>  
 <span data-ttu-id="46f38-227">訊息安全性模式可讓您執行傳輸安全性，如此服務認證就會在用戶端超出範圍時設定。</span><span class="sxs-lookup"><span data-stu-id="46f38-227">The message security mode allows you to perform transfer security so that the service credential is configured at the client out of band.</span></span> <span data-ttu-id="46f38-228">例如，如果您使用儲存在 Windows 憑證存放區中的憑證，就必須使用 Microsoft Management Console (MMC) 嵌入式管理單元這類的工具。</span><span class="sxs-lookup"><span data-stu-id="46f38-228">For example, if you are using a certificate stored in the Windows certificate store, you must use a tool such as a Microsoft Management Console (MMC) snap-in.</span></span>  
  
 <span data-ttu-id="46f38-229">訊息安全性模式還可讓您執行傳輸安全性，如此服務認證就會在初始交涉的過程中與用戶端交換。</span><span class="sxs-lookup"><span data-stu-id="46f38-229">The message security mode also allows you to perform transfer security so that the service credential is exchanged with the client as part of an initial negotiation.</span></span> <span data-ttu-id="46f38-230">若要啟用交涉，請將 <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> 屬性設為 `true`。</span><span class="sxs-lookup"><span data-stu-id="46f38-230">To enable negotiation, set the <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> property to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46f38-231">另請參閱</span><span class="sxs-lookup"><span data-stu-id="46f38-231">See Also</span></span>  
 [<span data-ttu-id="46f38-232">建立端點概觀</span><span class="sxs-lookup"><span data-stu-id="46f38-232">Endpoint Creation Overview</span></span>](../../../../docs/framework/wcf/endpoint-creation-overview.md)  
 [<span data-ttu-id="46f38-233">系統提供的繫結</span><span class="sxs-lookup"><span data-stu-id="46f38-233">System-Provided Bindings</span></span>](../../../../docs/framework/wcf/system-provided-bindings.md)  
 [<span data-ttu-id="46f38-234">安全性概觀</span><span class="sxs-lookup"><span data-stu-id="46f38-234">Security Overview</span></span>](../../../../docs/framework/wcf/feature-details/security-overview.md)  
 [<span data-ttu-id="46f38-235">Windows Server App Fabric 的安全性模型</span><span class="sxs-lookup"><span data-stu-id="46f38-235">Security Model for Windows Server App Fabric</span></span>](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)
