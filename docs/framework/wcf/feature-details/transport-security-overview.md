---
title: 傳輸安全性概觀
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 00959326-aa9d-44d0-af61-54933d4adc7f
ms.openlocfilehash: 04526e8aea09b412de4d3a94f17938b02ad6527b
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/08/2019
ms.locfileid: "59105270"
---
# <a name="transport-security-overview"></a><span data-ttu-id="087d6-102">傳輸安全性概觀</span><span class="sxs-lookup"><span data-stu-id="087d6-102">Transport Security Overview</span></span>
<span data-ttu-id="087d6-103">Windows Communication Foundation (WCF) 中的傳輸安全性機制取決於繫結和傳輸而有所不同。</span><span class="sxs-lookup"><span data-stu-id="087d6-103">Transport security mechanisms in Windows Communication Foundation (WCF) depend on the binding and transport being used.</span></span> <span data-ttu-id="087d6-104">例如，使用 <xref:System.ServiceModel.WSHttpBinding> 類別時，傳輸為 HTTP，而保護此傳輸的主要機制則為 Secure Sockets Layer (SSL) over HTTP，通常稱為 HTTPS。</span><span class="sxs-lookup"><span data-stu-id="087d6-104">For example, when using the <xref:System.ServiceModel.WSHttpBinding> class, the transport is HTTP, and the primary mechanism for securing the transport is Secure Sockets Layer (SSL) over HTTP, commonly called HTTPS.</span></span> <span data-ttu-id="087d6-105">本主題討論 WCF 系統提供繫結中使用的主要傳輸安全性機制。</span><span class="sxs-lookup"><span data-stu-id="087d6-105">This topic discusses the major transport security mechanisms used in the WCF system-provided bindings.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="087d6-106">使用 SSL 安全性時使用.NET Framework 3.5 和更新版本的 WCF 用戶端會使用其憑證存放區中的中繼憑證和服務上執行憑證鏈結驗證的 SSL 交涉期間收到的中繼憑證憑證。</span><span class="sxs-lookup"><span data-stu-id="087d6-106">When SSL security is used with .NET Framework 3.5 and later an WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="087d6-107">.NET Framework 3.0 只會使用安裝在本機憑證存放區中的中繼憑證。</span><span class="sxs-lookup"><span data-stu-id="087d6-107">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="087d6-108">使用傳輸安全性時，可能會覆寫 <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 屬性。</span><span class="sxs-lookup"><span data-stu-id="087d6-108">When transport security is used, the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property may be overwritten.</span></span> <span data-ttu-id="087d6-109">若要防止發生組這<xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType>至<xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType>。</span><span class="sxs-lookup"><span data-stu-id="087d6-109">To prevent this from happening set the <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType> to <xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType>.</span></span> <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> <span data-ttu-id="087d6-110">是可以設定在服務描述的服務行為。</span><span class="sxs-lookup"><span data-stu-id="087d6-110">is a service behavior that can be set on the service description.</span></span>  
  
## <a name="basichttpbinding"></a><span data-ttu-id="087d6-111">BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-111">BasicHttpBinding</span></span>  
 <span data-ttu-id="087d6-112">根據預設，<xref:System.ServiceModel.BasicHttpBinding> 類別不會提供安全性。</span><span class="sxs-lookup"><span data-stu-id="087d6-112">By default, the <xref:System.ServiceModel.BasicHttpBinding> class does not provide security.</span></span> <span data-ttu-id="087d6-113">這個繫結是設計用來與未實作安全性的 Web 服務提供者互通。</span><span class="sxs-lookup"><span data-stu-id="087d6-113">This binding is designed for interoperability with Web service providers that do not implement security.</span></span> <span data-ttu-id="087d6-114">不過，您可以透過將 <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> 屬性設定為 <xref:System.ServiceModel.BasicHttpSecurityMode.None> 以外的任何值來啟動安全性。</span><span class="sxs-lookup"><span data-stu-id="087d6-114">However, you can switch on security by setting the <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> property to any value except <xref:System.ServiceModel.BasicHttpSecurityMode.None>.</span></span> <span data-ttu-id="087d6-115">若要啟用傳輸安全性，請將此屬性設為 <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>。</span><span class="sxs-lookup"><span data-stu-id="087d6-115">To enable transport security, set the property to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
### <a name="interoperation-with-iis"></a><span data-ttu-id="087d6-116">與 IIS 互通</span><span class="sxs-lookup"><span data-stu-id="087d6-116">Interoperation with IIS</span></span>  
 <span data-ttu-id="087d6-117"><xref:System.ServiceModel.BasicHttpBinding> 類別主要用於與現有的 Web 服務互通，而這些服務當中有多數是由網際網路資訊服務 (IIS) 所裝載。</span><span class="sxs-lookup"><span data-stu-id="087d6-117">The <xref:System.ServiceModel.BasicHttpBinding> class is primarily used to interoperate with existing Web services, and many of those services are hosted by Internet Information Services (IIS).</span></span> <span data-ttu-id="087d6-118">因此，這個繫結的傳輸安全性是設計成可用來與 IIS 站台進行流暢的互通。</span><span class="sxs-lookup"><span data-stu-id="087d6-118">Consequently, the transport security for this binding is designed for seamless interoperation with IIS sites.</span></span> <span data-ttu-id="087d6-119">將安全性模式設定為 <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>，並接著設定用戶端認證類型，便可進行流暢的互通。</span><span class="sxs-lookup"><span data-stu-id="087d6-119">This is done by setting the security mode to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> and then setting the client credential type.</span></span> <span data-ttu-id="087d6-120">認證類型值會對應至 IIS 目錄安全性機制。</span><span class="sxs-lookup"><span data-stu-id="087d6-120">The credential type values correspond to IIS directory security mechanisms.</span></span> <span data-ttu-id="087d6-121">下列程式碼會示範所設定的模式以及設定為 Windows 的認證類型。</span><span class="sxs-lookup"><span data-stu-id="087d6-121">The following code shows the mode being set and the credential type set to Windows.</span></span> <span data-ttu-id="087d6-122">您可以在用戶端和伺服器都位於相同的 Windows 網域時使用這個組態。</span><span class="sxs-lookup"><span data-stu-id="087d6-122">You can use this configuration when both client and server are on the same Windows domain.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#10)] 
 [!code-vb[c_ProgrammingSecurity#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#10)]  
  
 <span data-ttu-id="087d6-123">或者，使用下列組態：</span><span class="sxs-lookup"><span data-stu-id="087d6-123">Or, in configuration:</span></span>  
  
```xml  
<bindings>  
  <basicHttpBinding>  
    <binding name="SecurityByTransport">  
      <security mode="Transport">  
        <transport clientCredentialType="Windows" />  
       </security>  
     </binding>  
  </basicHttpBinding>  
</bindings>  
```  
  
 <span data-ttu-id="087d6-124">下列小節將討論其他的用戶端認證類型。</span><span class="sxs-lookup"><span data-stu-id="087d6-124">The following sections discuss other client credential types.</span></span>  
  
#### <a name="basic"></a><span data-ttu-id="087d6-125">基本</span><span class="sxs-lookup"><span data-stu-id="087d6-125">Basic</span></span>  
 <span data-ttu-id="087d6-126">這種類型會對應至 IIS 中的基本驗證方法。</span><span class="sxs-lookup"><span data-stu-id="087d6-126">This corresponds to the Basic authentication method in IIS.</span></span> <span data-ttu-id="087d6-127">在使用此模式時，IIS 伺服器必須透過 Windows 使用者帳戶和適當的 NTFS 檔案系統權限進行設定。</span><span class="sxs-lookup"><span data-stu-id="087d6-127">When using this mode, the IIS server must be configured with Windows user accounts and appropriate NTFS file system permissions.</span></span> <span data-ttu-id="087d6-128">如需詳細資訊[!INCLUDE[iis601](../../../../includes/iis601-md.md)]，請參閱 <<c2> [ 啟用基本驗證及設定領域名稱](https://go.microsoft.com/fwlink/?LinkId=88592)。</span><span class="sxs-lookup"><span data-stu-id="087d6-128">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Enabling Basic Authentication and Configuring the Realm Name](https://go.microsoft.com/fwlink/?LinkId=88592).</span></span> <span data-ttu-id="087d6-129">如需詳細資訊[!INCLUDE[iisver](../../../../includes/iisver-md.md)]，請參閱[IIS 7.0 Beta:設定基本驗證](https://go.microsoft.com/fwlink/?LinkId=88593)。</span><span class="sxs-lookup"><span data-stu-id="087d6-129">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Basic Authentication](https://go.microsoft.com/fwlink/?LinkId=88593).</span></span>  
  
#### <a name="certificate"></a><span data-ttu-id="087d6-130">憑證</span><span class="sxs-lookup"><span data-stu-id="087d6-130">Certificate</span></span>  
 <span data-ttu-id="087d6-131">IIS 有一個會要求用戶端使用憑證登入的選項。</span><span class="sxs-lookup"><span data-stu-id="087d6-131">IIS has an option to require clients to log on with a certificate.</span></span> <span data-ttu-id="087d6-132">該功能也能讓 IIS 將用戶端憑證對應至 Windows 帳戶。</span><span class="sxs-lookup"><span data-stu-id="087d6-132">The feature also enables IIS to map a client certificate to a Windows account.</span></span> <span data-ttu-id="087d6-133">如需詳細資訊[!INCLUDE[iis601](../../../../includes/iis601-md.md)]，請參閱 <<c2> [ 啟用 IIS 6.0 中的用戶端憑證](https://go.microsoft.com/fwlink/?LinkId=88594)。</span><span class="sxs-lookup"><span data-stu-id="087d6-133">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Enabling Client Certificates in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88594).</span></span> <span data-ttu-id="087d6-134">如需詳細資訊[!INCLUDE[iisver](../../../../includes/iisver-md.md)]，請參閱[IIS 7.0 Beta:在 IIS 7.0 中設定伺服器憑證](https://go.microsoft.com/fwlink/?LinkId=88595)。</span><span class="sxs-lookup"><span data-stu-id="087d6-134">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="digest"></a><span data-ttu-id="087d6-135">摘要</span><span class="sxs-lookup"><span data-stu-id="087d6-135">Digest</span></span>  
 <span data-ttu-id="087d6-136">摘要式驗證類似於基本驗證，但是它具備以雜湊而非純文字形式來傳送認證的優點。</span><span class="sxs-lookup"><span data-stu-id="087d6-136">Digest authentication is similar to Basic authentication, but offers the advantage of sending the credentials as a hash, instead of in clear text.</span></span> <span data-ttu-id="087d6-137">如需詳細資訊[!INCLUDE[iis601](../../../../includes/iis601-md.md)]，請參閱 < [IIS 6.0 中的摘要式驗證](https://go.microsoft.com/fwlink/?LinkID=88443)。</span><span class="sxs-lookup"><span data-stu-id="087d6-137">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Digest Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkID=88443).</span></span> <span data-ttu-id="087d6-138">如需詳細資訊[!INCLUDE[iisver](../../../../includes/iisver-md.md)]，請參閱[IIS 7.0 Beta:設定摘要式驗證](https://go.microsoft.com/fwlink/?LinkId=88596)。</span><span class="sxs-lookup"><span data-stu-id="087d6-138">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Digest Authentication](https://go.microsoft.com/fwlink/?LinkId=88596).</span></span>  
  
#### <a name="windows"></a><span data-ttu-id="087d6-139">Windows</span><span class="sxs-lookup"><span data-stu-id="087d6-139">Windows</span></span>  
 <span data-ttu-id="087d6-140">這個類型會對應至 IIS 中的整合式 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="087d6-140">This corresponds to integrated Windows authentication in IIS.</span></span> <span data-ttu-id="087d6-141">當設定為這個值時，該伺服器必須出現在以 Kerberos 通訊協定做為網域控制站的 Windows 網域上。</span><span class="sxs-lookup"><span data-stu-id="087d6-141">When set to this value, the server is also expected to exist on a Windows domain that uses the Kerberos protocol as its domain controller.</span></span> <span data-ttu-id="087d6-142">如果伺服器未存在以 Kerberos 為基礎的網域中，或是如果 Kerberos 系統失敗，您可以使用下一節所介紹的 NT LAN Manager (NTLM) 值。</span><span class="sxs-lookup"><span data-stu-id="087d6-142">If the server is not on a Kerberos-backed domain, or if the Kerberos system fails, you can use the NT LAN Manager (NTLM) value described in the next section.</span></span> <span data-ttu-id="087d6-143">如需詳細資訊[!INCLUDE[iis601](../../../../includes/iis601-md.md)]，請參閱 < [IIS 6.0 中的整合式 Windows 驗證](https://go.microsoft.com/fwlink/?LinkId=88597)。</span><span class="sxs-lookup"><span data-stu-id="087d6-143">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Integrated Windows Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88597).</span></span> <span data-ttu-id="087d6-144">如需詳細資訊[!INCLUDE[iisver](../../../../includes/iisver-md.md)]，請參閱[IIS 7.0 Beta:在 IIS 7.0 中設定伺服器憑證](https://go.microsoft.com/fwlink/?LinkId=88595)。</span><span class="sxs-lookup"><span data-stu-id="087d6-144">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="ntlm"></a><span data-ttu-id="087d6-145">NTLM</span><span class="sxs-lookup"><span data-stu-id="087d6-145">NTLM</span></span>  
 <span data-ttu-id="087d6-146">這個類型可讓伺服器在 Kerberos 通訊協定失敗時，使用 NTLM 進行驗證。</span><span class="sxs-lookup"><span data-stu-id="087d6-146">This enables the server to use NTLM for authentication if the Kerberos protocol fails.</span></span> <span data-ttu-id="087d6-147">如需有關中設定 IIS [!INCLUDE[iis601](../../../../includes/iis601-md.md)]，請參閱 <<c2> [ 強制 NTLM 驗證](https://go.microsoft.com/fwlink/?LinkId=88598)。</span><span class="sxs-lookup"><span data-stu-id="087d6-147">For more information about configuring IIS in [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Forcing NTLM Authentication](https://go.microsoft.com/fwlink/?LinkId=88598).</span></span> <span data-ttu-id="087d6-148">若是 [!INCLUDE[iisver](../../../../includes/iisver-md.md)]，Windows 驗證會包含 NTLM 驗證。</span><span class="sxs-lookup"><span data-stu-id="087d6-148">For [!INCLUDE[iisver](../../../../includes/iisver-md.md)], the Windows authentication includes NTLM authentication.</span></span> <span data-ttu-id="087d6-149">如需詳細資訊，請參閱[IIS 7.0 Beta:在 IIS 7.0 中設定伺服器憑證](https://go.microsoft.com/fwlink/?LinkID=88595)。</span><span class="sxs-lookup"><span data-stu-id="087d6-149">For more information, see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595).</span></span>  
  
## <a name="wshttpbinding"></a><span data-ttu-id="087d6-150">WsHttpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-150">WsHttpBinding</span></span>  
 <span data-ttu-id="087d6-151"><xref:System.ServiceModel.WSHttpBinding> 類別主要是用來與實作 WS-\* 規格的服務進行交互操作。</span><span class="sxs-lookup"><span data-stu-id="087d6-151">The <xref:System.ServiceModel.WSHttpBinding> class is designed for interoperation with services that implement WS-\* specifications.</span></span> <span data-ttu-id="087d6-152">此繫結的傳輸安全性為使用 HTTP 或 HTTPS 的安全通訊端層 (SSL)。</span><span class="sxs-lookup"><span data-stu-id="087d6-152">The transport security for this binding is Secure Sockets Layer (SSL) over HTTP, or HTTPS.</span></span> <span data-ttu-id="087d6-153">若要建立使用 SSL 的 WCF 應用程式，使用 IIS 來裝載應用程式。</span><span class="sxs-lookup"><span data-stu-id="087d6-153">To create an WCF application that uses SSL, use IIS to host the application.</span></span> <span data-ttu-id="087d6-154">或者，如果您要建立自我裝載的應用程式，請使用 HttpCfg.exe 工具將 X.509 憑證繫結至電腦上的特定連接埠。</span><span class="sxs-lookup"><span data-stu-id="087d6-154">Alternatively, if you are creating a self-hosted application, use the HttpCfg.exe tool to bind an X.509 certificate to a specific port on a computer.</span></span> <span data-ttu-id="087d6-155">連接埠號碼指定為 WCF 應用程式的端點位址的一部分。</span><span class="sxs-lookup"><span data-stu-id="087d6-155">The port number is specified as part of the WCF application as an endpoint address.</span></span> <span data-ttu-id="087d6-156">當使用傳輸模式時，端點位址必須包含 HTTPS 通訊協定，否則會在執行階段擲回例外狀況。</span><span class="sxs-lookup"><span data-stu-id="087d6-156">When using transport mode, the endpoint address must include the HTTPS protocol or an exception will be thrown at run time.</span></span> <span data-ttu-id="087d6-157">如需詳細資訊，請參閱 < [HTTP 傳輸安全性](../../../../docs/framework/wcf/feature-details/http-transport-security.md)。</span><span class="sxs-lookup"><span data-stu-id="087d6-157">For more information, see [HTTP Transport Security](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span></span>  
  
 <span data-ttu-id="087d6-158">若是用戶端驗證，請將 <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> 類別的 <xref:System.ServiceModel.HttpTransportSecurity> 屬性設定為其中一個 <xref:System.ServiceModel.HttpClientCredentialType> 列舉值。</span><span class="sxs-lookup"><span data-stu-id="087d6-158">For client authentication, set the <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.HttpTransportSecurity> class to one of the <xref:System.ServiceModel.HttpClientCredentialType> enumeration values.</span></span> <span data-ttu-id="087d6-159">這些列舉值會與 <xref:System.ServiceModel.BasicHttpBinding> 的用戶端認證類型完全相同，而且是設計成與 IIS 服務進行裝載。</span><span class="sxs-lookup"><span data-stu-id="087d6-159">The enumeration values are identical to the client credential types for <xref:System.ServiceModel.BasicHttpBinding> and are designed to be hosted with IIS services.</span></span>  
  
 <span data-ttu-id="087d6-160">下列範例會示範要搭配 Windows 用戶端認證類型使用的繫結。</span><span class="sxs-lookup"><span data-stu-id="087d6-160">The following example shows the binding being used with a client credential type of Windows.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#11)]
 [!code-vb[c_ProgrammingSecurity#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#11)]  
  
## <a name="wsdualhttpbinding"></a><span data-ttu-id="087d6-161">WSDualHttpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-161">WSDualHttpBinding</span></span>  
 <span data-ttu-id="087d6-162">這個繫結只會提供訊息層級安全性，而不提供傳輸層級安全性。</span><span class="sxs-lookup"><span data-stu-id="087d6-162">This binding provides only message-level security, not transport-level security.</span></span>  
  
## <a name="nettcpbinding"></a><span data-ttu-id="087d6-163">NetTcpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-163">NetTcpBinding</span></span>  
 <span data-ttu-id="087d6-164"><xref:System.ServiceModel.NetTcpBinding> 類別會使用 TCP 來進行訊息傳輸。</span><span class="sxs-lookup"><span data-stu-id="087d6-164">The <xref:System.ServiceModel.NetTcpBinding> class uses TCP for message transport.</span></span> <span data-ttu-id="087d6-165">傳輸模式的安全性是由實作透過 TCP 的傳輸層安全性 (TLS) 所提供。</span><span class="sxs-lookup"><span data-stu-id="087d6-165">Security for the transport mode is provided by implementing Transport Layer Security (TLS) over TCP.</span></span> <span data-ttu-id="087d6-166">而 TLS 實作則是由作業系統提供。</span><span class="sxs-lookup"><span data-stu-id="087d6-166">The TLS implementation is provided by the operating system.</span></span>  
  
 <span data-ttu-id="087d6-167">如下列程式碼所示，您也可以藉由將 <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> 類別的 <xref:System.ServiceModel.TcpTransportSecurity> 屬性設定為其中一個 <xref:System.ServiceModel.TcpClientCredentialType> 值，來指定用戶端的認證類型。</span><span class="sxs-lookup"><span data-stu-id="087d6-167">You can also specify the client's credential type by setting the <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.TcpTransportSecurity> class to one of the <xref:System.ServiceModel.TcpClientCredentialType> values, as shown in the following code.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#12)]
 [!code-vb[c_ProgrammingSecurity#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#12)]  
  
#### <a name="client"></a><span data-ttu-id="087d6-168">用戶端</span><span class="sxs-lookup"><span data-stu-id="087d6-168">Client</span></span>  
 <span data-ttu-id="087d6-169">若是使用用戶端類型，您必須指定使用 <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> 類別之 <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> 方法的憑證。</span><span class="sxs-lookup"><span data-stu-id="087d6-169">On the client, you must specify a certificate using the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="087d6-170">如果是使用 Windows 安全性，就不需要提供憑證。</span><span class="sxs-lookup"><span data-stu-id="087d6-170">If you are using Windows security, a certificate is not required.</span></span>  
  
 <span data-ttu-id="087d6-171">下列程式碼範例使用可以提供唯一識別該憑證的憑證指紋。</span><span class="sxs-lookup"><span data-stu-id="087d6-171">The following code uses the thumbprint of the certificate, which uniquely identifies it.</span></span> <span data-ttu-id="087d6-172">如需憑證的詳細資訊，請參閱[使用憑證](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)。</span><span class="sxs-lookup"><span data-stu-id="087d6-172">For more information about certificates, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#13)]
 [!code-vb[c_ProgrammingSecurity#13](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#13)]  
  
 <span data-ttu-id="087d6-173">或者，在用戶端的組態中指定的憑證使用[ \<clientCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md)行為區段中的項目。</span><span class="sxs-lookup"><span data-stu-id="087d6-173">Alternatively, specify the certificate in the client's configuration using a [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) element in the behaviors section.</span></span>  
  
```xml  
<behaviors>  
  <behavior>  
   <clientCredentials>  
     <clientCertificate findValue= "101010101010101010101010101010000000000"   
      storeLocation="LocalMachine" storeName="My"   
      X509FindType="FindByThumbPrint"/>  
     </clientCertificate>  
   </clientCredentials>  
 </behavior>  
</behaviors>    
```  
  
## <a name="netnamedpipebinding"></a><span data-ttu-id="087d6-174">NetNamedPipeBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-174">NetNamedPipeBinding</span></span>  
 <span data-ttu-id="087d6-175"><xref:System.ServiceModel.NetNamedPipeBinding> 類別已設計成可進行有效率的電腦內部通訊，也就是說，它可以用在執行於同一電腦的處理序，雖然您也可以在同一網路中的兩台電腦之間建立具名管道通道。</span><span class="sxs-lookup"><span data-stu-id="087d6-175">The <xref:System.ServiceModel.NetNamedPipeBinding> class is designed for efficient intra-machine communication; that is, for processes running on the same computer, although named pipe channels can be created between two computers on the same network.</span></span> <span data-ttu-id="087d6-176">這個繫結只能提供傳輸層級安全性。</span><span class="sxs-lookup"><span data-stu-id="087d6-176">This binding provides only transport-level security.</span></span> <span data-ttu-id="087d6-177">當建立使用這個繫結的應用程式時，其端點位址必須包含 "net.pipe" 做為端點位址的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="087d6-177">When creating applications using this binding, the endpoint addresses must include "net.pipe" as the protocol of the endpoint address.</span></span>  
  
## <a name="wsfederationhttpbinding"></a><span data-ttu-id="087d6-178">WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-178">WSFederationHttpBinding</span></span>  
 <span data-ttu-id="087d6-179">使用傳輸安全性時，這個繫結會使用透過 HTTP 的 SSL (即所謂的 HTTPS) 和已發行的權杖 (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>)。</span><span class="sxs-lookup"><span data-stu-id="087d6-179">When using transport security, this binding uses SSL over HTTP, known as HTTPS with an issued token (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>).</span></span> <span data-ttu-id="087d6-180">如需有關同盟的應用程式的詳細資訊，請參閱[聯合與發行權杖](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md)。</span><span class="sxs-lookup"><span data-stu-id="087d6-180">For more information about federation applications, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="netpeertcpbinding"></a><span data-ttu-id="087d6-181">NetPeerTcpBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-181">NetPeerTcpBinding</span></span>  
 <span data-ttu-id="087d6-182"><xref:System.ServiceModel.NetPeerTcpBinding> 類別是設計成可使用對等網路功能來進行有效通訊的安全傳輸。</span><span class="sxs-lookup"><span data-stu-id="087d6-182">The <xref:System.ServiceModel.NetPeerTcpBinding> class is a secure transport that is designed for efficient communication using the peer-to-peer networking feature.</span></span> <span data-ttu-id="087d6-183">從類別和繫結名稱可看出，TCP 是一種通訊協定。</span><span class="sxs-lookup"><span data-stu-id="087d6-183">As indicated by the name of the class and binding, TCP is the protocol.</span></span> <span data-ttu-id="087d6-184">當安全性模式設定為傳輸時，繫結會透過 TCP 實作 TLS。</span><span class="sxs-lookup"><span data-stu-id="087d6-184">When the security mode is set to Transport, the binding implements TLS over TCP.</span></span> <span data-ttu-id="087d6-185">如需端對端功能的詳細資訊，請參閱[對等網路](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md)。</span><span class="sxs-lookup"><span data-stu-id="087d6-185">For more information about the peer-to-peer feature, see [Peer-to-Peer Networking](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-netmsmqbinding"></a><span data-ttu-id="087d6-186">MsmqIntegrationBinding 和 NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="087d6-186">MsmqIntegrationBinding and NetMsmqBinding</span></span>  
 <span data-ttu-id="087d6-187">如需傳輸的完整討論安全性與訊息佇列 （先前稱為 MSMQ），請參閱[保護訊息使用傳輸安全性](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md)。</span><span class="sxs-lookup"><span data-stu-id="087d6-187">For a complete discussion of transport security with Message Queuing (previously called MSMQ), see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="087d6-188">另請參閱</span><span class="sxs-lookup"><span data-stu-id="087d6-188">See also</span></span>

- [<span data-ttu-id="087d6-189">WCF 安全性程式設計</span><span class="sxs-lookup"><span data-stu-id="087d6-189">Programming WCF Security</span></span>](../../../../docs/framework/wcf/feature-details/programming-wcf-security.md)
