---
title: WCF 的事件記錄
ms.date: 03/30/2017
helpviewer_keywords:
- event logging [WCF]
ms.assetid: aac0530d-f44c-45a1-bada-e30e0677b41f
ms.openlocfilehash: 2dd4f82e8a100074850b21d298e91dc5dc15c59d
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "61999254"
---
# <a name="event-logging-in-wcf"></a><span data-ttu-id="21732-102">WCF 的事件記錄</span><span class="sxs-lookup"><span data-stu-id="21732-102">Event Logging in WCF</span></span>
<span data-ttu-id="21732-103">Windows Communication Foundation (WCF) 追蹤 Windows 事件記錄檔中的內部事件。</span><span class="sxs-lookup"><span data-stu-id="21732-103">Windows Communication Foundation (WCF) traces internal events in the Windows event log.</span></span>  
  
## <a name="viewing-event-logs"></a><span data-ttu-id="21732-104">檢視事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="21732-104">Viewing Event Logs</span></span>  
 <span data-ttu-id="21732-105">根據預設會自動啟用事件記錄，且沒有機制可停用它。</span><span class="sxs-lookup"><span data-stu-id="21732-105">Event logging is enabled automatically by default, and there is no mechanism to disable it.</span></span> <span data-ttu-id="21732-106">可以使用 事件檢視器來檢視由 WCF 所記錄的事件。</span><span class="sxs-lookup"><span data-stu-id="21732-106">Events logged by WCF can be viewed using the Event Viewer.</span></span> <span data-ttu-id="21732-107">若要啟動此工具，請按一下**開始**，按一下**控制台**，按兩下**系統管理工具**，然後按兩下**事件檢視器**.</span><span class="sxs-lookup"><span data-stu-id="21732-107">To launch this tool, click **Start**, click **Control Panel**, double-click **Administrative Tools**, and then double-click **Event Viewer**.</span></span>  
  
### <a name="application-event-log"></a><span data-ttu-id="21732-108">應用程式事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="21732-108">Application Event Log</span></span>  
 <span data-ttu-id="21732-109">**應用程式事件記錄檔**包含大部分的 WCF 所產生的事件。</span><span class="sxs-lookup"><span data-stu-id="21732-109">The **Application Event Log** contains most of the events generated by WCF.</span></span> <span data-ttu-id="21732-110">大部分的項目都指出應用程式的特定功能無法啟動。</span><span class="sxs-lookup"><span data-stu-id="21732-110">Most of the entries indicate that a particular feature failed to start up for an application.</span></span> <span data-ttu-id="21732-111">範例包括：</span><span class="sxs-lookup"><span data-stu-id="21732-111">Examples include:</span></span>  
  
- <span data-ttu-id="21732-112">訊息記錄/追蹤：追蹤和訊息記錄失敗時，WCF 會將事件寫入事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="21732-112">Message Logging/tracing: WCF writes an event to the event log when trace and message logging fails.</span></span> <span data-ttu-id="21732-113">然而，並不是每次追蹤失敗都會觸發事件。</span><span class="sxs-lookup"><span data-stu-id="21732-113">However, not every trace failure triggers an event.</span></span> <span data-ttu-id="21732-114">若要避免事件記錄檔全部填滿追蹤失敗，WCF 會實作 10 分鐘的停機期間，這類事件。</span><span class="sxs-lookup"><span data-stu-id="21732-114">To prevent the event log from being completely filled with traces failures, WCF implements a 10 minute blackout period for such an event.</span></span> <span data-ttu-id="21732-115">這表示，如果 WCF 追蹤失敗寫入事件記錄檔時，都不會同樣至少 10 分鐘的時間。</span><span class="sxs-lookup"><span data-stu-id="21732-115">This means that if WCF writes a trace failure to the event log, it will not do so again for at least 10 minutes.</span></span>  
  
- <span data-ttu-id="21732-116">共用接聽項：WCF TCP Port Sharing Service 會記錄事件時無法啟動。</span><span class="sxs-lookup"><span data-stu-id="21732-116">Shared Listener: The WCF TCP Port Sharing Service logs an event when it fails to start.</span></span>  
  
- [!INCLUDE[infocard](../../../../../includes/infocard-md.md)]<span data-ttu-id="21732-117">：當服務無法啟動的事件記錄。</span><span class="sxs-lookup"><span data-stu-id="21732-117">: Logs events when the service fails to start.</span></span>  
  
- <span data-ttu-id="21732-118">嚴重和錯誤事件，例如啟動失敗或當機</span><span class="sxs-lookup"><span data-stu-id="21732-118">Critical and error events, such as startup failures or crashes</span></span>  
  
- <span data-ttu-id="21732-119">開啟訊息記錄：開啟訊息記錄時的事件記錄。</span><span class="sxs-lookup"><span data-stu-id="21732-119">Message logging turned on: Logs events when message logging is turned on.</span></span> <span data-ttu-id="21732-120">這是要通知系統管理員，訊息標頭和本文中可能記錄了機密、應用程式特定的資訊。</span><span class="sxs-lookup"><span data-stu-id="21732-120">This is to notify the administrator that sensitive, application-specific information may be logged in message headers and bodies.</span></span>  
  
- <span data-ttu-id="21732-121">當設定 `enableLoggingKnownPII` 檔案之 `machineSettings` 項目中的 `machine.config` 屬性時，就會記錄事件。</span><span class="sxs-lookup"><span data-stu-id="21732-121">An event is logged when the `enableLoggingKnownPII` attribute in the `machineSettings` element of the `machine.config` file is set.</span></span> <span data-ttu-id="21732-122">這個屬性會指定是否允許任何在電腦上執行的應用程式記錄已知的個人可識別資訊 (PII)。</span><span class="sxs-lookup"><span data-stu-id="21732-122">This attribute specifies if any application running on the machine is permitted to log known personally identifiable information (PII).</span></span>  
  
- <span data-ttu-id="21732-123">如果 `logKnownPii` 或 `app.config` 檔案中的 `web.config` 屬性設定為 `true`，以便讓特定應用程式開啟 PII 記錄，但是 `enableLoggingKnownPII` 檔案之 `machineSettings` 項目中的 `machine.config` 屬性設定為 `false`，便會記錄事件。</span><span class="sxs-lookup"><span data-stu-id="21732-123">If the `logKnownPii` attribute in either the `app.config` or `web.config` file is set to `true` for a specific application to turn on PII logging, but the `enableLoggingKnownPII` attribute in the `machineSettings` element of the `machine.config` file is set to `false`, an event is logged.</span></span> <span data-ttu-id="21732-124">此外，如果 `logKnownPii` 和 `enableLoggingKnownPII` 都設定為 `true`，便會記錄事件。</span><span class="sxs-lookup"><span data-stu-id="21732-124">In addition, if both `logKnownPii` and `enableLoggingKnownPII` are set to `true`, and event is logged.</span></span> <span data-ttu-id="21732-125">如需有關這些組態設定的詳細資訊，請參閱下的 [安全性] 區段[設定訊息記錄](../../../../../docs/framework/wcf/diagnostics/configuring-message-logging.md)主題。</span><span class="sxs-lookup"><span data-stu-id="21732-125">For more information on these configuration settings, see the Security section of the [Configuring Message Logging](../../../../../docs/framework/wcf/diagnostics/configuring-message-logging.md) topic.</span></span>  
  
### <a name="security-event-log"></a><span data-ttu-id="21732-126">安全性事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="21732-126">Security Event Log</span></span>  
 <span data-ttu-id="21732-127">**安全性事件記錄檔**包含由 WCF 記錄的安全性稽核事件。</span><span class="sxs-lookup"><span data-stu-id="21732-127">The **Security Event Log** contains security audit events that are logged by WCF.</span></span>  
  
### <a name="system-event-log"></a><span data-ttu-id="21732-128">系統事件記錄檔</span><span class="sxs-lookup"><span data-stu-id="21732-128">System Event Log</span></span>  
 <span data-ttu-id="21732-129">WCF 不會記錄任何項目**系統事件記錄檔**。</span><span class="sxs-lookup"><span data-stu-id="21732-129">WCF does not log anything in the **System Event Log**.</span></span>  
  
### <a name="event-log-entries"></a><span data-ttu-id="21732-130">事件記錄檔項目</span><span class="sxs-lookup"><span data-stu-id="21732-130">Event Log Entries</span></span>  
 <span data-ttu-id="21732-131">**來源**事件是產生記錄項目之組件的名稱。</span><span class="sxs-lookup"><span data-stu-id="21732-131">The **source** of an event is the name of the assembly that generates the log entry.</span></span>  
  
 <span data-ttu-id="21732-132">事件記錄檔項目的型別是用於指出事件的嚴重性。</span><span class="sxs-lookup"><span data-stu-id="21732-132">The type of an event log entry is used to indicate the severity of an event.</span></span> <span data-ttu-id="21732-133">每個事件必須是單一型別，應用程式會在報告事件時指出。</span><span class="sxs-lookup"><span data-stu-id="21732-133">Each event must be of a single type, which the application indicates when it reports the event.</span></span> <span data-ttu-id="21732-134">事件檢視器會使用這個型別判斷要在記錄檔的清單檢視中顯示哪個圖示。</span><span class="sxs-lookup"><span data-stu-id="21732-134">The Event Viewer uses this type to determine which icon to display in the list view of the log.</span></span> <span data-ttu-id="21732-135">如需有關事件記錄檔項目的不同事件型別，請參閱 <xref:System.Diagnostics.EventLogEntryType>。</span><span class="sxs-lookup"><span data-stu-id="21732-135">For the different event type of an event log entry, see <xref:System.Diagnostics.EventLogEntryType>.</span></span>  
  
 <span data-ttu-id="21732-136">當您按一下 [詳細資訊] 時在事件檢視器中檢視事件，事件檢視器可能會透過網際網路傳送資訊。</span><span class="sxs-lookup"><span data-stu-id="21732-136">When you click "more information" when viewing an event in the Event Viewer, the Event Viewer may send information across the Internet.</span></span> <span data-ttu-id="21732-137">如需詳細資訊，請參閱「事件檢視器」的說明。</span><span class="sxs-lookup"><span data-stu-id="21732-137">For more information, see the Event Viewer help.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="21732-138">另請參閱</span><span class="sxs-lookup"><span data-stu-id="21732-138">See also</span></span>

- [<span data-ttu-id="21732-139">管理與診斷</span><span class="sxs-lookup"><span data-stu-id="21732-139">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)
- [<span data-ttu-id="21732-140">事件一般參考</span><span class="sxs-lookup"><span data-stu-id="21732-140">Events General Reference</span></span>](../../../../../docs/framework/wcf/diagnostics/event-logging/events-general-reference.md)
