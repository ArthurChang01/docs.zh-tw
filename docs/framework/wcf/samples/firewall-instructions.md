---
title: 防火牆指示
ms.date: 03/30/2017
ms.assetid: a7dc429f-65ac-4faf-974a-77d5fb977fe1
ms.openlocfilehash: 06e5ba64ab0ec3558e4c773c9cb21f961384e0c9
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/28/2019
ms.locfileid: "64650046"
---
# <a name="firewall-instructions"></a>防火牆指示
您必須啟用數個連接埠或程式在防火牆中的，讓 Windows Communication Foundation (WCF) 範例才能運作。 許多範例都使用範圍 8000-8003 中的連接埠以及連接埠 9000 進行通訊。 防火牆預設為開啟狀態，可防止對這些連接埠的存取。 若要為範例啟用防火牆，請視您的需求和安全性環境，完成下列其中一個程序：  
  
- 選項 1：以互動方式，讓範例執行時。 不要對您的防火牆組態進行任何進階變更，並開始建置與執行範例。 執行範例時， **Windows 安全性警訊** 對話方塊隨即出現。 接著，您就可以互動方式將範例新增至解除封鎖清單中。 使用這個程序時，您可能必須重新啟動範例。  
  
- 選項 2：事先啟用範例程式。 開始**Windows 防火牆控制台** applet，並啟用的範例程式您計劃執行。 您必須先建置程式，讓可執行檔存在。 接下來的程序中有更詳細的指示。  
  
- 選項 3:事先啟用連接埠範圍。 開始**Windows 防火牆****控制台** applet，並啟用連接埠 80、 443、 8000-8003 和 9000，所使用的範例。 接下來的程序中有更詳細的指示。 這個選項的安全性最低，因為除了範例以外，它也允許其他程式使用這些連接埠。  
  
 如果您不確定要使用哪一個程序，請選擇第一個選項。 如果您執行的是其他廠商的防火牆，可能必須進行類似的變更。  
  
> [!IMPORTANT]
>  變更防火牆組態會影響您的安全性。 建議您記下所做的變更，然後在使用完範例後，將這些變更移除。  
  
### <a name="to-enable-samples-programs-in-advance"></a>若要事先啟用範例程式  
  
1. 建置 (Build) 範例。  
  
2. 按一下 **開始**，按一下**執行**，然後輸入`firewall.cpl`。 這會開啟**Windows 防火牆控制台**小程式。  
  
    > [!NOTE]
    >  您必須擁有變更防火牆設定的權限，才能執行需要透過 Windows 防火牆進行通訊之能力的範例。 如果無法使用某些防火牆設定，而且您的電腦已連線至某個網域，表示您的系統管理員可能正在透過「群組原則」控制這些設定。  
  
3. 完成下列其中一個特定操作步驟，以允許程式通過 Windows 防火牆：  
  
    - 在 Windows 7 或 Windows Server 2008 r2 上，按一下**允許程式或功能通過 Windows 防火牆**。 按一下 **變更設定**，允許**另一個程式...**.  
  
    - 在 [!INCLUDE[wv](../../../../includes/wv-md.md)]或是[!INCLUDE[lserver](../../../../includes/lserver-md.md)]，按一下**允許程式通過 Windows 防火牆**。  
  
4. 在 **例外狀況**索引標籤上，按一下**新增程式**。  
  
5. 按一下 **瀏覽**按鈕，然後選取您打算執行此範例可執行檔。  
  
6. 重複步驟 4 和 5，直到您已新增所有您計劃執行這些範例可執行檔。  
  
7. 按一下 **確定**關閉防火牆 applet。  
  
### <a name="to-enable-a-port-range-in-advance"></a>若要事先啟用連接埠範圍  
  
1. 按一下 **開始**，按一下**執行**，然後輸入`firewall.cpl`。 這會開啟**Windows 防火牆控制台**小程式。  
  
2. 在 Windows 7 或 Windows Server 2008 R2 上，按照以下步驟進行。  
  
    1. 按一下 **進階設定**Windows 防火牆 視窗的左資料行中。  
  
    2. 按一下 **輸入規則**左側資料行中。  
  
    3. 按一下 **新的規則**右側的資料行中。  
  
    4. 選取 [**連接埠**然後按一下**下一步]**。  
  
    5. 選取  **TCP** ，然後輸入`8000, 8001, 8002, 8003, 9000, 80, 443`中**特定本機連接埠**欄位。  
  
    6. 按 [ **下一步**]。  
  
    7. 選取 [**允許連線**，然後按一下**下一步]** 。  
  
    8. 選取**網域**並**私人**，然後按一下**下一步**。  
  
    9. 此規則命名`WCF-WF 4.0 Samples`，然後按一下**完成**。  
  
    10. 按一下 **輸出規則**並重複步驟 c 到 h。  
  
3. 在 [!INCLUDE[wv](../../../../includes/wv-md.md)] 或 [!INCLUDE[lserver](../../../../includes/lserver-md.md)] 上，按照以下步驟進行。  
  
    1. 按一下 **允許程式通過 Windows 防火牆**。  
  
    2. 在 **例外狀況**索引標籤上，按一下**新增連接埠**。  
  
    3. 輸入名稱，輸入 8000 做為連接埠號碼，然後選取**TCP**選項。  
  
    4. 按一下 **變更領域**按鈕，選取**我的網路**（子網路） 的唯一選項，然後按一下 **確定**。  
  
    5. 為連接埠 8001、8002、8003、9000、80 和 443 重複步驟 b 到 d。  
  
4. 按一下 **確定**關閉防火牆 applet。  
  
> [!NOTE]
>  當您使用完範例時，請移除任何防火牆例外狀況。 若要這樣做，請開啟**Windows 防火牆控制台**小程式並移除任何程式或連接埠先前程序所加入的項目。
