---
title: Windows Communication Foundation 教學課程入門疑難排解
ms.date: 01/25/2019
ms.assetid: 69a21511-0871-4c41-9a53-93110e84d7fd
ms.openlocfilehash: 10a2f8f718d802a7aab067b882f0d5cf3dc28dca
ms.sourcegitcommit: 33c8d6f7342a4bb2c577842b7f075b0e20a2fa40
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/12/2019
ms.locfileid: "70928571"
---
# <a name="troubleshoot-the-get-started-with-windows-communication-foundation-tutorials"></a><span data-ttu-id="357cf-102">Windows Communication Foundation 教學課程入門疑難排解</span><span class="sxs-lookup"><span data-stu-id="357cf-102">Troubleshoot the Get started with Windows Communication Foundation tutorials</span></span>

<span data-ttu-id="357cf-103">本文提供您在遵循[教學課程中的步驟時可能面臨的最常見問題和錯誤的解決方案：Windows Communication Foundation 應用程式](getting-started-tutorial.md)入門。</span><span class="sxs-lookup"><span data-stu-id="357cf-103">This article provides solutions for the most common problems and errors you might face when you follow the steps in the [Tutorial: Get started with Windows Communication Foundation applications](getting-started-tutorial.md).</span></span> 
  
## <a name="common-problems"></a><span data-ttu-id="357cf-104">常見問題</span><span class="sxs-lookup"><span data-stu-id="357cf-104">Common problems</span></span>

<span data-ttu-id="357cf-105">**我在硬碟上找不到專案檔。**</span><span class="sxs-lookup"><span data-stu-id="357cf-105">**I can't find the project files on my hard drive.**</span></span>

 <span data-ttu-id="357cf-106">Visual Studio 會將專案檔儲存在 *\\C:\Users&gt; &lt;使用者名稱 \source\repos*中。</span><span class="sxs-lookup"><span data-stu-id="357cf-106">Visual Studio saves project files in *C:\Users\\&lt;user name&gt;\source\repos*.</span></span>  

<span data-ttu-id="357cf-107">**我找不到*Svcutil\* *產生的 app.config*檔案。*\*</span><span class="sxs-lookup"><span data-stu-id="357cf-107">**I can't find the *App.config* file generated by *Svcutil.exe*.**</span></span>

 <span data-ttu-id="357cf-108">在 Visual Studio 中，[**加入現有專案**] 視窗預設只會顯示具有下列副檔名的檔案：</span><span class="sxs-lookup"><span data-stu-id="357cf-108">In Visual Studio, the **Add Existing Item** window only displays files with the following extensions by default:</span></span> 

- <span data-ttu-id="357cf-109">*.cs*</span><span class="sxs-lookup"><span data-stu-id="357cf-109">*.cs*</span></span> 
- <span data-ttu-id="357cf-110">*.resx*</span><span class="sxs-lookup"><span data-stu-id="357cf-110">*.resx*</span></span> 
- <span data-ttu-id="357cf-111">*.settings*</span><span class="sxs-lookup"><span data-stu-id="357cf-111">*.settings*</span></span>
- <span data-ttu-id="357cf-112">*.xsd*</span><span class="sxs-lookup"><span data-stu-id="357cf-112">*.xsd*</span></span> 
- <span data-ttu-id="357cf-113">*.wsdl*</span><span class="sxs-lookup"><span data-stu-id="357cf-113">*.wsdl*</span></span>

<span data-ttu-id="357cf-114">若要顯示所有檔案類型，請選取 **的所有檔案 (\*。\*)** 右下角的下拉式清單中**加入現有項目**視窗。</span><span class="sxs-lookup"><span data-stu-id="357cf-114">To display all file types, select **All Files (\*.\*)** in the drop-down list in the lower-right corner of the **Add Existing Item** window.</span></span>  
  
## <a name="common-errors"></a><span data-ttu-id="357cf-115">常見的錯誤</span><span class="sxs-lookup"><span data-stu-id="357cf-115">Common errors</span></span>

### <a name="compile-the-service-application"></a><span data-ttu-id="357cf-116">編譯服務應用程式</span><span class="sxs-lookup"><span data-stu-id="357cf-116">Compile the service application</span></span> 

<span data-ttu-id="357cf-117">**在 ' GettingStartedHost ' 中找不到錯誤 BC30420 ' Sub Main '。**</span><span class="sxs-lookup"><span data-stu-id="357cf-117">**Error BC30420 'Sub Main' was not found in 'GettingStartedHost.Module1'.**</span></span>

<span data-ttu-id="357cf-118">Visual Basic 應用程式的進入點不正確。</span><span class="sxs-lookup"><span data-stu-id="357cf-118">The entry point is incorrect for the Visual Basic application.</span></span> <span data-ttu-id="357cf-119">進行下列變更：</span><span class="sxs-lookup"><span data-stu-id="357cf-119">Make the following change:</span></span>

   1. <span data-ttu-id="357cf-120">在 [**方案總管**] 視窗中，選取 [ **GettingStartedHost** ] 資料夾，然後從快捷方式功能表選取 [**屬性**]。</span><span class="sxs-lookup"><span data-stu-id="357cf-120">In the **Solution Explorer** window, select the **GettingStartedHost** folder, and then select **Properties** from the shortcut menu.</span></span>
    <span data-ttu-id="357cf-121">a.</span><span class="sxs-lookup"><span data-stu-id="357cf-121">a.</span></span> <span data-ttu-id="357cf-122">在 [ **GettingStartedHost** ] 視窗中，針對 [**啟始物件**]，從清單中選取 [**服務**] （或特定應用程式的進入點）。</span><span class="sxs-lookup"><span data-stu-id="357cf-122">In the **GettingStartedHost** window, for **Startup object**, select **Service.Program** (or the entry point for your particular application) from the list.</span></span> 
    <span data-ttu-id="357cf-123">b.</span><span class="sxs-lookup"><span data-stu-id="357cf-123">b.</span></span> <span data-ttu-id="357cf-124">從主功能表中 **，選取** > [檔案] [**全部儲存**]。</span><span class="sxs-lookup"><span data-stu-id="357cf-124">From the main menu, select **File** > **Save All**.</span></span>

### <a name="run-the-service-application"></a><span data-ttu-id="357cf-125">執行服務應用程式</span><span class="sxs-lookup"><span data-stu-id="357cf-125">Run the service application</span></span> 

<span data-ttu-id="357cf-126">**Http 無法註冊 URL ' HTTP：\//+： 8000/GettingStarted/CalculatorService '。您的處理程序沒有足夠的存取權可存取此命名空間。**</span><span class="sxs-lookup"><span data-stu-id="357cf-126">**HTTP could not register URL 'http:\//+:8000/GettingStarted/CalculatorService'. Your process does not have access rights to this namespace.**</span></span> 

 <span data-ttu-id="357cf-127">如需適當的存取權，請使用系統管理許可權啟動主控 Windows Communication Foundation （WCF）服務的進程：</span><span class="sxs-lookup"><span data-stu-id="357cf-127">For proper access, start the process hosting the Windows Communication Foundation (WCF) service with administrative privileges:</span></span>

- <span data-ttu-id="357cf-128">針對 Visual Studio：在 [**開始**] 功能表中選取 [Visual Studio] 程式，然後從快捷方式功能表選取 [**更多** > **以系統管理員身分執行**]。</span><span class="sxs-lookup"><span data-stu-id="357cf-128">For Visual Studio: Select the Visual Studio program in the **Start** menu, and then select **More** > **Run as administrator** from the shortcut menu.</span></span>
- <span data-ttu-id="357cf-129">主控台視窗：在 [**開始**] 功能表中選取 [**命令提示**字元]，然後從快捷方式功能表選取 [**更多** > 以**系統管理員身分執行**]。</span><span class="sxs-lookup"><span data-stu-id="357cf-129">For a console window: Select **Command Prompt** in the **Start** menu, and then select **More** > **Run As administrator** from the shortcut menu.</span></span>
- <span data-ttu-id="357cf-130">若為 Windows Explorer：選取可執行檔，然後從快捷方式功能表選取 [**以系統管理員身分執行**]。</span><span class="sxs-lookup"><span data-stu-id="357cf-130">For Windows Explorer: Select the executable, and then select **Run as administrator** from the shortcut menu.</span></span>

### <a name="compile-the-client-application"></a><span data-ttu-id="357cf-131">編譯用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="357cf-131">Compile the client application</span></span>

<span data-ttu-id="357cf-132">**' CalculatorClient ' 未包含 '\<method name > ' 的定義，而且找不到擴充\<方法的方法名稱 > ' 接受 ' CalculatorClient ' 類型的第一個引數（您是否遺漏 using 指示詞或元件參考？）**</span><span class="sxs-lookup"><span data-stu-id="357cf-132">**'CalculatorClient', does not contain a definition for '\<method name>' and no extension method '\<method name>' accepting a first argument of type 'CalculatorClient' could be found (are you missing a using directive or an assembly reference?)**</span></span>  

<span data-ttu-id="357cf-133">只有使用`ServiceOperationAttribute`屬性標記的方法才會公開。</span><span class="sxs-lookup"><span data-stu-id="357cf-133">Only those methods that you mark with the `ServiceOperationAttribute` attribute are publically exposed.</span></span> <span data-ttu-id="357cf-134">如果您從`ICalculator`介面`ServiceOperationAttribute`中的方法省略屬性，在編譯期間就會收到這個錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="357cf-134">If you omit the `ServiceOperationAttribute` attribute from a method in the `ICalculator` interface, you receive this error message during compilation.</span></span>  

<span data-ttu-id="357cf-135">**找不到類型或命名空間名稱 ' CalculatorClient ' （您是否遺漏 using 指示詞或元件參考？）**</span><span class="sxs-lookup"><span data-stu-id="357cf-135">**The type or namespace name 'CalculatorClient' could not be found (are you missing a using directive or an assembly reference?)**</span></span>

 <span data-ttu-id="357cf-136">如果您在使用*Svcutil*來產生用戶端專案時，未將*GeneratedProxy.cs* （或*generatedProxy*）檔案新增至該檔案，就會收到這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="357cf-136">You receive this error if you don't add the *generatedProxy.cs* (or *generatedProxy.vb*) file to your client project when you generated them with the *Svcutil.exe* tool.</span></span>  

### <a name="run-the-client-application"></a><span data-ttu-id="357cf-137">執行用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="357cf-137">Run the client application</span></span>

<span data-ttu-id="357cf-138">**未處理的例外狀況：System.ServiceModel.EndpointNotFoundException:無法連接到 ' HTTP：\//localhost： 8000/GettingStarted/CalculatorService '。TCP 錯誤碼10061：無法連線，因為目的電腦主動拒絕該連接。**</span><span class="sxs-lookup"><span data-stu-id="357cf-138">**Unhandled Exception: System.ServiceModel.EndpointNotFoundException: Could not connect to 'http:\//localhost:8000/GettingStarted/CalculatorService'. TCP error code 10061: No connection could be made because the target machine actively refused it.**</span></span>

<span data-ttu-id="357cf-139">如果您在未先啟動服務的情況下執行用戶端應用程式，就會發生這個錯誤。</span><span class="sxs-lookup"><span data-stu-id="357cf-139">This error occurs if you run the client application without first starting the service.</span></span> <span data-ttu-id="357cf-140">首先，執行主應用程式以啟動服務，然後執行用戶端應用程式。</span><span class="sxs-lookup"><span data-stu-id="357cf-140">First, run the host application to start the service, and then run the client application.</span></span>

### <a name="use-the-svcutilexe-tool"></a><span data-ttu-id="357cf-141">使用 Svcutil 工具</span><span class="sxs-lookup"><span data-stu-id="357cf-141">Use the Svcutil.exe tool</span></span>
   
<span data-ttu-id="357cf-142">**' Svcutil ' 未辨識為內部或外部命令、可運作的程式或批次檔。**</span><span class="sxs-lookup"><span data-stu-id="357cf-142">**'Svcutil' is not recognized as an internal or external command, operable program, or batch file.**</span></span>

 <span data-ttu-id="357cf-143">*Svcutil*必須位於系統路徑中。</span><span class="sxs-lookup"><span data-stu-id="357cf-143">*Svcutil.exe* must be in the system path.</span></span> <span data-ttu-id="357cf-144">最簡單的解決方案是使用 Visual Studio 命令提示字元。</span><span class="sxs-lookup"><span data-stu-id="357cf-144">The easiest solution is to use the Visual Studio command prompt.</span></span> <span data-ttu-id="357cf-145">從 [**開始**] 功能表中，**選取\<Visual Studio 版本 >** 目錄，然後選取 [**開發人員命令提示字元\<以取得 VS 版本 >** ]。</span><span class="sxs-lookup"><span data-stu-id="357cf-145">From the **Start** menu, select the **Visual Studio \<version>** directory, then select **Developer Command Prompt for VS \<version>**.</span></span> <span data-ttu-id="357cf-146">此命令提示字元會將系統路徑設為 Visual Studio 中隨附之所有工具的正確位置。</span><span class="sxs-lookup"><span data-stu-id="357cf-146">This command prompt sets the system path to the correct locations for all tools shipped as part of Visual Studio.</span></span>  
  
### <a name="run-the-service-and-client-applications"></a><span data-ttu-id="357cf-147">執行服務和用戶端應用程式</span><span class="sxs-lookup"><span data-stu-id="357cf-147">Run the service and client applications</span></span>

<span data-ttu-id="357cf-148">**System.ServiceModel.Security.SecurityNegotiationException:目標 ' HTTP：\/ \//localhost： 8000/GettingStarted/CalculatorService ' 的 SOAP 安全性協調與 ' HTTP：/localhost： 8000/GettingStarted/CalculatorService ' 失敗**</span><span class="sxs-lookup"><span data-stu-id="357cf-148">**System.ServiceModel.Security.SecurityNegotiationException: SOAP security negotiation with 'http:\//localhost:8000/GettingStarted/CalculatorService' for target 'http:\//localhost:8000/GettingStarted/CalculatorService' failed**</span></span>  

<span data-ttu-id="357cf-149">如果加入網域的電腦沒有網路連線，就會發生此錯誤。</span><span class="sxs-lookup"><span data-stu-id="357cf-149">This error occurs on a domain-joined computer that doesn't have network connectivity.</span></span> <span data-ttu-id="357cf-150">將您的電腦連線到網路，或關閉服務和用戶端的安全性。</span><span class="sxs-lookup"><span data-stu-id="357cf-150">Connect your computer to the network or turn off security for both the service and the client.</span></span> 

<span data-ttu-id="357cf-151">若要關閉安全性：</span><span class="sxs-lookup"><span data-stu-id="357cf-151">To turn off security:</span></span>

- <span data-ttu-id="357cf-152">針對服務，請將建立的`WSHttpBinding`程式碼取代為下列程式碼：</span><span class="sxs-lookup"><span data-stu-id="357cf-152">For the service, replace the code that creates the `WSHttpBinding` with the following code:</span></span>  
  
    ```csharp
    // Step 3: Add a service endpoint.
    selfhost.AddServiceEndpoint(typeof(ICalculator), new WSHttpBinding(SecurityMode.None), "CalculatorService");  
    ```

- <span data-ttu-id="357cf-153">用戶端組態檔中，更新 **\<安全性>** 項目底下 **\<繫結>** 項目，如下所示：</span><span class="sxs-lookup"><span data-stu-id="357cf-153">For the client, in the configuration file, update the **\<security>** element under the **\<binding>** element as follows:</span></span>  
  
    ```xml
    <binding name="WSHttpBinding_ICalculator" security mode="None" />
    ```  

## <a name="see-also"></a><span data-ttu-id="357cf-154">另請參閱</span><span class="sxs-lookup"><span data-stu-id="357cf-154">See also</span></span>  
 [<span data-ttu-id="357cf-155">WCF 應用程式入門</span><span class="sxs-lookup"><span data-stu-id="357cf-155">Get started with WCF applications</span></span>](getting-started-tutorial.md)  
 [<span data-ttu-id="357cf-156">WCF 疑難排解快速入門</span><span class="sxs-lookup"><span data-stu-id="357cf-156">WCF troubleshooting quickstart</span></span>](wcf-troubleshooting-quickstart.md)  
 [<span data-ttu-id="357cf-157">疑難排解安裝程式問題</span><span class="sxs-lookup"><span data-stu-id="357cf-157">Troubleshooting setup issues</span></span>](troubleshooting-setup-issues.md)
