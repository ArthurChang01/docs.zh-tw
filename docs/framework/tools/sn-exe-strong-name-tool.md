---
title: Sn.exe (強式名稱工具)
ms.date: 03/30/2017
helpviewer_keywords:
- public keys, signing files
- Strong Name tool
- Sn.exe
- assemblies [.NET Framework], signing
- signing files
- strong-named assemblies, signing files
- key pairs for signing files
ms.assetid: c1d2b532-1b8e-4c7a-8ac5-53b801135ec6
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 127a059865250642c604288b0296b4152cf91f52
ms.sourcegitcommit: a36cfc9dbbfc04bd88971f96e8a3f8e283c15d42
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/11/2019
ms.locfileid: "54221644"
---
# <a name="snexe-strong-name-tool"></a><span data-ttu-id="48156-102">Sn.exe (強式名稱工具)</span><span class="sxs-lookup"><span data-stu-id="48156-102">Sn.exe (Strong Name Tool)</span></span>
<span data-ttu-id="48156-103">強式名稱工具 (Sn.exe) 可幫助您使用[強式名稱](../../../docs/framework/app-domains/strong-named-assemblies.md)簽署組件。</span><span class="sxs-lookup"><span data-stu-id="48156-103">The Strong Name tool (Sn.exe) helps sign assemblies with [strong names](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span> <span data-ttu-id="48156-104">Sn.exe 提供了金鑰管理、簽章產生和簽章驗證的選項。</span><span class="sxs-lookup"><span data-stu-id="48156-104">Sn.exe provides options for key management, signature generation, and signature verification.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="48156-105">請勿依賴強式名稱提供安全性。</span><span class="sxs-lookup"><span data-stu-id="48156-105">Do not rely on strong names for security.</span></span> <span data-ttu-id="48156-106">強式名稱僅提供唯一識別。</span><span class="sxs-lookup"><span data-stu-id="48156-106">They provide a unique identity only.</span></span>

 <span data-ttu-id="48156-107">如需強式命名和強式名稱組件的詳細資訊，請參閱[強式名稱的組件](../../../docs/framework/app-domains/strong-named-assemblies.md)和[如何：使用強式名稱簽署組件](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md)。</span><span class="sxs-lookup"><span data-stu-id="48156-107">For more information on strong naming and strong-named assemblies, see [Strong-Named Assemblies](../../../docs/framework/app-domains/strong-named-assemblies.md) and [How to: Sign an Assembly with a Strong Name](../../../docs/framework/app-domains/how-to-sign-an-assembly-with-a-strong-name.md).</span></span>  
  
 <span data-ttu-id="48156-108">強式名稱工具會隨 Visual Studio 自動安裝。</span><span class="sxs-lookup"><span data-stu-id="48156-108">The Strong Name tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="48156-109">若要啟動這項工具，請使用開發人員命令提示字元 (或 Windows 7 中的 Visual Studio 命令提示字元)。</span><span class="sxs-lookup"><span data-stu-id="48156-109">To start the tool, use the Developer Command Prompt (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="48156-110">如需詳細資訊，請參閱[命令提示字元](../../../docs/framework/tools/developer-command-prompt-for-vs.md)。</span><span class="sxs-lookup"><span data-stu-id="48156-110">For more information, see [Command Prompts](../../../docs/framework/tools/developer-command-prompt-for-vs.md).</span></span>  

> [!NOTE]
>  <span data-ttu-id="48156-111">在 64 位元電腦上，請使用 Visual Studio 開發人員命令提示字元執行 Sn.exe 的 32 位元版本，且使用 Visual Studio x64 Win64 命令提示字元執行 64 位元版本。</span><span class="sxs-lookup"><span data-stu-id="48156-111">On 64-bit computers, run the 32-bit version of Sn.exe by using the Developer Command Prompt for Visual Studio and the 64-bit version by using the Visual Studio x64 Win64 Command Prompt.</span></span> 
  
 <span data-ttu-id="48156-112">在命令提示字元下輸入下列命令：</span><span class="sxs-lookup"><span data-stu-id="48156-112">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="48156-113">語法</span><span class="sxs-lookup"><span data-stu-id="48156-113">Syntax</span></span>  
  
```  
sn [-quiet][option [parameter(s)]]  
```  
  
#### <a name="parameters"></a><span data-ttu-id="48156-114">參數</span><span class="sxs-lookup"><span data-stu-id="48156-114">Parameters</span></span>  
  
|<span data-ttu-id="48156-115">選項</span><span class="sxs-lookup"><span data-stu-id="48156-115">Option</span></span>|<span data-ttu-id="48156-116">說明</span><span class="sxs-lookup"><span data-stu-id="48156-116">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="48156-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="48156-117">**-a** *identityKeyPairFile* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="48156-118">產生 <xref:System.Reflection.AssemblySignatureKeyAttribute> 資料，將識別金鑰從檔案移轉到簽章金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-118">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a file.</span></span>|  
|<span data-ttu-id="48156-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span><span class="sxs-lookup"><span data-stu-id="48156-119">**-ac** *identityPublicKeyFile* *identityKeyPairContainer* *signaturePublicKeyFile*</span></span>|<span data-ttu-id="48156-120">產生 <xref:System.Reflection.AssemblySignatureKeyAttribute> 資料，將識別金鑰從金鑰容器移轉到簽章金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-120">Generates <xref:System.Reflection.AssemblySignatureKeyAttribute> data to migrate the identity key to the signature key from a key container.</span></span>|  
|<span data-ttu-id="48156-121">**-c** [*csp*]</span><span class="sxs-lookup"><span data-stu-id="48156-121">**-c** [*csp*]</span></span>|<span data-ttu-id="48156-122">設定預設的密碼編譯服務提供者 (CSP) 用於強式名稱簽署。</span><span class="sxs-lookup"><span data-stu-id="48156-122">Sets the default cryptographic service provider (CSP) to use for strong name signing.</span></span> <span data-ttu-id="48156-123">此設定會套用到整部電腦。</span><span class="sxs-lookup"><span data-stu-id="48156-123">This setting applies to the entire computer.</span></span> <span data-ttu-id="48156-124">如果您未指定 CSP 名稱，Sn.exe 會清除目前設定。</span><span class="sxs-lookup"><span data-stu-id="48156-124">If you do not specify a CSP name, Sn.exe clears the current setting.</span></span>|  
|<span data-ttu-id="48156-125">**-d** *container*</span><span class="sxs-lookup"><span data-stu-id="48156-125">**-d** *container*</span></span>|<span data-ttu-id="48156-126">從強式名稱 CSP 刪除指定的金鑰容器。</span><span class="sxs-lookup"><span data-stu-id="48156-126">Deletes the specified key container from the strong name CSP.</span></span>|  
|<span data-ttu-id="48156-127">**-D**  *assembly1 assembly2*</span><span class="sxs-lookup"><span data-stu-id="48156-127">**-D**  *assembly1 assembly2*</span></span>|<span data-ttu-id="48156-128">驗證兩個組件只有簽章不同。</span><span class="sxs-lookup"><span data-stu-id="48156-128">Verifies that two assemblies differ only by signature.</span></span> <span data-ttu-id="48156-129">通常在組件以不同的金鑰組重新簽署後，會使用這種方式進行檢查。</span><span class="sxs-lookup"><span data-stu-id="48156-129">This is often used as a check after an assembly has been re-signed with a different key pair.</span></span>|  
|<span data-ttu-id="48156-130">**-e**  *assembly outfile*</span><span class="sxs-lookup"><span data-stu-id="48156-130">**-e**  *assembly outfile*</span></span>|<span data-ttu-id="48156-131">從 *assembly* 擷取公開金鑰，然後將它存放到 *outfile* 中。</span><span class="sxs-lookup"><span data-stu-id="48156-131">Extracts the public key from *assembly* and stores it in *outfile.*</span></span>|  
|<span data-ttu-id="48156-132">**-h**</span><span class="sxs-lookup"><span data-stu-id="48156-132">**-h**</span></span>|<span data-ttu-id="48156-133">顯示工具的命令語法和選項。</span><span class="sxs-lookup"><span data-stu-id="48156-133">Displays command syntax and options for the tool.</span></span>|  
|<span data-ttu-id="48156-134">**-i** *infile container*</span><span class="sxs-lookup"><span data-stu-id="48156-134">**-i** *infile container*</span></span>|<span data-ttu-id="48156-135">從指定的金鑰容器 *infile* 安裝金鑰組。</span><span class="sxs-lookup"><span data-stu-id="48156-135">Installs the key pair from *infile* in the specified key container.</span></span> <span data-ttu-id="48156-136">金鑰容器位於強式名稱 CSP 內。</span><span class="sxs-lookup"><span data-stu-id="48156-136">The key container resides in the strong name CSP.</span></span>|  
|<span data-ttu-id="48156-137">**-k** [*keysize*] *outfile*</span><span class="sxs-lookup"><span data-stu-id="48156-137">**-k** [*keysize*] *outfile*</span></span>|<span data-ttu-id="48156-138">產生指定大小的新 <xref:System.Security.Cryptography.RSACryptoServiceProvider> 金鑰，並將它寫入指定的檔案中。</span><span class="sxs-lookup"><span data-stu-id="48156-138">Generates a new <xref:System.Security.Cryptography.RSACryptoServiceProvider> key of the specified size and writes it to the specified file.</span></span>  <span data-ttu-id="48156-139">公開和私密金鑰都會寫入檔案中。</span><span class="sxs-lookup"><span data-stu-id="48156-139">Both a public and private key are written to the file.</span></span><br /><br /> <span data-ttu-id="48156-140">如果您未指定金鑰大小，在已安裝 Microsoft 增強型密碼編譯提供者的情況下，預設會產生 1,024 位元的金鑰，否則會產生 512 位元的金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-140">If you do not specify a key size, a 1,024-bit key is generated by default if you have the Microsoft enhanced cryptographic provider installed; otherwise, a 512-bit key is generated.</span></span><br /><br /> <span data-ttu-id="48156-141">如果已安裝 Microsoft 增強型密碼編譯提供者，則 *keysize* 參數可支援的金鑰長度為從 384 位元至 16,384 位元，並以 8 位元為增量單位。</span><span class="sxs-lookup"><span data-stu-id="48156-141">The *keysize* parameter supports key lengths from 384 bits to 16,384 bits in increments of 8 bits if you have the Microsoft enhanced cryptographic provider installed.</span></span>  <span data-ttu-id="48156-142">如果您安裝的是 Microsoft 基底密碼編譯提供者，則該參數可支援的金鑰長度是從 384 位元到 512 位元，並以 8 位元為增量單位。</span><span class="sxs-lookup"><span data-stu-id="48156-142">It supports key lengths from 384 bits to 512 bits in increments of 8 bits if you have the Microsoft base cryptographic provider installed.</span></span>|  
|<span data-ttu-id="48156-143">**-m** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="48156-143">**-m** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="48156-144">指定金鑰容器是電腦專屬或使用者專屬。</span><span class="sxs-lookup"><span data-stu-id="48156-144">Specifies whether key containers are computer-specific, or user-specific.</span></span> <span data-ttu-id="48156-145">如果您指定 *y*，表示金鑰容器為電腦專屬。</span><span class="sxs-lookup"><span data-stu-id="48156-145">If you specify *y*, key containers are computer-specific.</span></span> <span data-ttu-id="48156-146">如果您指定 *n*，表示金鑰容器是使用者專屬。</span><span class="sxs-lookup"><span data-stu-id="48156-146">If you specify *n*, key containers are user-specific.</span></span><br /><br /> <span data-ttu-id="48156-147">如果 y 和 n 都沒有指定，則此選項會顯示目前設定。</span><span class="sxs-lookup"><span data-stu-id="48156-147">If neither y nor n is specified, this option displays the current setting.</span></span>|  
|<span data-ttu-id="48156-148">**-o**  *infile* [*outfile*]</span><span class="sxs-lookup"><span data-stu-id="48156-148">**-o**  *infile* [*outfile*]</span></span>|<span data-ttu-id="48156-149">從 *infile* 擷取公開金鑰，然後存放到 .csv 檔案中。</span><span class="sxs-lookup"><span data-stu-id="48156-149">Extracts the public key from the *infile* and stores it in a .csv file.</span></span> <span data-ttu-id="48156-150">公開金鑰的每一個位元組會以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="48156-150">A comma separates each byte of the public key.</span></span> <span data-ttu-id="48156-151">此格式對於將金鑰參考硬式編碼為原始程式碼中的初始化陣列而言很實用。</span><span class="sxs-lookup"><span data-stu-id="48156-151">This format is useful for hard-coding references to keys as initialized arrays in source code.</span></span> <span data-ttu-id="48156-152">如果您未指定 *outfile*，此選項會將輸出放置到 [剪貼簿]。</span><span class="sxs-lookup"><span data-stu-id="48156-152">If you do not specify an *outfile*, this option places the output on the Clipboard.</span></span> <span data-ttu-id="48156-153">**注意：** 此選項不會驗證輸入是否只是公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-153">**Note:**  This option does not verify that the input is only a public key.</span></span> <span data-ttu-id="48156-154">如果 `infile` 包含具有私密金鑰的金鑰組，則也會擷取該私密金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-154">If the `infile` contains a key pair with a private key, the private key is also extracted.</span></span>|  
|<span data-ttu-id="48156-155">**-p** *infile outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="48156-155">**-p** *infile outfile* [*hashalg*]</span></span>|<span data-ttu-id="48156-156">選擇性地使用 *hashalg* 指定的 RSA 演算法從 *infile* 中的金鑰組擷取公開金鑰，並將它儲存在 *outfile* 中。</span><span class="sxs-lookup"><span data-stu-id="48156-156">Extracts the public key from the key pair in *infile* and stores it in *outfile*, optionally using the RSA algorithm specified by *hashalg*.</span></span> <span data-ttu-id="48156-157">您可以使用[組件連結器 (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) 的 **/delaysign+** 和 **/keyfile** 選項，將這個公開金鑰用於延遲簽署組件。</span><span class="sxs-lookup"><span data-stu-id="48156-157">This public key can be used to delay-sign an assembly using the **/delaysign+** and **/keyfile** options of the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="48156-158">延遲簽署組件時，在編譯時期只會設定公開金鑰，而檔案中會為簽章保留空間，以便稍後知道私密金鑰時再加入簽章。</span><span class="sxs-lookup"><span data-stu-id="48156-158">When an assembly is delay-signed, only the public key is set at compile time and space is reserved in the file for the signature to be added later, when the private key is known.</span></span>|  
|<span data-ttu-id="48156-159">**-pc**  *container* *outfile* [*hashalg*]</span><span class="sxs-lookup"><span data-stu-id="48156-159">**-pc**  *container* *outfile* [*hashalg*]</span></span>|<span data-ttu-id="48156-160">從 *container* 中的金鑰組擷取公開金鑰，並且將它儲存在 *outfile* 中。</span><span class="sxs-lookup"><span data-stu-id="48156-160">Extracts the public key from the key pair in *container* and stores it in *outfile*.</span></span> <span data-ttu-id="48156-161">如果您使用 *hashalg* 選項，則會使用 RSA 演算法擷取公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-161">If you use the *hashalg* option, the RSA algorithm is used to extract the public key.</span></span>|  
|<span data-ttu-id="48156-162">**-Pb** [**y** *&#124;* **n**]</span><span class="sxs-lookup"><span data-stu-id="48156-162">**-Pb** [**y** *&#124;* **n**]</span></span>|<span data-ttu-id="48156-163">指定是否強制執行強式名稱略過原則。</span><span class="sxs-lookup"><span data-stu-id="48156-163">Specifies whether the strong-name bypass policy is enforced.</span></span> <span data-ttu-id="48156-164">如果指定 *y*，則將完全信任組件載入至完全信任的 <xref:System.AppDomain> 時，就不會驗證其強式名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-164">If you specify *y*, strong names for full-trust assemblies are not validated when loaded into a full-trust <xref:System.AppDomain>.</span></span> <span data-ttu-id="48156-165">如果指定 *n*，就會驗證強式名稱的正確性，但不是針對特定的強式名稱進行驗證。</span><span class="sxs-lookup"><span data-stu-id="48156-165">If you specify *n*, strong names are validated for correctness, but not for a specific strong name.</span></span> <span data-ttu-id="48156-166"><xref:System.Security.Permissions.StrongNameIdentityPermission> 對於完全信任組件沒有任何影響。</span><span class="sxs-lookup"><span data-stu-id="48156-166">The <xref:System.Security.Permissions.StrongNameIdentityPermission> has no effect on full-trust assemblies.</span></span> <span data-ttu-id="48156-167">您必須自行檢查強式名稱是否相符。</span><span class="sxs-lookup"><span data-stu-id="48156-167">You must perform your own check for a strong name match.</span></span><br /><br /> <span data-ttu-id="48156-168">如果 `y` 和 `n` 都沒有指定，則此選項會顯示目前設定。</span><span class="sxs-lookup"><span data-stu-id="48156-168">If neither `y` nor `n` is specified, this option displays the current setting.</span></span> <span data-ttu-id="48156-169">預設為 `y`。</span><span class="sxs-lookup"><span data-stu-id="48156-169">The default is `y`.</span></span> <span data-ttu-id="48156-170">**注意：** 在 64 位元電腦上，您必須在 Sn.exe 的 32 位元和 64 位元執行個體中設定此參數。</span><span class="sxs-lookup"><span data-stu-id="48156-170">**Note:**  On 64-bit computers, you must set this parameter in both the 32-bit and the 64-bit instances of Sn.exe.</span></span>|  
|<span data-ttu-id="48156-171">**-q**[**uiet**]</span><span class="sxs-lookup"><span data-stu-id="48156-171">**-q**[**uiet**]</span></span>|<span data-ttu-id="48156-172">指定無訊息模式，不顯示成功訊息。</span><span class="sxs-lookup"><span data-stu-id="48156-172">Specifies quiet mode; suppresses the display of success messages.</span></span>|  
|<span data-ttu-id="48156-173">**-R**[**a**] *assembly* *infile*</span><span class="sxs-lookup"><span data-stu-id="48156-173">**-R**[**a**] *assembly* *infile*</span></span>|<span data-ttu-id="48156-174">以 *infile* 中的金鑰組重新簽署先前已簽署或延遲簽署的組件。</span><span class="sxs-lookup"><span data-stu-id="48156-174">Re-signs a previously signed or delay-signed assembly with the key pair in *infile*.</span></span><br /><br /> <span data-ttu-id="48156-175">如果使用了 **-Ra**，則會針對組件中的所有檔案重新計算雜湊。</span><span class="sxs-lookup"><span data-stu-id="48156-175">If **-Ra** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="48156-176">**-Rc**[**a**] *assembly container*</span><span class="sxs-lookup"><span data-stu-id="48156-176">**-Rc**[**a**] *assembly container*</span></span>|<span data-ttu-id="48156-177">以 *container* 中的金鑰組重新簽署先前已簽署或延遲簽署的組件。</span><span class="sxs-lookup"><span data-stu-id="48156-177">Re-signs a previously signed or delay-signed assembly with the key pair in *container*.</span></span><br /><br /> <span data-ttu-id="48156-178">如果使用了 **-Rca**，則會針對組件中的所有檔案重新計算雜湊。</span><span class="sxs-lookup"><span data-stu-id="48156-178">If **-Rca** is used, hashes are recomputed for all files in the assembly.</span></span>|  
|<span data-ttu-id="48156-179">**-Rh** *assembly*</span><span class="sxs-lookup"><span data-stu-id="48156-179">**-Rh** *assembly*</span></span>|<span data-ttu-id="48156-180">針對組件中的所有檔案重新計算雜湊。</span><span class="sxs-lookup"><span data-stu-id="48156-180">Recomputes hashes for all files in the assembly.</span></span>|  
|<span data-ttu-id="48156-181">**-t**[**p**] *infile*</span><span class="sxs-lookup"><span data-stu-id="48156-181">**-t**[**p**] *infile*</span></span>|<span data-ttu-id="48156-182">顯示存放在 *infile* 中公開金鑰的語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-182">Displays the token for the public key stored in *infile*.</span></span> <span data-ttu-id="48156-183">*infile* 的內容必須是先前使用 **-p** 從金鑰組檔案中產生的公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-183">The contents of *infile* must be a public key previously generated from a key pair file using **-p**.</span></span>  <span data-ttu-id="48156-184">請不要使用 **-t[p]** 選項，直接從金鑰組檔案中擷取語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-184">Do not use the **-t[p]** option to extract the token directly from a key pair file.</span></span><br /><br /> <span data-ttu-id="48156-185">Sn.exe 是使用公開金鑰中的雜湊函式來計算語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-185">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="48156-186">為了節省空間，通用語言執行平台在將相依性記錄到具有強式名稱的組件時，會將公開金鑰語彙基元存放到資訊清單中，做為其他組件參考的一部分。</span><span class="sxs-lookup"><span data-stu-id="48156-186">To save space, the common language runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="48156-187">除了語彙基元之外，**-Tp** 選項還會顯示公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-187">The **-tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="48156-188">如果 <xref:System.Reflection.AssemblySignatureKeyAttribute> 屬性已套用至組件，則語彙基元代表識別金鑰，然後會顯示雜湊演算法和識別金鑰的名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-188">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="48156-189">請注意，此選項不會驗證組件簽章，且不應該用來進行信任決策。</span><span class="sxs-lookup"><span data-stu-id="48156-189">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="48156-190">此選項只會顯示未經處理的公開金鑰語彙基元資料。</span><span class="sxs-lookup"><span data-stu-id="48156-190">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="48156-191">**-T**[**p**] *assembly*</span><span class="sxs-lookup"><span data-stu-id="48156-191">**-T**[**p**] *assembly*</span></span>|<span data-ttu-id="48156-192">顯示 *assembly.* 的公開金鑰語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-192">Displays the public key token for *assembly.*</span></span> <span data-ttu-id="48156-193">*assembly* 必須是含有組件資訊清單的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-193">The *assembly* must be the name of a file that contains an assembly manifest.</span></span><br /><br /> <span data-ttu-id="48156-194">Sn.exe 是使用公開金鑰中的雜湊函式來計算語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-194">Sn.exe computes the token by using a hash function from the public key.</span></span> <span data-ttu-id="48156-195">為了節省空間，執行階段在將相依性記錄到具有強式名稱的組件時，會將公開金鑰語彙基元存放到資訊清單中，做為其他組件參考的一部分。</span><span class="sxs-lookup"><span data-stu-id="48156-195">To save space, the runtime stores public key tokens in the manifest as part of a reference to another assembly when it records a dependency to an assembly that has a strong name.</span></span> <span data-ttu-id="48156-196">除了語彙基元之外，**-Tp** 選項還會顯示公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="48156-196">The **-Tp** option displays the public key in addition to the token.</span></span> <span data-ttu-id="48156-197">如果 <xref:System.Reflection.AssemblySignatureKeyAttribute> 屬性已套用至組件，則語彙基元代表識別金鑰，然後會顯示雜湊演算法和識別金鑰的名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-197">If the <xref:System.Reflection.AssemblySignatureKeyAttribute> attribute has been applied to the assembly, the token is for the identity key, and the name of the hash algorithm and the identity key is displayed.</span></span><br /><br /> <span data-ttu-id="48156-198">請注意，此選項不會驗證組件簽章，且不應該用來進行信任決策。</span><span class="sxs-lookup"><span data-stu-id="48156-198">Note that this option does not verify the assembly signature and should not be used to make trust decisions.</span></span>  <span data-ttu-id="48156-199">此選項只會顯示未經處理的公開金鑰語彙基元資料。</span><span class="sxs-lookup"><span data-stu-id="48156-199">This option only displays the raw public key token data.</span></span>|  
|<span data-ttu-id="48156-200">`-TS` `assembly` `infile`</span><span class="sxs-lookup"><span data-stu-id="48156-200">`-TS` `assembly` `infile`</span></span>|<span data-ttu-id="48156-201">以 `assembly` 中的金鑰組，對已簽署或部分簽署的 `infile` 進行簽署測試。</span><span class="sxs-lookup"><span data-stu-id="48156-201">Test-signs the signed or partially signed `assembly` with the key pair in `infile`.</span></span>|  
|-`TSc``assembly``container`|<span data-ttu-id="48156-202">以金鑰容器 `assembly` 中的金鑰組，對已簽署或部分簽署的 `container` 進行簽署測試。</span><span class="sxs-lookup"><span data-stu-id="48156-202">Test-signs the signed or partially signed `assembly` with the key pair in the key container `container`.</span></span>|  
|<span data-ttu-id="48156-203">**-v** *assembly*</span><span class="sxs-lookup"><span data-stu-id="48156-203">**-v** *assembly*</span></span>|<span data-ttu-id="48156-204">驗證 *assembly* 中的強式名稱，此處的 *assembly* 是含有組件資訊清單的檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-204">Verifies the strong name in *assembly*, where *assembly* is the name of a file that contains an assembly manifest.</span></span>|  
|<span data-ttu-id="48156-205">**-vf**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="48156-205">**-vf**  *assembly*</span></span>|<span data-ttu-id="48156-206">驗證 *assembly.* 中的強式名稱。</span><span class="sxs-lookup"><span data-stu-id="48156-206">Verifies the strong name in *assembly.*</span></span> <span data-ttu-id="48156-207">與 **-v** 選項不同的是，即使使用 **-Vr** 選項停用 **-vf**，它還是會強制執行驗證。</span><span class="sxs-lookup"><span data-stu-id="48156-207">Unlike the **-v** option, **-vf** forces verification even if it is disabled using the **-Vr** option.</span></span>|  
|<span data-ttu-id="48156-208">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="48156-208">**-Vk**  *regfile.reg* *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="48156-209">建立註冊項目 (.reg) 檔案，您可以使用該檔案註冊要略過驗證的指定組件。</span><span class="sxs-lookup"><span data-stu-id="48156-209">Creates a registration entries (.reg) file you can use to register the specified assembly for verification skipping.</span></span> <span data-ttu-id="48156-210">適用於 **-Vr** 選項的組件命名規則同樣適用於 **–Vk**。</span><span class="sxs-lookup"><span data-stu-id="48156-210">The rules for assembly naming that apply to the **-Vr** option apply to **–Vk** as well.</span></span> <span data-ttu-id="48156-211">如需 *userlist* 和 *infile* 選項的詳細資訊，請參閱 **–Vr** 選項。</span><span class="sxs-lookup"><span data-stu-id="48156-211">For information about the *userlist* and *infile* options, see the **–Vr** option.</span></span>|  
|<span data-ttu-id="48156-212">**-Vl**</span><span class="sxs-lookup"><span data-stu-id="48156-212">**-Vl**</span></span>|<span data-ttu-id="48156-213">列出這部電腦上強式名稱驗證的目前設定。</span><span class="sxs-lookup"><span data-stu-id="48156-213">Lists current settings for strong-name verification on this computer.</span></span>|  
|<span data-ttu-id="48156-214">**-Vr**  *assembly* [*userlist*] [*infile*]</span><span class="sxs-lookup"><span data-stu-id="48156-214">**-Vr**  *assembly* [*userlist*] [*infile*]</span></span>|<span data-ttu-id="48156-215">註冊要略過驗證的 *assembly*。</span><span class="sxs-lookup"><span data-stu-id="48156-215">Registers *assembly* for verification skipping.</span></span> <span data-ttu-id="48156-216">或者，您可以指定要套用略過驗證的逗號分隔使用者名稱清單。</span><span class="sxs-lookup"><span data-stu-id="48156-216">Optionally, you can specify a comma-separated list of user names the skip verification should apply to.</span></span> <span data-ttu-id="48156-217">如果指定 *infile*，驗證會保持啟用狀態，不過 *infile* 中的公開金鑰會在驗證作業中使用。</span><span class="sxs-lookup"><span data-stu-id="48156-217">If you specify *infile*, verification remains enabled, but the public key in *infile* is used in verification operations.</span></span> <span data-ttu-id="48156-218">您可以採用 *\*, strongname* 格式指定 *assembly*，以便註冊所有具有指定強式名稱的組件。</span><span class="sxs-lookup"><span data-stu-id="48156-218">You can specify *assembly* in the form *\*, strongname* to register all assemblies with the specified strong name.</span></span> <span data-ttu-id="48156-219">*strongname* 請指定十六位數的字串，表示公開金鑰的語彙基元形式。</span><span class="sxs-lookup"><span data-stu-id="48156-219">For *strongname*, specify the string of hexadecimal digits representing the tokenized form of the public key.</span></span> <span data-ttu-id="48156-220">若要顯示公開金鑰語彙基元，請參閱 **-t** 和 **-T** 選項。</span><span class="sxs-lookup"><span data-stu-id="48156-220">See the **-t** and **-T** options to display the public key token.</span></span> <span data-ttu-id="48156-221">**注意：** 此選項僅供開發期間使用。</span><span class="sxs-lookup"><span data-stu-id="48156-221">**Caution:**  Use this option only during development.</span></span> <span data-ttu-id="48156-222">將組件加入至略過驗證清單會使安全性變弱。</span><span class="sxs-lookup"><span data-stu-id="48156-222">Adding an assembly to the skip verification list creates a security vulnerability.</span></span> <span data-ttu-id="48156-223">具有惡意的組件可能使用加入至略過驗證清單之組件的完全指定組件名稱 (組件名稱、版本、文化特性和公開金鑰語彙基元)，以偽裝其識別 (Identity)。</span><span class="sxs-lookup"><span data-stu-id="48156-223">A malicious assembly could use the fully specified assembly name (assembly name, version, culture, and public key token) of the assembly added to the skip verification list to fake its identity.</span></span> <span data-ttu-id="48156-224">這會使具有惡意的組件也略過驗證。</span><span class="sxs-lookup"><span data-stu-id="48156-224">This would allow the malicious assembly to also skip verification.</span></span>|  
|||  
|<span data-ttu-id="48156-225">**-Vu**  *assembly*</span><span class="sxs-lookup"><span data-stu-id="48156-225">**-Vu**  *assembly*</span></span>|<span data-ttu-id="48156-226">移除要略過驗證之 *assembly* 的註冊。</span><span class="sxs-lookup"><span data-stu-id="48156-226">Unregisters *assembly* for verification skipping.</span></span> <span data-ttu-id="48156-227">適用於 **-Vr** 的組件命名規則同樣適用於 **-Vu**。</span><span class="sxs-lookup"><span data-stu-id="48156-227">The same rules for assembly naming that apply to **-Vr** apply to **-Vu**.</span></span>|  
|<span data-ttu-id="48156-228">**-Vx**</span><span class="sxs-lookup"><span data-stu-id="48156-228">**-Vx**</span></span>|<span data-ttu-id="48156-229">移除所有略過驗證的項目。</span><span class="sxs-lookup"><span data-stu-id="48156-229">Removes all verification-skipping entries.</span></span>|  
|<span data-ttu-id="48156-230">**-?**</span><span class="sxs-lookup"><span data-stu-id="48156-230">**-?**</span></span>|<span data-ttu-id="48156-231">顯示工具的命令語法和選項。</span><span class="sxs-lookup"><span data-stu-id="48156-231">Displays command syntax and options for the tool.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="48156-232">所有 Sn.exe 選項都區分大小寫，而且必須完全依照顯示的方式輸入，工具才能夠辨認。</span><span class="sxs-lookup"><span data-stu-id="48156-232">All Sn.exe options are case-sensitive and must be typed exactly as shown to be recognized by the tool.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="48156-233">備註</span><span class="sxs-lookup"><span data-stu-id="48156-233">Remarks</span></span>  
 <span data-ttu-id="48156-234">**-R** 和 **–Rc** 選項搭配已延遲簽署的組件時非常實用。</span><span class="sxs-lookup"><span data-stu-id="48156-234">The **-R** and **–Rc** options are useful with assemblies that have been delay-signed.</span></span> <span data-ttu-id="48156-235">在此情節中，在編譯時期只會設定公開金鑰，並且在稍後知道私密金鑰時才進行簽署。</span><span class="sxs-lookup"><span data-stu-id="48156-235">In this scenario, only the public key has been set at compile time and signing is performed later, when the private key is known.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="48156-236">若為寫入像是登錄這類受保護資源的參數 (例如，–**Vr)**，請以系統管理員身分執行 SN.exe。</span><span class="sxs-lookup"><span data-stu-id="48156-236">For parameters (for example, –**Vr)** that write to protected resources such as the registry, run SN.exe as an administrator.</span></span>  
  
<span data-ttu-id="48156-237">強式名稱工具假設會使用 `AT_SIGNATURE` 演算法識別碼來產生公開/私密金鑰組。</span><span class="sxs-lookup"><span data-stu-id="48156-237">The Strong Name tool assumes that public/private key pairs are generated with the `AT_SIGNATURE` algorithm identifier.</span></span> <span data-ttu-id="48156-238">使用 `AT_KEYEXCHANGE` 演算法產生的公開/私密金鑰組會產生錯誤。</span><span class="sxs-lookup"><span data-stu-id="48156-238">Public/private key pairs generated with the `AT_KEYEXCHANGE` algorithm generate an error.</span></span> 

## <a name="examples"></a><span data-ttu-id="48156-239">範例</span><span class="sxs-lookup"><span data-stu-id="48156-239">Examples</span></span>  
 <span data-ttu-id="48156-240">下列命令會建立新的隨機金鑰組，並將它存放到 `keyPair.snk` 中。</span><span class="sxs-lookup"><span data-stu-id="48156-240">The following command creates a new, random key pair and stores it in `keyPair.snk`.</span></span>  
  
```  
sn -k keyPair.snk  
```  
  
 <span data-ttu-id="48156-241">下列命令會將金鑰儲存在強式名稱 CSP 中 `keyPair.snk` 容器的 `MyContainer` 中。</span><span class="sxs-lookup"><span data-stu-id="48156-241">The following command stores the key in `keyPair.snk` in the container `MyContainer` in the strong name CSP.</span></span>  
  
```  
sn -i keyPair.snk MyContainer  
```  
  
 <span data-ttu-id="48156-242">下列命令會從 `keyPair.snk` 擷取公開金鑰，並將它存放到 `publicKey.snk` 中。</span><span class="sxs-lookup"><span data-stu-id="48156-242">The following command extracts the public key from `keyPair.snk` and stores it in `publicKey.snk`.</span></span>  
  
```  
sn -p keyPair.snk publicKey.snk  
```  
  
 <span data-ttu-id="48156-243">下列命令會顯示 `publicKey.snk` 中所包含之公開金鑰和公開金鑰的語彙基元。</span><span class="sxs-lookup"><span data-stu-id="48156-243">The following command displays the public key and the token for the public key contained in `publicKey.snk`.</span></span>  
  
```  
sn -tp publicKey.snk  
```  
  
 <span data-ttu-id="48156-244">下列命令會驗證組件 `MyAsm.dll`。</span><span class="sxs-lookup"><span data-stu-id="48156-244">The following command verifies the assembly `MyAsm.dll`.</span></span>  
  
```  
sn -v MyAsm.dll  
```  
  
 <span data-ttu-id="48156-245">下列命令會從預設的 CSP 刪除 `MyContainer`。</span><span class="sxs-lookup"><span data-stu-id="48156-245">The following command deletes `MyContainer` from the default CSP.</span></span>  
  
```  
sn -d MyContainer  
```  
  
## <a name="see-also"></a><span data-ttu-id="48156-246">請參閱</span><span class="sxs-lookup"><span data-stu-id="48156-246">See Also</span></span>  
 [<span data-ttu-id="48156-247">工具</span><span class="sxs-lookup"><span data-stu-id="48156-247">Tools</span></span>](../../../docs/framework/tools/index.md)  
 [<span data-ttu-id="48156-248">Al.exe (組件連結器)</span><span class="sxs-lookup"><span data-stu-id="48156-248">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)  
 [<span data-ttu-id="48156-249">強式名稱的組件</span><span class="sxs-lookup"><span data-stu-id="48156-249">Strong-Named Assemblies</span></span>](../../../docs/framework/app-domains/strong-named-assemblies.md)  
 [<span data-ttu-id="48156-250">命令提示字元</span><span class="sxs-lookup"><span data-stu-id="48156-250">Command Prompts</span></span>](../../../docs/framework/tools/developer-command-prompt-for-vs.md)
