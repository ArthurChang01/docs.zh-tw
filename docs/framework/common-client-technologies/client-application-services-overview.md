---
title: 用戶端應用程式服務概觀
ms.date: 03/30/2017
helpviewer_keywords:
- client application services, classes
- client application services, about client application services
ms.assetid: f0a2da13-e282-4fd7-88a1-f9102c9aeab1
ms.openlocfilehash: 55d96039f430bece3cda6136d63dbf287e8fc744
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/03/2018
ms.locfileid: "43408557"
---
# <a name="client-application-services-overview"></a><span data-ttu-id="e01f7-102">用戶端應用程式服務概觀</span><span class="sxs-lookup"><span data-stu-id="e01f7-102">Client Application Services Overview</span></span>
<span data-ttu-id="e01f7-103">用戶端應用程式服務簡化了從 Windows Forms 和 Windows Presentation Foundation (WPF) 應用程式對 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 登入、角色和設定檔服務的存取。</span><span class="sxs-lookup"><span data-stu-id="e01f7-103">Client application services provide simplified access to [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] login, roles, and profile services from Windows Forms and Windows Presentation Foundation (WPF) applications.</span></span> [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)]<span data-ttu-id="e01f7-104"> 應用程式服務隨附於 [!INCLUDE[vs_orcas_long](../../../includes/vs-orcas-long-md.md)] 和 [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] 的 Microsoft ASP.NET 2.0 AJAX Extensions 中。</span><span class="sxs-lookup"><span data-stu-id="e01f7-104"> application services are included in the Microsoft ASP.NET 2.0 AJAX Extensions, which is included with [!INCLUDE[vs_orcas_long](../../../includes/vs-orcas-long-md.md)] and the [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)].</span></span> <span data-ttu-id="e01f7-105">這些服務可讓多個 Web 和 Windows 應用程式從單一伺服器共用使用者資訊與使用者管理功能。</span><span class="sxs-lookup"><span data-stu-id="e01f7-105">These services enable multiple Web and Windows-based applications to share user information and user-management functionality from a single server.</span></span>  
  
 <span data-ttu-id="e01f7-106">用戶端應用程式服務包含可以插入 Web 服務擴充性模型的用戶端服務提供者，讓 Windows 應用程式能夠提供下列功能：</span><span class="sxs-lookup"><span data-stu-id="e01f7-106">Client application services include client service providers that plug into the Web services extensibility model to enable the following features for Windows-based applications:</span></span>  
  
-   <span data-ttu-id="e01f7-107">簡化用戶端設定。</span><span class="sxs-lookup"><span data-stu-id="e01f7-107">Simple client configuration.</span></span> <span data-ttu-id="e01f7-108">您可以使用 Visual Studio 專案設計工具或在專案的 App.config 檔案中指定用戶端服務提供者，以啟用及設定登入、角色和設定檔服務。</span><span class="sxs-lookup"><span data-stu-id="e01f7-108">You can enable and configure the login, roles, and profile services by using the Visual Studio project designer or by specifying client service providers in your project's App.config file.</span></span> <span data-ttu-id="e01f7-109">如需詳細資訊，請參閱[如何：設定用戶端應用程式服務](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-109">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>  
  
-   <span data-ttu-id="e01f7-110">簡單的程式設計功能。</span><span class="sxs-lookup"><span data-stu-id="e01f7-110">Simple programmability.</span></span> <span data-ttu-id="e01f7-111">啟用及設定用戶端應用程式服務之後，您可以透過現有 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 成員資格、角色和應用程式設定類別，間接地存取服務提供者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-111">After you have enabled and configured client application services, you can access the service providers indirectly through existing [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] membership, roles, and application settings classes.</span></span> <span data-ttu-id="e01f7-112">您也可以直接存取實作用戶端應用程式服務的 [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] 類別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-112">You can also directly access the [!INCLUDE[net_v35_long](../../../includes/net-v35-long-md.md)] classes that implement client application services.</span></span> <span data-ttu-id="e01f7-113">但在大部分情況下，直接存取並非必要。</span><span class="sxs-lookup"><span data-stu-id="e01f7-113">However, in most cases, direct access is unnecessary.</span></span> <span data-ttu-id="e01f7-114">如需用戶端應用程式服務類別的詳細資訊，請參閱本主題的＜用戶端應用程式服務類別＞一節。</span><span class="sxs-lookup"><span data-stu-id="e01f7-114">For more information about the client application services classes, see the "Client Application Services Classes" section of this topic.</span></span>  
  
-   <span data-ttu-id="e01f7-115">離線支援。</span><span class="sxs-lookup"><span data-stu-id="e01f7-115">Offline support.</span></span> <span data-ttu-id="e01f7-116">Windows 應用程式經常需要在偶爾才能連線的環境中運作。</span><span class="sxs-lookup"><span data-stu-id="e01f7-116">Windows-based applications often have to operate in occasionally connected environments.</span></span> <span data-ttu-id="e01f7-117">當您的應用程式在線上時，用戶端服務提供者會快取從伺服器擷取的值，供應用程式離線時使用。</span><span class="sxs-lookup"><span data-stu-id="e01f7-117">When your application is online, the client service providers will cache values retrieved from the server for use when the application is offline.</span></span>  
  
-   <span data-ttu-id="e01f7-118">與 Visual Studio 應用程式設定設計工具整合。</span><span class="sxs-lookup"><span data-stu-id="e01f7-118">Integration with the Visual Studio application settings designer.</span></span> <span data-ttu-id="e01f7-119">當您將設定加入 Visual Studio 中的專案時，可以指定要透過用戶端設定服務提供者來存取的設定。</span><span class="sxs-lookup"><span data-stu-id="e01f7-119">When you add settings to your project in Visual Studio, you can specify which settings are to be accessed through the client settings service provider.</span></span>  
  
 <span data-ttu-id="e01f7-120">下列章節將詳述這些功能。</span><span class="sxs-lookup"><span data-stu-id="e01f7-120">The following sections describe these features in more detail.</span></span> <span data-ttu-id="e01f7-121">如需 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 應用程式服務的詳細資訊，請參閱 [ASP.NET 應用程式服務概觀](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-121">For more information about the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application services, see [ASP.NET Application Services Overview](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span></span>  
  
## <a name="authentication"></a><span data-ttu-id="e01f7-122">驗證</span><span class="sxs-lookup"><span data-stu-id="e01f7-122">Authentication</span></span>  
 <span data-ttu-id="e01f7-123">您可以透過現有 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 驗證服務，使用用戶端應用程式服務來驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-123">You can use client application services to validate a user through an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] authentication service.</span></span> <span data-ttu-id="e01f7-124">您可以使用 Windows 或表單驗證來驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-124">You can validate a user by using Windows or forms authentication.</span></span> <span data-ttu-id="e01f7-125">Windows 驗證表示使用者登入電腦或網域時，是使用作業系統所提供的使用者識別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-125">Windows authentication means that the user identity is the one supplied by the operating system when a user logs on to a computer or domain.</span></span> <span data-ttu-id="e01f7-126">通常您會對部署在公司內部網路上的應用程式使用 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="e01f7-126">You will typically use Windows authentication with an application deployed on a corporate intranet.</span></span> <span data-ttu-id="e01f7-127">表單驗證表示您必須在應用程式中加入登入控制項，並將取得的認證傳遞給驗證提供者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-127">Forms authentication means that you must include login controls in your application and pass the acquired credentials to the authentication provider.</span></span> <span data-ttu-id="e01f7-128">通常您會對部署在網際網路上的應用程式使用表單驗證。</span><span class="sxs-lookup"><span data-stu-id="e01f7-128">You will typically use forms authentication with an application deployed on the Internet.</span></span>  
  
 <span data-ttu-id="e01f7-129">若要驗證使用者，請呼叫 `static` <xref:System.Web.Security.Membership.ValidateUser%2A?displayProperty=nameWithType> 方法。</span><span class="sxs-lookup"><span data-stu-id="e01f7-129">To validate a user, you call the `static` <xref:System.Web.Security.Membership.ValidateUser%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="e01f7-130">此方法會存取應用程式所設定的用戶端服務提供者，並傳回 <xref:System.Boolean> 值，指出使用者是否有效。</span><span class="sxs-lookup"><span data-stu-id="e01f7-130">This method accesses the client service provider configured for your application and returns a <xref:System.Boolean> value indicating whether the user is valid.</span></span> <span data-ttu-id="e01f7-131">如需詳細資訊，請參閱[如何：使用用戶端應用程式服務實作使用者登入](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-131">For more information, see [How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span></span>  
  
 <span data-ttu-id="e01f7-132">使用 Windows 驗證時，您必須傳遞空字串或 `null` 做為 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法的參數。</span><span class="sxs-lookup"><span data-stu-id="e01f7-132">When using Windows authentication, you must pass empty strings or `null` as the parameters of the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="e01f7-133">使用 Windows 驗證時，此方法呼叫一律會傳回 `true`。</span><span class="sxs-lookup"><span data-stu-id="e01f7-133">When using Windows authentication, this method call will always return `true`.</span></span>  
  
 <span data-ttu-id="e01f7-134"><xref:System.Web.Security.Membership.ValidateUser%2A> 方法會使用表單驗證傳回值，指出遠端服務是否已驗證使用者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-134">With forms authentication, the <xref:System.Web.Security.Membership.ValidateUser%2A> method will return a value indicating whether the remote service has authenticated the user.</span></span> <span data-ttu-id="e01f7-135">若驗證成功，驗證 cookie 會儲存在本機硬碟上。</span><span class="sxs-lookup"><span data-stu-id="e01f7-135">If validation is successful, an authentication cookie is stored on the local hard disk.</span></span> <span data-ttu-id="e01f7-136">在存取角色和設定服務時，會使用此 Cookie 來確認驗證。</span><span class="sxs-lookup"><span data-stu-id="e01f7-136">This cookie is used to confirm validation when accessing the roles and settings services.</span></span>  
  
 <span data-ttu-id="e01f7-137">使用表單驗證時，您可以將使用者名稱和密碼傳遞給 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="e01f7-137">When using forms authentication, you can pass a user name and password to the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="e01f7-138">您也可以傳遞空字串或 `null` 做為使用認證提供者的參數。</span><span class="sxs-lookup"><span data-stu-id="e01f7-138">You can also pass empty strings or `null` as the parameters to use a credentials provider.</span></span> <span data-ttu-id="e01f7-139">認證提供者是您在應用程式組態中所提供和指定的類別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-139">A credentials provider is a class that you provide and specify in your application configuration.</span></span> <span data-ttu-id="e01f7-140">認證提供者類別必須實作具有名為 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> 單一方法的 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> 介面。</span><span class="sxs-lookup"><span data-stu-id="e01f7-140">A credentials provider class must implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface, which has a single method named <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A>.</span></span> <span data-ttu-id="e01f7-141">您可透過使用認證提供者在多個應用程式之間分享單一登入對話方塊。</span><span class="sxs-lookup"><span data-stu-id="e01f7-141">Using a credentials provider enables you to share a single login dialog box among multiple applications.</span></span> <span data-ttu-id="e01f7-142">如需詳細資訊，請參閱[如何：設定用戶端應用程式服務](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-142">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>  
  
 <span data-ttu-id="e01f7-143">當您設定應用程式使用具有表單驗證的認證提供者時，必須傳遞空字串或 `null` 做為 <xref:System.Web.Security.Membership.ValidateUser%2A> 方法的參數。</span><span class="sxs-lookup"><span data-stu-id="e01f7-143">When you configure your application to use a credentials provider with forms authentication, you must pass empty strings or `null` as the parameters of the <xref:System.Web.Security.Membership.ValidateUser%2A> method.</span></span> <span data-ttu-id="e01f7-144">服務提供者會接著呼叫您的 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A?displayProperty=nameWithType> 方法實作。</span><span class="sxs-lookup"><span data-stu-id="e01f7-144">The service provider will then call your <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A?displayProperty=nameWithType> method implementation.</span></span> <span data-ttu-id="e01f7-145">一般而言，您會實作此方法來顯示對話方塊，並傳回填入的 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials> 物件。</span><span class="sxs-lookup"><span data-stu-id="e01f7-145">Typically, you will implement this method to display a dialog box and return a populated <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials> object.</span></span>  
  
 <span data-ttu-id="e01f7-146">如需驗證的詳細資訊，請參閱 [ASP.NET 驗證](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-146">For more information about authentication, see [ASP.NET Authentication](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1).</span></span> <span data-ttu-id="e01f7-147">如需如何設定 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 驗證服務的資訊，請參閱[透過 Microsoft Ajax 使用表單驗證](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-147">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] authentication service, see [Using Forms Authentication with Microsoft Ajax](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e).</span></span>  
  
## <a name="roles"></a><span data-ttu-id="e01f7-148">角色</span><span class="sxs-lookup"><span data-stu-id="e01f7-148">Roles</span></span>  
 <span data-ttu-id="e01f7-149">您可以使用用戶端應用程式服務，從現有的 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 角色服務擷取角色資訊。</span><span class="sxs-lookup"><span data-stu-id="e01f7-149">You can use client application services to retrieve role information from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] roles service.</span></span> <span data-ttu-id="e01f7-150">若要判斷目前已經過驗證的使用者是否具有特定角色，可呼叫擷取自 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 屬性之 <xref:System.Security.Principal.IPrincipal> 參考的 <xref:System.Security.Principal.IPrincipal.IsInRole%2A> 方法 。</span><span class="sxs-lookup"><span data-stu-id="e01f7-150">To determine whether the current, authenticated user is in a particular role, you call the <xref:System.Security.Principal.IPrincipal.IsInRole%2A> method of the <xref:System.Security.Principal.IPrincipal> reference retrieved from the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="e01f7-151"><xref:System.Security.Principal.IPrincipal.IsInRole%2A> 方法會以角色名稱作為參數，並傳回 <xref:System.Boolean> 值，指出目前的使用者是否為指定的角色。</span><span class="sxs-lookup"><span data-stu-id="e01f7-151">The <xref:System.Security.Principal.IPrincipal.IsInRole%2A> method takes the role name as a parameter and returns a <xref:System.Boolean> value indicating whether the current user is in the specified role.</span></span> <span data-ttu-id="e01f7-152">若使用者尚未經過驗證，或不是指定的角色，此方法會傳回 `false`。</span><span class="sxs-lookup"><span data-stu-id="e01f7-152">This method will return `false` if the user is not authenticated or is not in the specified role.</span></span>  
  
 <span data-ttu-id="e01f7-153">如需如何設定 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 角色服務的相關資訊，請參閱[透過 Microsoft Ajax 使用角色資訊](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-153">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] roles service, see [Using Roles Information with Microsoft Ajax](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d).</span></span>  
  
## <a name="settings"></a><span data-ttu-id="e01f7-154">設定</span><span class="sxs-lookup"><span data-stu-id="e01f7-154">Settings</span></span>  
 <span data-ttu-id="e01f7-155">您可以利用用戶端服務，從現有的 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 設定檔服務擷取使用者應用程式設定。</span><span class="sxs-lookup"><span data-stu-id="e01f7-155">You can use client application services to retrieve user application settings from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] profile service.</span></span> <span data-ttu-id="e01f7-156">用戶端應用程式服務的 Web 設定功能，會與 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 中所提供的應用程式設定功能相整合。</span><span class="sxs-lookup"><span data-stu-id="e01f7-156">The client application services Web settings feature integrates with the application settings feature provided in [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)].</span></span> <span data-ttu-id="e01f7-157">若要擷取 Web 設定，請先使用 Visual Studio 專案設計工具的 [設定] 索引標籤，為您的專案產生 `Settings` 類別 (在 C# 中以 `Properties.Settings.Default` 存取，在 Visual Basic 中以 `My.Settings` 存取)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-157">To retrieve Web settings, first generate a `Settings` class (accessed as `Properties.Settings.Default` in C# and `My.Settings` in Visual Basic) for your project by using the **Settings** tab of the Visual Studio project designer.</span></span> <span data-ttu-id="e01f7-158">在 [設定] 索引標籤上，您可以使用 [載入 Web 設定] 按鈕，擷取 Web 設定並將其加入所產生的 `Settings` 類別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-158">On the **Settings** tab, you can use the **Load Web Settings** button to retrieve Web settings and add them to the generated `Settings` class.</span></span> <span data-ttu-id="e01f7-159">您可以使用設定要供所有經過驗證的使用者或所有匿名使用者使用的 Web 設定。</span><span class="sxs-lookup"><span data-stu-id="e01f7-159">You can use Web settings configured for use by all authenticated users or by all anonymous users.</span></span>  
  
 <span data-ttu-id="e01f7-160">如需應用程式設定的詳細資訊，請參閱[應用程式設定概觀](../../../docs/framework/winforms/advanced/application-settings-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-160">For more information about application settings, see [Application Settings Overview](../../../docs/framework/winforms/advanced/application-settings-overview.md).</span></span> <span data-ttu-id="e01f7-161">如需如何實作您自己的設定類別，而不是如何在 Visual Studio 中產生此設定類別的相關資訊，請參閱[如何：建立應用程式設定](../../../docs/framework/winforms/advanced/how-to-create-application-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-161">For information about how to implement your own settings class instead of generating one in Visual Studio, see [How to: Create Application Settings](../../../docs/framework/winforms/advanced/how-to-create-application-settings.md).</span></span> <span data-ttu-id="e01f7-162">如需如何設定 [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] 設定檔服務的相關資訊，請參閱[透過 Microsoft Ajax 使用設定檔資訊](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-162">For information about how to set up the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] profile service, see [Using Profile Information with Microsoft Ajax](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61).</span></span>  
  
## <a name="client-application-services-classes"></a><span data-ttu-id="e01f7-163">用戶端應用程式服務類別</span><span class="sxs-lookup"><span data-stu-id="e01f7-163">Client Application Services Classes</span></span>  
 <span data-ttu-id="e01f7-164">下列資料表描述實作用戶端應用程式服務功能的類別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-164">The following table describes the classes that implement the client application services feature.</span></span>  
  
 <span data-ttu-id="e01f7-165">僅使用主要驗證、角色和設定功能的應用程式，無須直接存取這些類別。</span><span class="sxs-lookup"><span data-stu-id="e01f7-165">Applications that use only the primary authentication, roles, and settings features will not have to access these classes directly.</span></span> <span data-ttu-id="e01f7-166">相反地，這類應用程式會使用應用程式組態，以及前文中所述的 API 來間接存取用戶端應用程式服務提供者。</span><span class="sxs-lookup"><span data-stu-id="e01f7-166">Instead, such applications will access the client application service providers indirectly using application configuration and the APIs described in the previous sections.</span></span> <span data-ttu-id="e01f7-167">您將會直接存取這些類別以實作其他功能，例如使用者登出及離線功能。</span><span class="sxs-lookup"><span data-stu-id="e01f7-167">You will access these classes directly to implement additional features, such as user logout and offline capability.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e01f7-168">所有的用戶端應用程式服務 API 均為同步。</span><span class="sxs-lookup"><span data-stu-id="e01f7-168">All client application services APIs are synchronous.</span></span> <span data-ttu-id="e01f7-169">用戶端應用程式服務不直接支援非同步行為。</span><span class="sxs-lookup"><span data-stu-id="e01f7-169">Client application services do not directly support asynchronous behavior.</span></span>  
  
 <span data-ttu-id="e01f7-170">用戶端應用程式服務提供者實作或擴充標準 [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] 型別，但不實作這些型別所定義的每個成員和功能。</span><span class="sxs-lookup"><span data-stu-id="e01f7-170">The client application service providers implement or extend standard [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)] types, but do not implement every member and feature defined by these types.</span></span> <span data-ttu-id="e01f7-171">例如，您無法使用用戶端應用程式服務提供者，實作用以建立新使用者和管理角色成員資格的使用者管理應用程式。</span><span class="sxs-lookup"><span data-stu-id="e01f7-171">For example, you cannot use the client application service providers to implement a user-management application for creating new users and managing role membership.</span></span> <span data-ttu-id="e01f7-172">若要實作這項功能，您必須已在使用 Web 應用程式和伺服器端程式碼。</span><span class="sxs-lookup"><span data-stu-id="e01f7-172">To implement this functionality, you must currently use a Web application and server-side code.</span></span> <span data-ttu-id="e01f7-173">若要判斷哪些成員尚未實作，請參閱參考文件。您可以從這份資料表中的連結來存取這份參考文件。</span><span class="sxs-lookup"><span data-stu-id="e01f7-173">To determine which members are not implemented, see the reference documentation, which you can access from the links in this table.</span></span>  
  
|<span data-ttu-id="e01f7-174">類別</span><span class="sxs-lookup"><span data-stu-id="e01f7-174">Class</span></span>|<span data-ttu-id="e01f7-175">描述</span><span class="sxs-lookup"><span data-stu-id="e01f7-175">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Web.ClientServices.ClientFormsIdentity>|<span data-ttu-id="e01f7-176">此類別會管理表單驗證的使用者識別身分與驗證 Cookie。</span><span class="sxs-lookup"><span data-stu-id="e01f7-176">This class manages the user identity and authentication cookies for forms authentication.</span></span><br /><br /> <span data-ttu-id="e01f7-177">直接存取此類別的主要原因是呼叫 <xref:System.Web.ClientServices.ClientFormsIdentity.RevalidateUser%2A> 方法，它以無訊息方式重新驗證使用者 (例如，從離線模式切換成線上模式時)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-177">The primary reason to access this class directly is to call the <xref:System.Web.ClientServices.ClientFormsIdentity.RevalidateUser%2A> method, which silently revalidates a user (for example, when switching from offline to online mode).</span></span><br /><br /> <span data-ttu-id="e01f7-178">使用表單驗證來驗證使用者之後，您可以透過擷取自 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 屬性之 <xref:System.Security.Principal.IPrincipal> 參考的 <xref:System.Security.Principal.IPrincipal.Identity%2A> 屬性來擷取此類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e01f7-178">After the user is authenticated using forms authentication, you can retrieve an instance of this class through the <xref:System.Security.Principal.IPrincipal.Identity%2A> property of the <xref:System.Security.Principal.IPrincipal> reference retrieved through the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.ClientRolePrincipal>|<span data-ttu-id="e01f7-179">此類別會管理使用者角色。</span><span class="sxs-lookup"><span data-stu-id="e01f7-179">This class manages the user roles.</span></span><br /><br /> <span data-ttu-id="e01f7-180">此類別沒有任何無法間接存取的成員。</span><span class="sxs-lookup"><span data-stu-id="e01f7-180">This class does not have any members that cannot be accessed indirectly.</span></span> <span data-ttu-id="e01f7-181">不過，驗證使用者之後，您可以透過 `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> 屬性存取此類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e01f7-181">However, after the user is authenticated, you can access an instance of this class through the `static` <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.ConnectivityStatus>|<span data-ttu-id="e01f7-182">此類別會提供您用於將應用程式切換到離線模式的 `static` <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="e01f7-182">This class provides the `static` <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> property that you use to switch your application to offline mode.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationCredentials>|<span data-ttu-id="e01f7-183">此類別代表使用者認證。</span><span class="sxs-lookup"><span data-stu-id="e01f7-183">This class represents user credentials.</span></span><br /><br /> <span data-ttu-id="e01f7-184">當您實作 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> 介面時，您將只會使用此類別做為 <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> 方法的傳回值類型。</span><span class="sxs-lookup"><span data-stu-id="e01f7-184">You will use this class only as the return value type of the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider.GetCredentials%2A> method when you implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider>|<span data-ttu-id="e01f7-185">此類別會管理表單驗證的遠端驗證服務存取權。</span><span class="sxs-lookup"><span data-stu-id="e01f7-185">This class manages access to the remote authentication service for forms authentication.</span></span><br /><br /> <span data-ttu-id="e01f7-186">直接存取此類別的主要原因，在利用其 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.Logout%2A> 和 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> 成員，而基底 <xref:System.Web.Security.MembershipProvider> 類別並未實作這兩個成員。</span><span class="sxs-lookup"><span data-stu-id="e01f7-186">The primary reason to access this class directly is to use its <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.Logout%2A> and <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> members, which are not implemented by the base <xref:System.Web.Security.MembershipProvider> class.</span></span> <span data-ttu-id="e01f7-187">您也可以使用 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.ServiceUri%2A> 屬性，以程式設計方式來設定服務位置。</span><span class="sxs-lookup"><span data-stu-id="e01f7-187">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.ServiceUri%2A> property.</span></span><br /><br /> <span data-ttu-id="e01f7-188">您可以透過 `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> 屬性擷取此類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e01f7-188">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider>|<span data-ttu-id="e01f7-189">此類別會管理 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="e01f7-189">This class manages Windows authentication.</span></span><br /><br /> <span data-ttu-id="e01f7-190">直接存取此類別的主要原因是呼叫其 <xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider.Logout%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="e01f7-190">The primary reason to access this class directly is to call its <xref:System.Web.ClientServices.Providers.ClientWindowsAuthenticationMembershipProvider.Logout%2A> method.</span></span> <span data-ttu-id="e01f7-191">登出後，使用者仍然會於 Windows 驗證，但無法存取遠端應用程式服務。</span><span class="sxs-lookup"><span data-stu-id="e01f7-191">After logout, the user will still be authenticated for Windows, but will be unable to access the remote application services.</span></span><br /><br /> <span data-ttu-id="e01f7-192">您可以透過 `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> 屬性擷取此類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e01f7-192">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Membership.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientRoleProvider>|<span data-ttu-id="e01f7-193">此類別會管理遠端角色服務的存取權。</span><span class="sxs-lookup"><span data-stu-id="e01f7-193">This class manages access to the remote roles service.</span></span><br /><br /> <span data-ttu-id="e01f7-194">直接存取此類別的主要原因是呼叫其 <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> 方法。</span><span class="sxs-lookup"><span data-stu-id="e01f7-194">The primary reason to access this class is to call its <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> method.</span></span> <span data-ttu-id="e01f7-195">如果您的應用程式設定為使用非零的角色服務快取逾時值，這會非常有用。</span><span class="sxs-lookup"><span data-stu-id="e01f7-195">This can be useful if your application is configured to use a non-zero role service cache time-out value.</span></span> <span data-ttu-id="e01f7-196">如需詳細資訊，請參閱[如何：設定用戶端應用程式服務](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-196">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span> <span data-ttu-id="e01f7-197">您也可以使用 <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ServiceUri%2A> 屬性，以程式設計方式來設定服務位置。</span><span class="sxs-lookup"><span data-stu-id="e01f7-197">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ServiceUri%2A> property.</span></span><br /><br /> <span data-ttu-id="e01f7-198">您可以透過 `static` <xref:System.Web.Security.Roles.Provider%2A?displayProperty=nameWithType> 屬性擷取此類別的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e01f7-198">You can retrieve an instance of this class through the `static` <xref:System.Web.Security.Roles.Provider%2A?displayProperty=nameWithType> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.ClientSettingsProvider>|<span data-ttu-id="e01f7-199">此類別會管理遠端 Web 設定服務的存取權。</span><span class="sxs-lookup"><span data-stu-id="e01f7-199">This class manages access to the remote Web settings service.</span></span><br /><br /> <span data-ttu-id="e01f7-200">直接存取此類別的主要原因是處理 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved> 事件。</span><span class="sxs-lookup"><span data-stu-id="e01f7-200">The primary reason to access this class is to handle the <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved> event.</span></span> <span data-ttu-id="e01f7-201">您也可以使用 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.ServiceUri%2A> 屬性，以程式設計方式來設定服務位置。</span><span class="sxs-lookup"><span data-stu-id="e01f7-201">You can also set the service location programmatically by using the <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.ServiceUri%2A> property.</span></span>|  
|<xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>|<span data-ttu-id="e01f7-202">如前面本主題的 [驗證] 區段中所述，此介面會為您的應用程式提供間接取得使用者認證以進行驗證的方式。</span><span class="sxs-lookup"><span data-stu-id="e01f7-202">This interface provides an indirect way for your application to acquire user credentials for validation, as described earlier in the Authentication section of this topic.</span></span> <span data-ttu-id="e01f7-203">如需詳細資訊，請參閱[如何：設定用戶端應用程式服務](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e01f7-203">For more information, see [How to: Configure Client Application Services](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md).</span></span>|  
|<xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs>|<span data-ttu-id="e01f7-204">此類別會提供用於 <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved?displayProperty=nameWithType> 事件處理常式的 <xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs.FailedSettingsList%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="e01f7-204">This class provides a <xref:System.Web.ClientServices.Providers.SettingsSavedEventArgs.FailedSettingsList%2A> property for use within a <xref:System.Web.ClientServices.Providers.ClientSettingsProvider.SettingsSaved?displayProperty=nameWithType> event handler.</span></span>|  
|<xref:System.Web.ClientServices.Providers.UserValidatedEventArgs>|<span data-ttu-id="e01f7-205">此類別會提供用於 <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> 事件處理常式的 <xref:System.Web.ClientServices.Providers.UserValidatedEventArgs.UserName%2A> 屬性。</span><span class="sxs-lookup"><span data-stu-id="e01f7-205">This class provides a <xref:System.Web.ClientServices.Providers.UserValidatedEventArgs.UserName%2A> property for use within a <xref:System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider.UserValidated> event handler.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="e01f7-206">請參閱</span><span class="sxs-lookup"><span data-stu-id="e01f7-206">See Also</span></span>  
 [<span data-ttu-id="e01f7-207">用戶端應用程式服務</span><span class="sxs-lookup"><span data-stu-id="e01f7-207">Client Application Services</span></span>](../../../docs/framework/common-client-technologies/client-application-services.md)  
 [<span data-ttu-id="e01f7-208">如何：設定用戶端應用程式服務</span><span class="sxs-lookup"><span data-stu-id="e01f7-208">How to: Configure Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-configure-client-application-services.md)  
 [<span data-ttu-id="e01f7-209">操作說明：使用用戶端應用程式服務實作使用者登入</span><span class="sxs-lookup"><span data-stu-id="e01f7-209">How to: Implement User Login with Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)  
 [<span data-ttu-id="e01f7-210">逐步解說：使用用戶端應用程式服務</span><span class="sxs-lookup"><span data-stu-id="e01f7-210">Walkthrough: Using Client Application Services</span></span>](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md)  
 [<span data-ttu-id="e01f7-211">應用程式設定概觀</span><span class="sxs-lookup"><span data-stu-id="e01f7-211">Application Settings Overview</span></span>](../../../docs/framework/winforms/advanced/application-settings-overview.md)  
 [<span data-ttu-id="e01f7-212">ASP.NET 應用程式服務概觀</span><span class="sxs-lookup"><span data-stu-id="e01f7-212">ASP.NET Application Services Overview</span></span>](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013)  
 [<span data-ttu-id="e01f7-213">使用表單驗證搭配 Microsoft Ajax</span><span class="sxs-lookup"><span data-stu-id="e01f7-213">Using Forms Authentication with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/c50f7dc5-323c-4c63-b4f3-96edfc1e815e)  
 [<span data-ttu-id="e01f7-214">透過 Microsoft Ajax 使用角色資訊</span><span class="sxs-lookup"><span data-stu-id="e01f7-214">Using Roles Information with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/280f6ad9-ba1a-4fc9-b0cc-22e39e54a82d)  
 [<span data-ttu-id="e01f7-215">透過 Microsoft Ajax 使用設定檔資訊</span><span class="sxs-lookup"><span data-stu-id="e01f7-215">Using Profile Information with Microsoft Ajax</span></span>](https://msdn.microsoft.com/library/91239ae6-d01c-4f4e-a433-eb9040dbed61)  
 [<span data-ttu-id="e01f7-216">ASP.NET 驗證</span><span class="sxs-lookup"><span data-stu-id="e01f7-216">ASP.NET Authentication</span></span>](https://msdn.microsoft.com/library/fc10b0ef-4ce4-4a7f-9174-886325221ee1)  
 [<span data-ttu-id="e01f7-217">使用角色管理授權</span><span class="sxs-lookup"><span data-stu-id="e01f7-217">Managing Authorization Using Roles</span></span>](https://msdn.microsoft.com/library/01954ce4-39a2-487f-8153-a69f6f6f3195)  
 [<span data-ttu-id="e01f7-218">建立及設定 SQL Server 的應用程式服務資料庫</span><span class="sxs-lookup"><span data-stu-id="e01f7-218">Creating and Configuring the Application Services Database for SQL Server</span></span>](https://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)
