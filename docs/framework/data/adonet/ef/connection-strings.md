---
title: ADO.NET Entity Framework 中的連接字串
ms.date: 10/15/2018
ms.assetid: 78d516bc-c99f-4865-8ff1-d856bc1a01c0
ms.openlocfilehash: 99b6b1b7a38477dc17d3960ee5bc0b63ec0cb819
ms.sourcegitcommit: c93fd5139f9efcf6db514e3474301738a6d1d649
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/27/2018
ms.locfileid: "50193990"
---
# <a name="connection-strings-in-the-adonet-entity-framework"></a><span data-ttu-id="330d1-102">ADO.NET Entity Framework 中的連接字串</span><span class="sxs-lookup"><span data-stu-id="330d1-102">Connection Strings in the ADO.NET Entity Framework</span></span>
<span data-ttu-id="330d1-103">連接字串 (Connection String) 包含可當做參數從資料提供者 (Data Provider) 傳遞至資料來源的初始化資訊。</span><span class="sxs-lookup"><span data-stu-id="330d1-103">A connection string contains initialization information that is passed as a parameter from a data provider to a data source.</span></span> <span data-ttu-id="330d1-104">此語法會因資料提供者而不同，而且連接字串會在嘗試開啟連接期間進行剖析。</span><span class="sxs-lookup"><span data-stu-id="330d1-104">The syntax depends on the data provider, and the connection string is parsed during the attempt to open a connection.</span></span> <span data-ttu-id="330d1-105">Entity Framework 所使用的連接字串包含用來連接至支援 Entity Framework 之基礎 ADO.NET 資料提供者的資訊。</span><span class="sxs-lookup"><span data-stu-id="330d1-105">Connection strings used by the Entity Framework contain information used to connect to the underlying ADO.NET data provider that supports the Entity Framework.</span></span> <span data-ttu-id="330d1-106">它們也包含必要之模型和對應檔的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="330d1-106">They also contain information about the required model and mapping files.</span></span>  
  
 <span data-ttu-id="330d1-107">EntityClient 提供者會在存取模型和對應中繼資料，以及連接至資料來源時使用連接字串。</span><span class="sxs-lookup"><span data-stu-id="330d1-107">The connection string is used by the EntityClient provider when accessing model and mapping metadata and connecting to the data source.</span></span> <span data-ttu-id="330d1-108">您可以透過 <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> 的 <xref:System.Data.EntityClient.EntityConnection> 屬性來存取或設定連接字串。</span><span class="sxs-lookup"><span data-stu-id="330d1-108">The connection string can be accessed or set through the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> property of <xref:System.Data.EntityClient.EntityConnection>.</span></span> <span data-ttu-id="330d1-109"><xref:System.Data.EntityClient.EntityConnectionStringBuilder> 類別 (Class) 可用來以程式設計方式建構或存取連接字串中的參數。</span><span class="sxs-lookup"><span data-stu-id="330d1-109">The <xref:System.Data.EntityClient.EntityConnectionStringBuilder> class can be used to programmatically construct or access parameters in the connection string.</span></span> <span data-ttu-id="330d1-110">如需詳細資訊，請參閱 <<c0> [ 如何： 建置 Entitycollection 連接字串](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md)。</span><span class="sxs-lookup"><span data-stu-id="330d1-110">For more information, see [How to: Build an EntityConnection Connection String](../../../../../docs/framework/data/adonet/ef/how-to-build-an-entityconnection-connection-string.md).</span></span>  
  
 <span data-ttu-id="330d1-111">[Entity Data Model 工具](https://msdn.microsoft.com/library/91076853-0881-421b-837a-f582f36be527)產生連接字串儲存在應用程式的組態檔中。</span><span class="sxs-lookup"><span data-stu-id="330d1-111">The [Entity Data Model tools](https://msdn.microsoft.com/library/91076853-0881-421b-837a-f582f36be527) generate a connection string that is stored in the application's configuration file.</span></span> <span data-ttu-id="330d1-112"><xref:System.Data.Objects.ObjectContext> 會在建立物件查詢時自動擷取這個連接資訊。</span><span class="sxs-lookup"><span data-stu-id="330d1-112"><xref:System.Data.Objects.ObjectContext> retrieves this connection information automatically when creating object queries.</span></span> <span data-ttu-id="330d1-113">您可以從 <xref:System.Data.EntityClient.EntityConnection> 屬性中存取 <xref:System.Data.Objects.ObjectContext> 執行個體 (Instance) 所使用的 <xref:System.Data.Objects.ObjectContext.Connection%2A>。</span><span class="sxs-lookup"><span data-stu-id="330d1-113">The <xref:System.Data.EntityClient.EntityConnection> used by an <xref:System.Data.Objects.ObjectContext> instance can be accessed from the <xref:System.Data.Objects.ObjectContext.Connection%2A> property.</span></span> <span data-ttu-id="330d1-114">如需詳細資訊，請參閱 <<c0> [ 管理連接和交易](https://msdn.microsoft.com/library/b6659d2a-9a45-4e98-acaa-d7a8029e5b99)。</span><span class="sxs-lookup"><span data-stu-id="330d1-114">For more information, see [Managing Connections and Transactions](https://msdn.microsoft.com/library/b6659d2a-9a45-4e98-acaa-d7a8029e5b99).</span></span>  

## <a name="connection-string-syntax"></a><span data-ttu-id="330d1-115">連接字串語法</span><span class="sxs-lookup"><span data-stu-id="330d1-115">Connection String Syntax</span></span>

<span data-ttu-id="330d1-116">若要深入了解連接字串的一般語法，請參閱[連接字串語法 |在 ADO.NET 中的連接字串](../connection-strings.md#connection-string-syntax)。</span><span class="sxs-lookup"><span data-stu-id="330d1-116">To learn about the general syntax for connection strings, see [Connection string syntax | Connection Strings in ADO.NET](../connection-strings.md#connection-string-syntax).</span></span>

## <a name="connection-string-parameters"></a><span data-ttu-id="330d1-117">連接字串參數</span><span class="sxs-lookup"><span data-stu-id="330d1-117">Connection String Parameters</span></span>  

<span data-ttu-id="330d1-118">下表列出 <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> 中關鍵字值的有效名稱。</span><span class="sxs-lookup"><span data-stu-id="330d1-118">The following table lists the valid names for keyword values in the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A>.</span></span>  
  
|<span data-ttu-id="330d1-119">關鍵字</span><span class="sxs-lookup"><span data-stu-id="330d1-119">Keyword</span></span>|<span data-ttu-id="330d1-120">描述</span><span class="sxs-lookup"><span data-stu-id="330d1-120">Description</span></span>|  
|-------------|-----------------|  
|`Provider`|<span data-ttu-id="330d1-121">如果沒有指定 `Name` 關鍵字，就是必要項。</span><span class="sxs-lookup"><span data-stu-id="330d1-121">Required if the `Name` keyword is not specified.</span></span> <span data-ttu-id="330d1-122">用來擷取基礎提供者之 <xref:System.Data.Common.DbProviderFactory> 物件的提供者名稱。</span><span class="sxs-lookup"><span data-stu-id="330d1-122">The provider name, which is used to retrieve the <xref:System.Data.Common.DbProviderFactory> object for the underlying provider.</span></span> <span data-ttu-id="330d1-123">這個值是常數。</span><span class="sxs-lookup"><span data-stu-id="330d1-123">This value is constant.</span></span><br /><br /> <span data-ttu-id="330d1-124">當 `Name` 關鍵字未包含在實體連接字串中時，需要 `Provider` 關鍵字的非空白值。</span><span class="sxs-lookup"><span data-stu-id="330d1-124">When the `Name` keyword is not included in an entity connection string, a non-empty value for the `Provider` keyword is required.</span></span> <span data-ttu-id="330d1-125">此關鍵字與 `Name` 關鍵字互斥。</span><span class="sxs-lookup"><span data-stu-id="330d1-125">This keyword is mutually exclusive with the `Name` keyword.</span></span>|  
|`Provider Connection String`|<span data-ttu-id="330d1-126">選擇項。</span><span class="sxs-lookup"><span data-stu-id="330d1-126">Optional.</span></span> <span data-ttu-id="330d1-127">指定傳給基礎資料來源的提供者特定連接字串。</span><span class="sxs-lookup"><span data-stu-id="330d1-127">Specifies the provider-specific connection string that is passed to the underlying data source.</span></span> <span data-ttu-id="330d1-128">此連接字串包含有效關鍵字/值組的資料提供者。</span><span class="sxs-lookup"><span data-stu-id="330d1-128">This connection string contains valid keyword/value pairs for the data provider.</span></span> <span data-ttu-id="330d1-129">無效的 `Provider Connection String` 會在資料來源對其進行評估時導致執行階段錯誤。</span><span class="sxs-lookup"><span data-stu-id="330d1-129">An invalid `Provider Connection String` will cause a run-time error when it is evaluated by the data source.</span></span><br /><br /> <span data-ttu-id="330d1-130">此關鍵字與 `Name` 關鍵字互斥。</span><span class="sxs-lookup"><span data-stu-id="330d1-130">This keyword is mutually exclusive with the `Name` keyword.</span></span><br /><br /> <span data-ttu-id="330d1-131">請確定逸出值，根據一般的語法[ADO.NET 連接字串](../../../../../docs/framework/data/adonet/connection-strings.md)。</span><span class="sxs-lookup"><span data-stu-id="330d1-131">Make sure to escape the value according to the general syntax of [ADO.NET connection strings](../../../../../docs/framework/data/adonet/connection-strings.md).</span></span> <span data-ttu-id="330d1-132">請考慮，例如下列連接字串： `Server=serverName; User ID = userID`。</span><span class="sxs-lookup"><span data-stu-id="330d1-132">Consider for example the following connection string: `Server=serverName; User ID = userID`.</span></span> <span data-ttu-id="330d1-133">因為它包含分號，它必須是逸出。</span><span class="sxs-lookup"><span data-stu-id="330d1-133">It must be escaped because it contains a semicolon.</span></span> <span data-ttu-id="330d1-134">因為它不包含雙引號，則他們可能會用於逸出：</span><span class="sxs-lookup"><span data-stu-id="330d1-134">Since it does not contain double quotation marks, they may be used for escaping:</span></span><br /><br /> `Provider Connection String ="Server=serverName; User ID = userID";`|  
|`Metadata`|<span data-ttu-id="330d1-135">如果沒有指定 `Name` 關鍵字，就是必要項。</span><span class="sxs-lookup"><span data-stu-id="330d1-135">Required if the `Name` keyword is not specified.</span></span> <span data-ttu-id="330d1-136">目錄、檔案和資源位置的垂直線分隔清單，您可在其中尋找中繼資料和對應資訊。</span><span class="sxs-lookup"><span data-stu-id="330d1-136">A pipe-delimited list of directories, files, and resource locations in which to look for metadata and mapping information.</span></span> <span data-ttu-id="330d1-137">以下是一個範例：</span><span class="sxs-lookup"><span data-stu-id="330d1-137">The following is an example:</span></span><br /><br /> `Metadata=`<br /><br /> `c:\model &#124; c:\model\sql\mapping.msl;`<br /><br /> <span data-ttu-id="330d1-138">忽略垂直線分隔符號兩端的空白。</span><span class="sxs-lookup"><span data-stu-id="330d1-138">Blank spaces on each side of the pipe separator are ignored.</span></span><br /><br /> <span data-ttu-id="330d1-139">此關鍵字與 `Name` 關鍵字互斥。</span><span class="sxs-lookup"><span data-stu-id="330d1-139">This keyword is mutually exclusive with the `Name` keyword.</span></span>|  
|`Name`|<span data-ttu-id="330d1-140">應用程式可選擇性的在應用程式組態檔中指定連接名稱，以提供必要的關鍵字/值連接字串值。</span><span class="sxs-lookup"><span data-stu-id="330d1-140">The application can optionally specify the connection name in an application configuration file that provides the required keyword/value connection string values.</span></span> <span data-ttu-id="330d1-141">在此情況下，您不能在連接字串中直接提供這些值。</span><span class="sxs-lookup"><span data-stu-id="330d1-141">In this case, you cannot supply them directly in the connection string.</span></span> <span data-ttu-id="330d1-142">在組態檔中不允許 `Name` 關鍵字。</span><span class="sxs-lookup"><span data-stu-id="330d1-142">The `Name` keyword is not allowed in a configuration file.</span></span><br /><br /> <span data-ttu-id="330d1-143">當 `Name` 關鍵字未包含在連接字串中時，需要 Provider 關鍵字的非空白值。</span><span class="sxs-lookup"><span data-stu-id="330d1-143">When the `Name` keyword is not included in the connection string, a non-empty values for Provider keyword is required.</span></span><br /><br /> <span data-ttu-id="330d1-144">此關鍵字與所有其他連接字串關鍵字互斥。</span><span class="sxs-lookup"><span data-stu-id="330d1-144">This keyword is mutually exclusive with all the other connection string keywords.</span></span>|  
  
 <span data-ttu-id="330d1-145">以下是範例連接字串[AdventureWorks Sales Model](https://msdn.microsoft.com/library/f16cd988-673f-4376-b034-129ca93c7832)儲存在應用程式組態檔：</span><span class="sxs-lookup"><span data-stu-id="330d1-145">The following is an example of a connection string for the [AdventureWorks Sales Model](https://msdn.microsoft.com/library/f16cd988-673f-4376-b034-129ca93c7832) stored in the application configuration file:</span></span>  
  
  
  
## <a name="model-and-mapping-file-locations"></a><span data-ttu-id="330d1-146">模型和對應檔案位置</span><span class="sxs-lookup"><span data-stu-id="330d1-146">Model and Mapping File Locations</span></span>  
 <span data-ttu-id="330d1-147">`Metadata` 參數包含要讓 `EntityClient` 提供者搜尋模型和對應檔案的位置清單。</span><span class="sxs-lookup"><span data-stu-id="330d1-147">The `Metadata` parameter contains a list of locations for the `EntityClient` provider to search for model and mapping files.</span></span> <span data-ttu-id="330d1-148">模型和對應檔案通常會與應用程式可執行檔部署在相同的目錄中。</span><span class="sxs-lookup"><span data-stu-id="330d1-148">Model and mapping files are often deployed in the same directory as the application executable file.</span></span> <span data-ttu-id="330d1-149">這些檔案也可以部署在特定位置中，或當做內嵌資源包含在應用程式中。</span><span class="sxs-lookup"><span data-stu-id="330d1-149">These files can also be deployed in a specific location or included as an embedded resource in the application.</span></span>  
  
 <span data-ttu-id="330d1-150">內嵌資源的指定方式如下：</span><span class="sxs-lookup"><span data-stu-id="330d1-150">Embedded resources are specified as follows:</span></span>  
  
```  
Metadata=res://<assemblyFullName>/<resourceName>.   
```  
  
 <span data-ttu-id="330d1-151">下列選項可用於定義內嵌資源的位置：</span><span class="sxs-lookup"><span data-stu-id="330d1-151">The following options are available for defining the location of an embedded resource:</span></span>  
  
|<span data-ttu-id="330d1-152">選項</span><span class="sxs-lookup"><span data-stu-id="330d1-152">Option</span></span>|<span data-ttu-id="330d1-153">描述</span><span class="sxs-lookup"><span data-stu-id="330d1-153">Description</span></span>|  
|-|-|  
|`assemblyFullName`|<span data-ttu-id="330d1-154">含有內嵌資源之組件 (Assembly) 的完整名稱。</span><span class="sxs-lookup"><span data-stu-id="330d1-154">The full name of an assembly with the embedded resource.</span></span> <span data-ttu-id="330d1-155">此名稱包括簡單名稱、版本名稱、支援的文化特性 (Culture) 和公開金鑰 (Public Key)，如下所示：</span><span class="sxs-lookup"><span data-stu-id="330d1-155">The name includes the simple name, version name, supported culture, and public key, as follows:</span></span><br /><br /> `ResourceLib, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`<br /><br /> <span data-ttu-id="330d1-156">資源可以內嵌在應用程式可存取的任何組件中。</span><span class="sxs-lookup"><span data-stu-id="330d1-156">Resources can be embedded in any assembly that is accessible by the application.</span></span><br /><br /> <span data-ttu-id="330d1-157">如果您指定以萬用字元 (\*) 的`assemblyFullName`，Entity Framework 執行階段會搜尋下列位置中，依此順序中的資源：</span><span class="sxs-lookup"><span data-stu-id="330d1-157">If you specify a wildcard (\*) for `assemblyFullName`, the Entity Framework runtime will search for resources in the following locations, in this order:</span></span><br /><br /> <span data-ttu-id="330d1-158">1.呼叫組件。</span><span class="sxs-lookup"><span data-stu-id="330d1-158">1.  The calling assembly.</span></span><br /><span data-ttu-id="330d1-159">2.參考的組件。</span><span class="sxs-lookup"><span data-stu-id="330d1-159">2.  The referenced assemblies.</span></span><br /><span data-ttu-id="330d1-160">3.位於應用程式 bin 目錄中的組件。</span><span class="sxs-lookup"><span data-stu-id="330d1-160">3.  The assemblies in the bin directory of an application.</span></span><br /><br /> <span data-ttu-id="330d1-161">如果這些檔案不在其中一個位置內，就會擲回例外狀況 (Exception)。</span><span class="sxs-lookup"><span data-stu-id="330d1-161">If the files are not in one of these locations, an exception will be thrown.</span></span> <span data-ttu-id="330d1-162">**注意：** 當您使用萬用字元 （\*） 時，Entity Framework 必須逐一查看所有組件資源與正確的名稱。</span><span class="sxs-lookup"><span data-stu-id="330d1-162">**Note:**  When you use wildcard (\*), the Entity Framework has to look through all the assemblies for resources with the correct name.</span></span> <span data-ttu-id="330d1-163">若要改善效能，請指定組件名稱而非萬用字元。</span><span class="sxs-lookup"><span data-stu-id="330d1-163">To improve performance, specify the assembly name instead of the wildcard.</span></span>|  
|`resourceName`|<span data-ttu-id="330d1-164">內含資源的名稱，例如 AdvendtureWorksModel.csdl。</span><span class="sxs-lookup"><span data-stu-id="330d1-164">The name of the included resource, such as AdvendtureWorksModel.csdl.</span></span> <span data-ttu-id="330d1-165">中繼資料服務只會尋找具有下列其中一個副檔名的檔案或資源：.csdl、.ssdl 或 .msl。</span><span class="sxs-lookup"><span data-stu-id="330d1-165">The metadata services will only look for files or resources with one of the following extensions: .csdl, .ssdl, or .msl.</span></span> <span data-ttu-id="330d1-166">如果沒有指定 `resourceName`，就會載入所有中繼資料資源。</span><span class="sxs-lookup"><span data-stu-id="330d1-166">If `resourceName` is not specified, all metadata resources will be loaded.</span></span> <span data-ttu-id="330d1-167">這些資源應該在組件中具有唯一的名稱。</span><span class="sxs-lookup"><span data-stu-id="330d1-167">The resources should have unique names within an assembly.</span></span> <span data-ttu-id="330d1-168">如果您在組件的不同目錄中定義了具有相同名稱的多個檔案，`resourceName` 就必須在資源名稱前面包含資料夾結構，例如 FolderName.FileName.csdl。</span><span class="sxs-lookup"><span data-stu-id="330d1-168">If multiple files with the same name are defined in different directories in the assembly, the `resourceName` must include the folder structure before the name of the resource, for example FolderName.FileName.csdl.</span></span><br /><br /> <span data-ttu-id="330d1-169">當您針對 `resourceName` 指定萬用字元 (\*) 時，不需要使用 `assemblyFullName`。</span><span class="sxs-lookup"><span data-stu-id="330d1-169">`resourceName` is not required when you specify a wildcard (\*) for `assemblyFullName`.</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="330d1-170">若要改善效能，請在呼叫組件中內嵌資源，但非 Web 案例 (呼叫組件中沒有基礎對應和中繼資料檔案的參考) 除外。</span><span class="sxs-lookup"><span data-stu-id="330d1-170">To improve performance, embed resources in the calling assembly, except in non-Web scenarios where there is no reference to underlying mapping and metadata files in the calling assembly.</span></span>  
  
 <span data-ttu-id="330d1-171">下列範例會載入呼叫組件、參考的組件和應用程式 bin 目錄中其他組件的所有模型和對應檔案。</span><span class="sxs-lookup"><span data-stu-id="330d1-171">The following example loads all the model and mapping files in the calling assembly, referenced assemblies, and other assemblies in the bin directory of an application.</span></span>  
  
```  
Metadata=res://*/  
```  
  
 <span data-ttu-id="330d1-172">下列範例會從 AdventureWorks 組件中載入 model.csdl 檔案，並且從執行中應用程式的預設目錄中載入 model.ssdl 和 model.msl 檔案。</span><span class="sxs-lookup"><span data-stu-id="330d1-172">The following example loads the model.csdl file from the AdventureWorks assembly, and loads the model.ssdl and model.msl files from the default directory of the running application.</span></span>  
  
```  
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.csdl|model.ssdl|model.msl  
```  
  
 <span data-ttu-id="330d1-173">下列範例會從特定組件中載入三個指定的資源。</span><span class="sxs-lookup"><span data-stu-id="330d1-173">The following example loads the three specified resources from the specific assembly.</span></span>  
  
```  
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.csdl|   
res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.ssdl|   
res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/model.msl  
```  
  
 <span data-ttu-id="330d1-174">下列範例會從組件中載入具有副檔名 .csdl、.msl 和 .ssdl 的所有內嵌資源。</span><span class="sxs-lookup"><span data-stu-id="330d1-174">The following example loads all the embedded resources with the extensions .csdl, .msl, and .ssdl from the assembly.</span></span>  
  
```  
Metadata=res://AdventureWorks, 1.0.0.0, neutral, a14f3033def15840/  
```  
  
 <span data-ttu-id="330d1-175">下列範例會載入加上的相對檔案路徑中的所有資源 「 datadir\metadata\\」 從載入的組件的位置。</span><span class="sxs-lookup"><span data-stu-id="330d1-175">The following example loads all the resources in the relative file path plus "datadir\metadata\\" from the loaded assembly location.</span></span>  
  
```  
Metadata=datadir\metadata\  
```  
  
 <span data-ttu-id="330d1-176">下列範例會從已載入的組件位置中載入相對檔案路徑的所有資源。</span><span class="sxs-lookup"><span data-stu-id="330d1-176">The following example loads all the resources in the relative file path from the loaded assembly location.</span></span>  
  
```  
Metadata=.\  
```  
  
## <a name="support-for-the-124datadirectory124-substitution-string-and-the-web-application-root-operator-"></a><span data-ttu-id="330d1-177">支援&#124;DataDirectory&#124;替代字串和 Web 應用程式根目錄運算子 （~）</span><span class="sxs-lookup"><span data-stu-id="330d1-177">Support for the &#124;DataDirectory&#124; Substitution String and the Web Application Root Operator (~)</span></span>  
 <span data-ttu-id="330d1-178">`DataDirectory` 和 ~ 運算子會用於<xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A>的一部分`Metadata`和`Provider Connection String`關鍵字。</span><span class="sxs-lookup"><span data-stu-id="330d1-178">`DataDirectory` and the ~ operator are used in the <xref:System.Data.EntityClient.EntityConnection.ConnectionString%2A> as part of the `Metadata` and `Provider Connection String` keywords.</span></span> <span data-ttu-id="330d1-179"><xref:System.Data.EntityClient.EntityConnection> 會分別將 `DataDirectory` 和 ~ 運算子轉送至 <xref:System.Data.Metadata.Edm.MetadataWorkspace> 和存放區提供者。</span><span class="sxs-lookup"><span data-stu-id="330d1-179">The <xref:System.Data.EntityClient.EntityConnection> forwards the `DataDirectory` and the ~ operator to <xref:System.Data.Metadata.Edm.MetadataWorkspace> and the store provider, respectively.</span></span>  
  
|<span data-ttu-id="330d1-180">詞彙</span><span class="sxs-lookup"><span data-stu-id="330d1-180">Term</span></span>|<span data-ttu-id="330d1-181">描述</span><span class="sxs-lookup"><span data-stu-id="330d1-181">Description</span></span>|  
|----------|-----------------|  
|`&#124;DataDirectory&#124;`|<span data-ttu-id="330d1-182">解析成對應和中繼資料檔案的相對路徑。</span><span class="sxs-lookup"><span data-stu-id="330d1-182">Resolves to a relative path to a mapping and metadata files.</span></span> <span data-ttu-id="330d1-183">這是透過 `AppDomain.SetData("DataDirectory", objValue)` 方法所設定的值。</span><span class="sxs-lookup"><span data-stu-id="330d1-183">This is the value that is set through the `AppDomain.SetData("DataDirectory", objValue)` method.</span></span> <span data-ttu-id="330d1-184">`DataDirectory`替代字串必須以垂直線字元括住，而且不能有任何空白字元，其名稱與垂直線字元之間。</span><span class="sxs-lookup"><span data-stu-id="330d1-184">The `DataDirectory` substitution string must be surrounded by the pipe characters and there cannot be any white space between its name and the pipe characters.</span></span> <span data-ttu-id="330d1-185">`DataDirectory` 名稱不區分大小寫。</span><span class="sxs-lookup"><span data-stu-id="330d1-185">The `DataDirectory` name is not case-sensitive.</span></span><br /><br /> <span data-ttu-id="330d1-186">如果要傳遞的中繼資料路徑清單的成員身分，有一個名為"DataDirectory"的實體目錄，加入名稱的任一個或兩個邊泛空白字元。</span><span class="sxs-lookup"><span data-stu-id="330d1-186">If a physical directory named "DataDirectory" has to be passed as a member of the list of metadata paths, add white space to either or both sides of the name.</span></span> <span data-ttu-id="330d1-187">例如：`Metadata="DataDirectory1 &#124; DataDirectory &#124; DataDirectory2"`。</span><span class="sxs-lookup"><span data-stu-id="330d1-187">For example: `Metadata="DataDirectory1 &#124; DataDirectory &#124; DataDirectory2"`.</span></span> <span data-ttu-id="330d1-188">ASP.NET 應用程式會解析&#124;DataDirectory&#124;以 「\<應用程式根目錄 > / app_data"資料夾。</span><span class="sxs-lookup"><span data-stu-id="330d1-188">An ASP.NET application resolves &#124;DataDirectory&#124; to the "\<application root>/app_data" folder.</span></span>|  
|~|<span data-ttu-id="330d1-189">解析成 Web 應用程式根目錄。</span><span class="sxs-lookup"><span data-stu-id="330d1-189">Resolves to the Web application root.</span></span> <span data-ttu-id="330d1-190">位於前置位置的 ~ 字元一律會解譯成 Web 應用程式根目錄運算子 (~)，不過它可能會代表有效的本機子目錄。</span><span class="sxs-lookup"><span data-stu-id="330d1-190">The ~ character at a leading position is always interpreted as the Web application root operator (~), although it might represent a valid local subdirectory.</span></span> <span data-ttu-id="330d1-191">若要參考這類本機子目錄，使用者應該明確傳遞 `./~`。</span><span class="sxs-lookup"><span data-stu-id="330d1-191">To refer to such a local subdirectory, the user should explicitly pass `./~`.</span></span>|  
  
 <span data-ttu-id="330d1-192">您應該只在路徑的開頭指定 `DataDirectory` 和 ~ 運算子，因為它們無法在任何其他位置進行解析。</span><span class="sxs-lookup"><span data-stu-id="330d1-192">`DataDirectory` and the ~ operator should be specified only at the beginning of a path, they are not resolved at any other position.</span></span> <span data-ttu-id="330d1-193">Entity Framework 將嘗試解析 `~/data`，但是它會將 `/data/~` 視為實體路徑。</span><span class="sxs-lookup"><span data-stu-id="330d1-193">The Entity Framework will try to resolve `~/data`, but it will treat `/data/~` as a physical path.</span></span>  
  
 <span data-ttu-id="330d1-194">以 `DataDirectory` 或 ~ 運算子為開頭的路徑無法解析成 `DataDirectory` 和 ~ 運算子分支外部的實體路徑。</span><span class="sxs-lookup"><span data-stu-id="330d1-194">A path that starts with the `DataDirectory` or the ~ operator cannot resolve to a physical path outside the branch of the `DataDirectory` and the ~ operator.</span></span> <span data-ttu-id="330d1-195">例如，下列路徑將會解析：`~`、`~/data` 和 `~/bin/Model/SqlServer`。</span><span class="sxs-lookup"><span data-stu-id="330d1-195">For example, the following paths will resolve: `~` , `~/data` , `~/bin/Model/SqlServer`.</span></span> <span data-ttu-id="330d1-196">下列路徑將無法解析：`~/..` 和 `~/../other`。</span><span class="sxs-lookup"><span data-stu-id="330d1-196">The following paths will fail to resolve: `~/..`, `~/../other`.</span></span>  
  
 <span data-ttu-id="330d1-197">`DataDirectory` 和 ~ 運算子可擴充成包含子目錄，如下所示：`|DataDirectory|\Model` 和 `~/bin/Model`。</span><span class="sxs-lookup"><span data-stu-id="330d1-197">`DataDirectory` and the ~ operator can be extended to include sub-directories, as follows: `|DataDirectory|\Model`, `~/bin/Model`</span></span>  
  
 <span data-ttu-id="330d1-198">`DataDirectory` 替代字串和 ~ 運算子的解析並非遞迴方式。</span><span class="sxs-lookup"><span data-stu-id="330d1-198">The resolution of the `DataDirectory` substitution string and the ~ operator is non-recursive.</span></span> <span data-ttu-id="330d1-199">例如，當 `DataDirectory` 包含 `~` 字元時，就會發生例外狀況。</span><span class="sxs-lookup"><span data-stu-id="330d1-199">For example, when `DataDirectory` includes the `~` character, an exception will occur.</span></span> <span data-ttu-id="330d1-200">這可防止無限遞迴 (Infinite Recursion)。</span><span class="sxs-lookup"><span data-stu-id="330d1-200">This prevents an infinite recursion.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="330d1-201">另請參閱</span><span class="sxs-lookup"><span data-stu-id="330d1-201">See Also</span></span>  
 [<span data-ttu-id="330d1-202">處理資料提供者</span><span class="sxs-lookup"><span data-stu-id="330d1-202">Working with Data Providers</span></span>](../../../../../docs/framework/data/adonet/ef/working-with-data-providers.md)  
 [<span data-ttu-id="330d1-203">部署考量</span><span class="sxs-lookup"><span data-stu-id="330d1-203">Deployment Considerations</span></span>](../../../../../docs/framework/data/adonet/ef/deployment-considerations.md)  
 [<span data-ttu-id="330d1-204">管理連接和異動</span><span class="sxs-lookup"><span data-stu-id="330d1-204">Managing Connections and Transactions</span></span>](https://msdn.microsoft.com/library/b6659d2a-9a45-4e98-acaa-d7a8029e5b99)  
 [<span data-ttu-id="330d1-205">連接字串</span><span class="sxs-lookup"><span data-stu-id="330d1-205">Connection Strings</span></span>](../../../../../docs/framework/data/adonet/connection-strings.md)
