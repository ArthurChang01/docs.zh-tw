---
title: "在用戶端應用程式中使用資料服務 (WCF 資料服務)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
caps.latest.revision: "3"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: c802342f352652e24e53b70c730ddb4c5b8973a0
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/22/2017
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="dd7c0-102">在用戶端應用程式中使用資料服務 (WCF 資料服務)</span><span class="sxs-lookup"><span data-stu-id="dd7c0-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>
<span data-ttu-id="dd7c0-103">您可以存取服務公開[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]摘要將 URI 提供給 Web 瀏覽器。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-103">You can access a service that exposes an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="dd7c0-104">URI 可提供資源的位址，而要求訊息會傳送至這些位址，以存取或變更資源所代表的基礎資料。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="dd7c0-105">瀏覽器會發出 HTTP GET 命令，並且以 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 摘要的形式傳回要求的資源。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-105">The browser issues an HTTP GET command and returns the requested resource as an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed.</span></span> <span data-ttu-id="dd7c0-106">如需詳細資訊，請參閱[從網頁瀏覽器存取服務](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-106">For more information, see [Accessing the Service from a Web Browser](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="dd7c0-107">雖然 Web 瀏覽器可用來測試 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 服務是否會傳回預期的資料，但是同時讓您建立、更新及刪除資料的實際執行 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 服務通常會以應用程式程式碼或網頁中的指令碼語言來存取。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-107">Although a Web browser may be useful for testing that an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service returns the expected data, production [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="dd7c0-108">本主題概略說明如何存取[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]從用戶端應用程式摘要。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-108">This topic provides an overview of how to access [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="dd7c0-109">使用 REST 語意存取與變更資料</span><span class="sxs-lookup"><span data-stu-id="dd7c0-109">Accessing and Changing Data Using REST Semantics</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="dd7c0-110">有助於確保公開服務之間的互通性[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]摘要與取用應用程式[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]摘要。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-110"> helps guarantee interoperability between services that expose [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds and applications that consume [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds.</span></span> <span data-ttu-id="dd7c0-111">應用程式存取及變更資料[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]為基礎的服務，可藉由傳送要求訊息的特定 HTTP 動作與位址應該執行的動作依據的實體資源的 URI。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-111">Applications access and change data in an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="dd7c0-112">當必須提供實體資料時，會在訊息本文中以特定編碼的裝載形式提供。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="dd7c0-113">HTTP 動作</span><span class="sxs-lookup"><span data-stu-id="dd7c0-113">HTTP Actions</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="dd7c0-114"> 可支援下列 HTTP 動作，在定址資源代表的實體資料上，執行建立、讀取、更新，以及刪除作業：</span><span class="sxs-lookup"><span data-stu-id="dd7c0-114"> supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
-   <span data-ttu-id="dd7c0-115">**HTTP GET** -這是從瀏覽器存取資源時的預設動作。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="dd7c0-116">要求訊息中不會提供任何承載，同時會以包含所要求之資料的承載傳回回應方法。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
-   <span data-ttu-id="dd7c0-117">**HTTP POST** -將新的實體資料插入至提供的資源。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="dd7c0-118">要插入的資料會於要求訊息的承載中提供。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="dd7c0-119">回應訊息的裝載包含新建立之實體的資料。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="dd7c0-120">其中包括任何自動產生的索引鍵值。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="dd7c0-121">標頭亦包含定址新實體資源的 URI。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
-   <span data-ttu-id="dd7c0-122">**HTTP DELETE** -刪除指定的資源所代表的實體資料。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="dd7c0-123">要求或回應訊息中不會出現任何承載。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-123">A payload is not present in the request or response messages.</span></span>  
  
-   <span data-ttu-id="dd7c0-124">**HTTP PUT** -取代現有的要求之資源的要求訊息的裝載中提供新資料的實體資料。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
-   <span data-ttu-id="dd7c0-125">**HTTP MERGE** -由於執行刪除再插入資料來源，只為了變更實體資料的效率不足而[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]引進了新的 HTTP MERGE 動作。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="dd7c0-126">要求訊息的承載包含在定址實體資源中必須變更的屬性。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="dd7c0-127">由於 HTTP 規格中未定義 HTTP MERGE，因此可能需要進行額外處理，才能透過非 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 感知的伺服器來路由傳送 HTTP MERGE 要求。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] aware servers.</span></span>  
  
 <span data-ttu-id="dd7c0-128">如需詳細資訊，請參閱[OData： 作業](http://go.microsoft.com/fwlink/?LinkId=185792)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-128">For more information, see [OData: Operations](http://go.microsoft.com/fwlink/?LinkId=185792).</span></span>  
  
### <a name="payload-formats"></a><span data-ttu-id="dd7c0-129">承載格式</span><span class="sxs-lookup"><span data-stu-id="dd7c0-129">Payload Formats</span></span>  
 <span data-ttu-id="dd7c0-130">若為 HTTP PUT、HTTP POST 或 HTTP MERGE 要求，要求訊息的裝載會包含您傳送至資料服務的實體資料。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="dd7c0-131">承載的內容取決於訊息的資料格式。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="dd7c0-132">所有動作 (DELETE 除外) 的 HTTP 回應也包含此類承載。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="dd7c0-133">存取及變更資料與服務支援下列裝載格式：</span><span class="sxs-lookup"><span data-stu-id="dd7c0-133"> supports the following payload formats for accessing and changing data with the service:</span></span>  
  
-   <span data-ttu-id="dd7c0-134">**Atom** -的 XML 型訊息編碼，可定義[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]做為 Atom 發行通訊協定 (AtomPub) 資料交換透過 HTTP 的 Web 摘要、 podcast、 wiki 及 XML 型網際網路功能的延伸。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-134">**Atom** - An XML-based message encoding that is defined by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="dd7c0-135">如需詳細資訊，請參閱[OData: Atom 格式](http://go.microsoft.com/fwlink/?LinkId=185794)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-135">For more information, see [OData: Atom Format](http://go.microsoft.com/fwlink/?LinkId=185794).</span></span>  
  
-   <span data-ttu-id="dd7c0-136">**JSON** -JavaScript Object Notation (JSON) 是輕量型資料交換格式，取決於 JavaScript 程式設計語言的子集。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="dd7c0-137">如需詳細資訊，請參閱[OData: JSON 格式](http://go.microsoft.com/fwlink/?LinkId=185795)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-137">For more information, see [OData: JSON Format](http://go.microsoft.com/fwlink/?LinkId=185795).</span></span>  
  
 <span data-ttu-id="dd7c0-138">HTTP 要求訊息的標頭中會要求裝載的訊息格式。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="dd7c0-139">如需詳細資訊，請參閱[OData： 作業](http://go.microsoft.com/fwlink/?LinkID=185792)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-139">For more information, see [OData: Operations](http://go.microsoft.com/fwlink/?LinkID=185792).</span></span>  
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="dd7c0-140">使用用戶端程式庫存取及變更資料</span><span class="sxs-lookup"><span data-stu-id="dd7c0-140">Accessing and Changing Data Using Client Libraries</span></span>  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="dd7c0-141">包含用戶端程式庫可讓您更輕鬆地取用[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]從.NET Framework 和 Silverlight 為基礎的用戶端應用程式摘要。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-141"> includes client libraries that enable you to more easily consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="dd7c0-142">這些程式庫會簡化 HTTP 訊息的傳送與接收。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="dd7c0-143">他們也會將訊息承載轉譯為代表實體資料的 CLR 物件。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="dd7c0-144">用戶端程式庫具有兩個核心類別： <xref:System.Data.Services.Client.DataServiceContext> 和 <xref:System.Data.Services.Client.DataServiceQuery%601>。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="dd7c0-145">這些類別可讓您查詢資料服務，然後使用傳回的實體資料當做 CLR 物件。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="dd7c0-146">如需詳細資訊，請參閱[WCF Data Services 用戶端程式庫](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)和[WCF Data Services (Silverlight)](http://msdn.microsoft.com/en-us/c0cd9f4b-1372-48e4-9935-c8421239da30)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-146">For more information, see [WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](http://msdn.microsoft.com/en-us/c0cd9f4b-1372-48e4-9935-c8421239da30).</span></span>  
  
 <span data-ttu-id="dd7c0-147">您可以使用**加入服務參考**將參考加入至資料服務的 Visual Studio 中的對話方塊。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="dd7c0-148">此工具會從參考的資料服務要求服務中繼資料，並產生代表資料服務的 <xref:System.Data.Services.Client.DataServiceContext>，同時也會產生代表實體的用戶端資料服務類別。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="dd7c0-149">如需詳細資訊，請參閱[產生資料服務用戶端程式庫](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-149">For more information, see [Generating the Data Service Client Library](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="dd7c0-150">有一些程式庫可讓您可用來取用[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]其他種類的用戶端應用程式中的摘要。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-150">There are programming libraries available that you can use to consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed in other kinds of client applications.</span></span> <span data-ttu-id="dd7c0-151">如需詳細資訊，請參閱[OData SDK](http://go.microsoft.com/fwlink/?LinkId=185796)。</span><span class="sxs-lookup"><span data-stu-id="dd7c0-151">For more information, see the [OData SDK](http://go.microsoft.com/fwlink/?LinkId=185796).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd7c0-152">請參閱</span><span class="sxs-lookup"><span data-stu-id="dd7c0-152">See Also</span></span>  
 [<span data-ttu-id="dd7c0-153">存取資料服務資源</span><span class="sxs-lookup"><span data-stu-id="dd7c0-153">Accessing Data Service Resources</span></span>](../../../../docs/framework/data/wcf/accessing-data-service-resources-wcf-data-services.md)  
 [<span data-ttu-id="dd7c0-154">快速入門</span><span class="sxs-lookup"><span data-stu-id="dd7c0-154">Quickstart</span></span>](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md)
