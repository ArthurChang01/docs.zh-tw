---
title: "PNRP 快取 | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
caps.latest.revision: 4
author: "mcleblanc"
ms.author: "markl"
manager: "markl"
caps.handback.revision: 4
---
# PNRP 快取
對等名稱解析通訊協定 \(PNRP\) 快取是在對等維護的演算法所選取之對等端點的本機集合。  
  
## PNRP 快取初始化  
 若要初始化 PNRP 快取或對等名稱記錄集合，，當對等節點開始時，就可以使用下列方法:  
  
-   出現的保存快取項目，當節點已經關閉從硬碟儲存區載入。  
  
-   如果應用程式使用 P2P 共同作業基礎結構，共同作業相關資訊可以在連絡人管理員針對該節點。  
  
## 名稱與多快取的對等名稱解析  
 若要維持 PNRP 快取的大小，對等節點使用多層快取，每個層級所包含項目的最大數目。  每個層級在快取中表示 PNRP ID 編號空間 \(2\)<sup>256</sup>徹底的其中一個較小的一部分。  數字是存取它的最低層級在快取中包含正確註冊的 PNRP ID 和其他 PNRP ID。  當快取的層級填滿最多 20 個項目，新的較低層級建立。  層級的最大數字在快取中大約記錄10\(PNRP ID 總數 Cloud 中\)。  例如，對於具有 100 億 PNRP ID 的全域 Cloud，沒有大於 8 \(\=log10\(100,000,000\)\) 在快取並解決 PNRP ID 的躍點的相同數字的增益集名稱轉換成時。  這個機制可允許選擇性 PNRP ID 可以轉送 PNRP 下為最接近的對等電腦的要求訊息解決分散式雜湊資料表，直到找到具有對應的 CPA 的對等電腦。  
  
 若要確保解析無法完成，每次節點，將項目加入至最低階其快取，則氾濫項目的複本到快取中的最後一個層級的節點。  
  
 經過一段時間後重新整理快取項目。  快取過時從快取中移除的項目。  結果是 PNRP ID 發出的雜湊表根據作用端點，不同的 DNS 解決記錄和 DNS 通訊協定不提供保證節點與這個位址有效地在網路上。  
  
## 其他 PNRP 快取  
 另一個持續性資料存放區是本機快取。  除了 PNRP 活動所需的其他物件之外，控制項可能包含記錄與安全地發行和同步處理在 Cloud 之間的所有成員的 PNRP Cloud 或共同作業工作階段。  這個複製的存放區表示群組資料的檢視，應該具有相同的所有群組的成員。  技術上來說，這類資源的情形下，沒有資料錄，而是應用程式、物件和存在資料是預定的這些物件至本機快取。  對於 PNRP Cloud 可確保能夠傳送物件至共同作業工作階段或 PNRP Cloud 中的所有節點。  在 Cloud 成員之間的記錄複製使用 SSL 提供加密和資料完整性。  
  
 當對等電腦加入 Cloud，卻不會自動接收從它們所附加的主機對等電腦的本機快取資料，它們必須訂閱主機對等電腦收到在應用程式、現有和物件資料的更新。  在初始同步處理之後，對等定期重新同步處理其複製的存放區來確保所有群組成員一致地擁有相同的檢視。  共同作業工作階段或應用程式在共同作業工作階段內也可以執行相同的函式。  
  
 在共同作業工作階段的 Cloud 後開始後，應用程式可以註冊對等名稱和啟動發行其資訊使用 Cloud 範圍定義的安全性。  當對等 Cloud 聯結時，中的安全性機制套用至對等物件，讓它參與的範圍。  在 Cloud 的範圍中，其資料錄可以安全地予以發行。  請注意 Cloud 的範圍可能會與共同作業應用程式範圍。  
  
 對等電腦收到物件上註冊其他對等電腦。  當物件更新時，共同作業應用程式告知，並以新的物件會傳遞至應用程式的所有訂閱者。  例如，群組交談應用程式的對等在接收應用程式資訊中註冊，就會傳送至所有交談記錄在應用程式資料。  這可讓它監視在 Cloud 中交談活動。  
  
## 請參閱  
 <xref:System.Net.PeerToPeer>