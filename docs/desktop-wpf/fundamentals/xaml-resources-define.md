---
title: 定義 XAML 資源
description: 瞭解 WPF 中用於 .NET 核心的 XAML 資源。 瞭解 XAML 資源的類型,並瞭解如何定義 XAML 資源。
author: thraka
ms.author: adegeo
ms.date: 08/21/2019
ms.openlocfilehash: b278bb92afc308578d60e347871e0150b26a95db
ms.sourcegitcommit: f8c36054eab877de4d40a705aacafa2552ce70e9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/31/2019
ms.locfileid: "82071280"
---
# <a name="overview-of-xaml-resources"></a><span data-ttu-id="2d9a4-104">XAML 資源概述</span><span class="sxs-lookup"><span data-stu-id="2d9a4-104">Overview of XAML resources</span></span>

<span data-ttu-id="2d9a4-105">資源是可在應用中不同位置重複使用的物件。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-105">A resource is an object that can be reused in different places in your app.</span></span> <span data-ttu-id="2d9a4-106">資源的範例包括筆刷和樣式。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-106">Examples of resources include brushes and styles.</span></span> <span data-ttu-id="2d9a4-107">本概述介紹如何在可擴展應用程式標記語言 (XAML) 中使用資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-107">This overview describes how to use resources in Extensible Application Markup Language (XAML).</span></span> <span data-ttu-id="2d9a4-108">您還可以使用代碼創建和訪問資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-108">You can also create and access resources by using code.</span></span>

> [!NOTE]
> <span data-ttu-id="2d9a4-109">本文中描述的 XAML 資源與通常添加到*應用的應用資源*(如內容、資料或嵌入檔)不同。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-109">XAML resources described in this article are different from *app resources* which are generally files added to an app, such as content, data, or embedded files.</span></span>

<!-- TODO: File redirect from docs\framework\wpf\advanced\xaml-resources.md -->

[!INCLUDE [desktop guide under construction](../../../includes/desktop-guide-preview-note.md)]

## <a name="using-resources-in-xaml"></a><span data-ttu-id="2d9a4-110">使用 XAML 資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-110">Using resources in XAML</span></span>

<span data-ttu-id="2d9a4-111">下面的範例將<xref:System.Windows.Media.SolidColorBrush>a 定義為頁面根元素上的資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-111">The following example defines a <xref:System.Windows.Media.SolidColorBrush> as a resource on the root element of a page.</span></span> <span data-ttu-id="2d9a4-112">然後,該範例引用資源,並用它來設置多個子元素的屬性,包括<xref:System.Windows.Shapes.Ellipse>.<xref:System.Windows.Controls.TextBlock>a<xref:System.Windows.Controls.Button>和 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-112">The example then references the resource and uses it to set properties of several child elements, including an <xref:System.Windows.Shapes.Ellipse>, a <xref:System.Windows.Controls.TextBlock>, and a <xref:System.Windows.Controls.Button>.</span></span>

[!code-xaml[FEResourceSH_snip#XAML](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page1.xaml#xaml)]

<span data-ttu-id="2d9a4-113">每個框架級元素(<xref:System.Windows.FrameworkElement><xref:System.Windows.FrameworkContentElement>或<xref:System.Windows.FrameworkElement.Resources%2A>) 都有<xref:System.Windows.ResourceDictionary>一個屬性 ,該屬性是包含已定義資源的類型。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-113">Every framework-level element (<xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>) has a <xref:System.Windows.FrameworkElement.Resources%2A> property, which is a <xref:System.Windows.ResourceDictionary> type that contains defined resources.</span></span> <span data-ttu-id="2d9a4-114">可以定義任何元素(如<xref:System.Windows.Controls.Button>) 上的資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-114">You can define resources on any element, such as a <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="2d9a4-115">但是,資源最常在根元素上定義,該元素在<xref:System.Windows.Controls.Page>示例中。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-115">However, resources are most often defined on the root element, which is <xref:System.Windows.Controls.Page> in the example.</span></span>

<span data-ttu-id="2d9a4-116">資源字典中的每個資源都必須有唯一索引鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-116">Each resource in a resource dictionary must have a unique key.</span></span> <span data-ttu-id="2d9a4-117">在標記中定義資源時,可以通過[x:Key 指令](../xaml-services/xkey-directive.md)分配唯一鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-117">When you define resources in markup, you assign the unique key through the [x:Key Directive](../xaml-services/xkey-directive.md).</span></span> <span data-ttu-id="2d9a4-118">索引鍵通常是字串；不過，您也可以使用適當的標記延伸，將它設定為其他物件類型。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-118">Typically, the key is a string; however, you can also set it to other object types by using the appropriate markup extensions.</span></span> <span data-ttu-id="2d9a4-119">WPF 中的某些要素區域(尤其是樣式、元件資源和數據樣式)使用資源的非字串鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-119">Non-string keys for resources are used by certain feature areas in WPF, notably for styles, component resources, and data styling.</span></span>

<span data-ttu-id="2d9a4-120">可以將定義的資源與指定資源鍵名稱的資源標記擴展語法一起使用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-120">You can use a defined resource with the resource markup extension syntax that specifies the key name of the resource.</span></span> <span data-ttu-id="2d9a4-121">例如,將資源用作另一個元素上屬性的值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-121">For example, use the resource as the value of a property on another element.</span></span>

[!code-xaml[FEResourceSH_snip#KeyNameUsage](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#keynameusage)]

<span data-ttu-id="2d9a4-122">在前面的範例中,當 XAML 載入`{StaticResource MyBrush}`程式處理<xref:System.Windows.Controls.Control.Background%2A>屬性<xref:System.Windows.Controls.Button>的值 時,資源查<xref:System.Windows.Controls.Button>找邏輯首先檢查 元素的資源字典。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-122">In the preceding example, when the XAML loader processes the value `{StaticResource MyBrush}` for the <xref:System.Windows.Controls.Control.Background%2A> property on <xref:System.Windows.Controls.Button>, the resource lookup logic first checks the resource dictionary for the <xref:System.Windows.Controls.Button> element.</span></span> <span data-ttu-id="2d9a4-123">如果沒有<xref:System.Windows.Controls.Button>資源`MyBrush`鍵的定義(在此範例中沒有;其資源集合為空),則下一個尋找將檢查的<xref:System.Windows.Controls.Button>父元素, 該元素<xref:System.Windows.Controls.Page>為 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-123">If <xref:System.Windows.Controls.Button> doesn't have a definition of the resource key `MyBrush` (in that example it doesn't; its resource collection is empty), the lookup next checks the parent element of <xref:System.Windows.Controls.Button>, which is <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="2d9a4-124">如果在<xref:System.Windows.Controls.Page>根元素上定義資源,則的邏輯<xref:System.Windows.Controls.Page>樹中的所有元素都可以訪問它。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-124">If you define a resource on the <xref:System.Windows.Controls.Page> root element, all the elements in the logical tree of the <xref:System.Windows.Controls.Page> can access it.</span></span> <span data-ttu-id="2d9a4-125">您可以重用同一資源來設置接受資源表示的相同類型的任何屬性的值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-125">And you can reuse the same resource for setting the value of any property that accepts the same type that the resource represents.</span></span> <span data-ttu-id="2d9a4-126">在前面`MyBrush`的範例中,同一<xref:System.Windows.Controls.Control.Background%2A><xref:System.Windows.Controls.Button><xref:System.Windows.Shapes.Shape.Fill%2A>資源設定兩個不同的屬性:的和<xref:System.Windows.Shapes.Rectangle>。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-126">In the previous example, the same `MyBrush` resource sets two different properties: the <xref:System.Windows.Controls.Control.Background%2A> of a <xref:System.Windows.Controls.Button>, and the <xref:System.Windows.Shapes.Shape.Fill%2A> of a <xref:System.Windows.Shapes.Rectangle>.</span></span>

## <a name="static-and-dynamic-resources"></a><span data-ttu-id="2d9a4-127">靜態和動態資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-127">Static and dynamic resources</span></span>

<span data-ttu-id="2d9a4-128">可以將資源引用為靜態或動態。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-128">A resource can be referenced as either static or dynamic.</span></span> <span data-ttu-id="2d9a4-129">引用是透過使用[靜態資源標記擴展](../../framework/wpf/advanced/staticresource-markup-extension.md)或[動態資源標記擴展](../../framework/wpf/advanced/dynamicresource-markup-extension.md)創建的。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-129">References are created by using either the [StaticResource Markup Extension](../../framework/wpf/advanced/staticresource-markup-extension.md) or the [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span> <span data-ttu-id="2d9a4-130">標記延伸是一種 XAML 功能,允許您透過讓標記擴展處理屬性字串並將物件返回到 XAML 載入程式來指定物件引用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-130">A markup extension is a XAML feature that lets you specify an object reference by having the markup extension process the attribute string and return the object to a XAML loader.</span></span> <span data-ttu-id="2d9a4-131">有關標記延伸行為的詳細資訊,請參閱[標籤擴展和 WPF XAML](../../framework/wpf/advanced/markup-extensions-and-wpf-xaml.md)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-131">For more information about markup extension behavior, see [Markup Extensions and WPF XAML](../../framework/wpf/advanced/markup-extensions-and-wpf-xaml.md).</span></span>

<span data-ttu-id="2d9a4-132">使用標記延伸時,通常以字串形式提供由該特定標記擴展處理的一個或多個參數。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-132">When you use a markup extension, you typically provide one or more parameters in string form that are processed by that particular markup extension.</span></span> <span data-ttu-id="2d9a4-133">[靜態資源標記擴展](../../framework/wpf/advanced/staticresource-markup-extension.md)通過查找所有可用資源字典中該鍵的值來處理密鑰。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-133">The [StaticResource Markup Extension](../../framework/wpf/advanced/staticresource-markup-extension.md) processes a key by looking up the value for that key in all available resource dictionaries.</span></span> <span data-ttu-id="2d9a4-134">處理發生在載入期間,即載入過程需要分配屬性值時。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-134">Processing happens during load, which is when the loading process needs to assign the property value.</span></span> <span data-ttu-id="2d9a4-135">[動態資源標記擴展](../../framework/wpf/advanced/dynamicresource-markup-extension.md)通過創建表達式處理鍵,該運算式在應用運行之前保持未計算狀態,此時將計算運算式並提供值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-135">The [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md) instead processes a key by creating an expression, and that expression remains unevaluated until the app runs, at which time the expression is evaluated and provides a value.</span></span>

<span data-ttu-id="2d9a4-136">當您參考資源時，下列考量可能會影響您使用靜態資源參考或動態資源參考：</span><span class="sxs-lookup"><span data-stu-id="2d9a4-136">When you reference a resource, the following considerations can influence whether you use a static resource reference or a dynamic resource reference:</span></span>

- <span data-ttu-id="2d9a4-137">在確定如何為應用建立資源的總體設計時(每頁、應用中、鬆散 XAML 或僅資源程式集中),請考慮以下事項:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-137">When determining the overall design of how you create the resources for your app (per page, in the app, in loose XAML, or in a resource-only assembly), consider the following:</span></span>

- <span data-ttu-id="2d9a4-138">應用的功能。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-138">The app's functionality.</span></span> <span data-ttu-id="2d9a4-139">更新資源是應用需求的即時部分嗎?</span><span class="sxs-lookup"><span data-stu-id="2d9a4-139">Are updating resources in real-time part of your app requirements?</span></span>
- <span data-ttu-id="2d9a4-140">該資源參考型別的相關查閱行為。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-140">The respective lookup behavior of that resource reference type.</span></span>
- <span data-ttu-id="2d9a4-141">特定屬性或資源類型，以及這些類型的原生行為。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-141">The particular property or resource type, and the native behavior of those types.</span></span>

## <a name="static-resources"></a><span data-ttu-id="2d9a4-142">靜態資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-142">Static resources</span></span>

<span data-ttu-id="2d9a4-143">靜態資源參考最適用於下列情況：</span><span class="sxs-lookup"><span data-stu-id="2d9a4-143">Static resource references work best for the following circumstances:</span></span>

- <span data-ttu-id="2d9a4-144">應用設計將其大部分資源集中到頁面或應用程式級資源字典中。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-144">Your app design concentrates most of its resources into page or application-level resource dictionaries.</span></span> <span data-ttu-id="2d9a4-145">靜態資源引用不會根據運行時行為(如重新載入頁面)重新評估。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-145">Static resource references aren't reevaluated based on runtime behaviors, such as reloading a page.</span></span> <span data-ttu-id="2d9a4-146">因此,在不需要基於您的資源和應用設計時,避免大量動態資源引用,可能會帶來一些性能優勢。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-146">So there can be some performance benefit to avoiding large numbers of dynamic resource references when they aren't necessary based on your resource and app design.</span></span>

- <span data-ttu-id="2d9a4-147">正在設置不在<xref:System.Windows.DependencyObject>或上的屬性的值。 <xref:System.Windows.Freezable></span><span class="sxs-lookup"><span data-stu-id="2d9a4-147">You're setting the value of a property that isn't on a <xref:System.Windows.DependencyObject> or a <xref:System.Windows.Freezable>.</span></span>

- <span data-ttu-id="2d9a4-148">您正在創建一個資源字典,該字典將編譯到 DLL 中,並打包為應用的一部分或在應用之間共用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-148">You're creating a resource dictionary that will be compiled into a DLL and packaged as part of the app or shared between apps.</span></span>

- <span data-ttu-id="2d9a4-149">您正在為自訂控制件建立主題,並定義主題中使用的資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-149">You're creating a theme for a custom control and are defining resources that are used within the themes.</span></span> <span data-ttu-id="2d9a4-150">在這種情況下,您通常不希望動態資源引用查找行為;因此,您不希望出現動態資源引用查找行為。相反,您希望靜態資源引用行為,以便查找是可預測和自包含的主題。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-150">For this case, you typically do not want the dynamic resource reference lookup behavior; you instead want the static resource reference behavior so that the lookup is predictable and self-contained to the theme.</span></span> <span data-ttu-id="2d9a4-151">使用動態資源引用時,即使主題中的引用在運行時之前都處於未計算。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-151">With a dynamic resource reference, even a reference within a theme is left unevaluated until run-time.</span></span> <span data-ttu-id="2d9a4-152">應用主題時,一些局部元素可能會重新定義主題嘗試引用的鍵,並且本地元素將落在查找中的主題本身之前。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-152">and there is a chance that when the theme is applied, some local element will redefine a key that your theme is trying to reference, and the local element will fall prior to the theme itself in the lookup.</span></span> <span data-ttu-id="2d9a4-153">如果發生這種情況,您的主題將不按預期進行。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-153">If that happens, your theme will not behave as expected.</span></span>

- <span data-ttu-id="2d9a4-154">您正在使用資源來設置大量依賴項屬性。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-154">You're using resources to set large numbers of dependency properties.</span></span> <span data-ttu-id="2d9a4-155">依賴項屬性具有屬性系統啟用的有效值緩存,因此,如果為可在載入時計算的依賴項屬性提供值,則依賴項屬性不必檢查重新評估的表達式,並可以返回最後一個有效值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-155">Dependency properties have effective value caching as enabled by the property system, so if you provide a value for a dependency property that can be evaluated at load time, the dependency property doesn't have to check for a reevaluated expression and can return the last effective value.</span></span> <span data-ttu-id="2d9a4-156">這項技術可能會提升效能。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-156">This technique can be a performance benefit.</span></span>

- <span data-ttu-id="2d9a4-157">您希望更改所有使用者的基礎資源,或者希望使用[x:共用屬性](../xaml-services/xshared-attribute.md)為每個使用者維護單獨的可寫實例。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-157">You want to change the underlying resource for all consumers, or you want to maintain separate writable instances for each consumer by using the [x:Shared Attribute](../xaml-services/xshared-attribute.md).</span></span>

### <a name="static-resource-lookup-behavior"></a><span data-ttu-id="2d9a4-158">靜態資源查閱行為</span><span class="sxs-lookup"><span data-stu-id="2d9a4-158">Static resource lookup behavior</span></span>

<span data-ttu-id="2d9a4-159">下面描述了當屬性或元素引用靜態資源時自動發生的查找過程:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-159">The following describes the lookup process that automatically happens when a static resource is referenced by a property or element:</span></span>

01. <span data-ttu-id="2d9a4-160">查閱程序會檢查設定屬性之項目所定義的資源字典內，是否有要求的索引鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-160">The lookup process checks for the requested key within the resource dictionary defined by the element that sets the property.</span></span>

01. <span data-ttu-id="2d9a4-161">然後,查找過程向上遍歷邏輯樹到父元素及其資源字典。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-161">The lookup process then traverses the logical tree upward to the parent element and its resource dictionary.</span></span> <span data-ttu-id="2d9a4-162">此過程將繼續,直到到達根元素。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-162">This process continues until the root element is reached.</span></span>

01. <span data-ttu-id="2d9a4-163">檢查應用資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-163">App resources are checked.</span></span> <span data-ttu-id="2d9a4-164">應用資源是資源字典中由 WPF<xref:System.Windows.Application>應用 的物件定義的資源資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-164">App resources are those resources within the resource dictionary that is defined by the <xref:System.Windows.Application> object for your WPF app.</span></span>

<span data-ttu-id="2d9a4-165">資源字典內的靜態資源參考必須參考資源參考之前已在語彙上定義的資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-165">Static resource references from within a resource dictionary must reference a resource that has already been defined lexically before the resource reference.</span></span> <span data-ttu-id="2d9a4-166">靜態資源參考無法解析向前參考。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-166">Forward references cannot be resolved by a static resource reference.</span></span> <span data-ttu-id="2d9a4-167">因此,請設計資源字典結構,以便在每個資源字典的開頭或附近定義資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-167">For this reason, design your resource dictionary structure such that resources are defined at or near the beginning of each respective resource dictionary.</span></span>

<span data-ttu-id="2d9a4-168">靜態資源查找可以擴展到主題或系統資源,但僅支援此查找,因為 XAML 載入程式延遲請求。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-168">Static resource lookup can extend into themes or into system resources, but this lookup is supported only because the XAML loader defers the request.</span></span> <span data-ttu-id="2d9a4-169">延遲是必需的,以便頁面載入時執行時主題正確應用於應用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-169">The deferral is necessary so that the runtime theme at the time the page loads applies properly to the app.</span></span> <span data-ttu-id="2d9a4-170">但是,不建議對已知僅存在於主題或系統資源中的鍵進行靜態資源引用,因為如果使用者即時更改主題,則不會重新評估此類引用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-170">However, static resource references to keys that are known to only exist in themes or as system resources aren't recommended, because such references aren't reevaluated if the theme is changed by the user in real time.</span></span> <span data-ttu-id="2d9a4-171">當您要求佈景主題或系統資源時，動態資源參考會更可靠。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-171">A dynamic resource reference is more reliable when you request theme or system resources.</span></span> <span data-ttu-id="2d9a4-172">但佈景主題項目本身要求另一個資源時則例外。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-172">The exception is when a theme element itself requests another resource.</span></span> <span data-ttu-id="2d9a4-173">這些參考應該是靜態資源參考，原因如前所述。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-173">These references should be static resource references, for the reasons mentioned earlier.</span></span>

<span data-ttu-id="2d9a4-174">如果未找到靜態資源引用,則異常行為會有所不同。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-174">The exception behavior if a static resource reference isn't found varies.</span></span> <span data-ttu-id="2d9a4-175">如果已延遲資源，則會在執行階段發生例外狀況。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-175">If the resource was deferred, then the exception occurs at runtime.</span></span> <span data-ttu-id="2d9a4-176">如果未延遲資源，則會在載入時發生例外狀況。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-176">If the resource was not deferred, the exception occurs at load time.</span></span>

## <a name="dynamic-resources"></a><span data-ttu-id="2d9a4-177">動態資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-177">Dynamic resources</span></span>

<span data-ttu-id="2d9a4-178">動態資源在:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-178">Dynamic resources work best when:</span></span>

- <span data-ttu-id="2d9a4-179">資源的值(包括系統資源或其他使用者可設置的資源)取決於在運行時之前不知道的條件。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-179">The value of the resource, including system resources, or resources that are otherwise user settable, depends on conditions that aren't known until runtime.</span></span> <span data-ttu-id="2d9a4-180">例如,您可以建立 setter 值,這些值引用由<xref:System.Windows.SystemColors><xref:System.Windows.SystemFonts>或公開的<xref:System.Windows.SystemParameters>系統屬性 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-180">For example, you can create setter values that refer to system properties as exposed by <xref:System.Windows.SystemColors>, <xref:System.Windows.SystemFonts>, or <xref:System.Windows.SystemParameters>.</span></span> <span data-ttu-id="2d9a4-181">由於這些值最終是來自使用者和作業系統的執行階段環境，因此是真正動態的。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-181">These values are truly dynamic because they ultimately come from the runtime environment of the user and operating system.</span></span> <span data-ttu-id="2d9a4-182">您也可能有會變更的應用程式層級佈景主題，其中的頁面層級資源存取也必須擷取該變更。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-182">You might also have application-level themes that can change, where page-level resource access must also capture the change.</span></span>

- <span data-ttu-id="2d9a4-183">您正在為自訂控制件建立或引用主題樣式。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-183">You're creating or referencing theme styles for a custom control.</span></span>

- <span data-ttu-id="2d9a4-184">您打算在應用生存期內調整<xref:System.Windows.ResourceDictionary>的內容。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-184">You intend to adjust the contents of a <xref:System.Windows.ResourceDictionary> during an app lifetime.</span></span>

- <span data-ttu-id="2d9a4-185">您有內含相互依存性的複雜資源結構，可能需要向前參考。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-185">You have a complicated resource structure that has interdependencies, where a forward reference may be required.</span></span> <span data-ttu-id="2d9a4-186">靜態資源引用不支援轉發引用,但動態資源引用確實支援它們,因為在運行時之前不需要計算資源,因此轉發引用不是相關概念。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-186">Static resource references do not support forward references, but dynamic resource references do support them because the resource doesn't need to be evaluated until runtime, and forward references are therefore not a relevant concept.</span></span>

- <span data-ttu-id="2d9a4-187">從編譯或工作集的角度來看,您引用的是較大的資源,並且在頁面載入時可能不會立即使用該資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-187">You're referencing a resource that is large from the perspective of a compile or working set, and the resource might not be used immediately when the page loads.</span></span> <span data-ttu-id="2d9a4-188">當頁面載入時,靜態資源引用始終從 XAML 載入。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-188">Static resource references always load from XAML when the page loads.</span></span> <span data-ttu-id="2d9a4-189">但是,動態資源引用在使用之前不會載入。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-189">However, a dynamic resource reference doesn't load until it's used.</span></span>

- <span data-ttu-id="2d9a4-190">您正在創建一種樣式,其中 setter 值可能來自受主題或其他使用者設置影響的其他值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-190">You're creating a style where setter values might come from other values that are influenced by themes or other user settings.</span></span>

- <span data-ttu-id="2d9a4-191">正在將資源應用於在應用生存期內可能重新父化邏輯樹中的元素。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-191">You're applying resources to elements that might be reparented in the logical tree during app lifetime.</span></span> <span data-ttu-id="2d9a4-192">變更父代也可能會變更資源查閱範圍，因此如果您想要根據新範圍重新評估重設父代項目的資源，請一律使用動態資源參考。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-192">Changing the parent also potentially changes the resource lookup scope, so if you want the resource for a reparented element to be reevaluated based on the new scope, always use a dynamic resource reference.</span></span>

### <a name="dynamic-resource-lookup-behavior"></a><span data-ttu-id="2d9a4-193">動態資源查閱行為</span><span class="sxs-lookup"><span data-stu-id="2d9a4-193">Dynamic resource lookup behavior</span></span>

<span data-ttu-id="2d9a4-194">動態資源參考的資源尋找行為與程式碼中的尋找行為平行,如果呼叫<xref:System.Windows.FrameworkElement.FindResource%2A>或呼<xref:System.Windows.FrameworkElement.SetResourceReference%2A>叫 :</span><span class="sxs-lookup"><span data-stu-id="2d9a4-194">Resource lookup behavior for a dynamic resource reference parallels the lookup behavior in your code if you call <xref:System.Windows.FrameworkElement.FindResource%2A> or <xref:System.Windows.FrameworkElement.SetResourceReference%2A>:</span></span>

01. <span data-ttu-id="2d9a4-195">尋找查詢設定屬性的元素定義的資源字典中請求的金鑰:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-195">The lookup checks for the requested key within the resource dictionary defined by the element that sets the property:</span></span>

    - <span data-ttu-id="2d9a4-196">如果元素定義屬性<xref:System.Windows.FrameworkElement.Style%2A>,則元素<xref:System.Windows.FrameworkElement.Style?displayProperty=fullName>的 字<xref:System.Windows.Style.Resources>典已 選中。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-196">If the element defines a <xref:System.Windows.FrameworkElement.Style%2A> property, the <xref:System.Windows.FrameworkElement.Style?displayProperty=fullName> of the element has its <xref:System.Windows.Style.Resources> dictionary checked.</span></span>

    - <span data-ttu-id="2d9a4-197">如果元素定義屬性<xref:System.Windows.Controls.Control.Template%2A><xref:System.Windows.FrameworkTemplate.Resources?displayProperty=fullName>, 則檢查元素的字典。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-197">If the element defines a <xref:System.Windows.Controls.Control.Template%2A> property, the <xref:System.Windows.FrameworkTemplate.Resources?displayProperty=fullName> dictionary of the element is checked.</span></span>

01. <span data-ttu-id="2d9a4-198">查找將邏輯樹向上遍歷父元素及其資源字典。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-198">The lookup traverses the logical tree upward to the parent element and its resource dictionary.</span></span> <span data-ttu-id="2d9a4-199">此過程將繼續,直到到達根元素。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-199">This process continues until the root element is reached.</span></span>

01. <span data-ttu-id="2d9a4-200">檢查應用資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-200">App resources are checked.</span></span> <span data-ttu-id="2d9a4-201">應用資源是資源字典中由 WPF<xref:System.Windows.Application>應用 的物件定義的資源資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-201">App resources are those resources within the resource dictionary that are defined by the <xref:System.Windows.Application> object for your WPF app.</span></span>

01. <span data-ttu-id="2d9a4-202">檢查主題資源字典以檢查當前活動的主題。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-202">The theme resource dictionary is checked for the currently active theme.</span></span> <span data-ttu-id="2d9a4-203">如果佈景主題在執行階段變更，則會重新評估其值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-203">If the theme changes at runtime, the value is reevaluated.</span></span>

01. <span data-ttu-id="2d9a4-204">檢查系統資源。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-204">System resources are checked.</span></span>

<span data-ttu-id="2d9a4-205">例外狀況行為 (如果有的話) 則有所不同：</span><span class="sxs-lookup"><span data-stu-id="2d9a4-205">Exception behavior (if any) varies:</span></span>

- <span data-ttu-id="2d9a4-206">如果<xref:System.Windows.FrameworkElement.FindResource%2A>調用請求了資源,但未找到資源,則引發異常。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-206">If a resource was requested by a <xref:System.Windows.FrameworkElement.FindResource%2A> call and was not found, an exception is thrown.</span></span>

- <span data-ttu-id="2d9a4-207">如果<xref:System.Windows.FrameworkElement.TryFindResource%2A>呼叫請求了資源,但未找到資源,則不會引發異常,傳回的`null`值為 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-207">If a resource was requested by a <xref:System.Windows.FrameworkElement.TryFindResource%2A> call and was not found, no exception is thrown, and the returned value is `null`.</span></span> <span data-ttu-id="2d9a4-208">如果正在設置的屬性不接受`null`,則仍可能引發更深的異常,具體取決於要設置的單個屬性。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-208">If the property being set doesn't accept `null`, then it's still possible that a deeper exception will be thrown, depending on the individual property being set.</span></span>

- <span data-ttu-id="2d9a4-209">如果 XAML 中的動態資源引用請求了資源,但未找到資源,則該行為取決於常規屬性系統。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-209">If a resource was requested by a dynamic resource reference in XAML and was not found, then the behavior depends on the general property system.</span></span> <span data-ttu-id="2d9a4-210">一般行為就好像在資源所在的級別上沒有發生屬性設置操作一樣。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-210">The general behavior is as if no property setting operation occurred at the level where the resource exists.</span></span> <span data-ttu-id="2d9a4-211">例如,如果您嘗試使用無法計算的資源在單個按鈕元素上設置背景,則沒有值設置結果,但有效值仍可能來自屬性系統和值優先順序中的其他參與者。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-211">For instance, if you attempt to set the background on an individual button element using a resource that could not be evaluated, then no value set results, but the effective value can still come from other participants in the property system and value precedence.</span></span> <span data-ttu-id="2d9a4-212">例如,背景值可能仍來自本地定義的按鈕樣式或主題樣式。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-212">For instance, the background value might still come from a locally defined button style or from the theme style.</span></span> <span data-ttu-id="2d9a4-213">對於主題樣式未定義的屬性,失敗的資源計算后的有效值可能來自屬性元數據中的預設值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-213">For properties that aren't defined by theme styles, the effective value after a failed resource evaluation might come from the default value in the property metadata.</span></span>

### <a name="restrictions"></a><span data-ttu-id="2d9a4-214">限制</span><span class="sxs-lookup"><span data-stu-id="2d9a4-214">Restrictions</span></span>

<span data-ttu-id="2d9a4-215">動態資源參考有一些值得注意的限制。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-215">Dynamic resource references have some notable restrictions.</span></span> <span data-ttu-id="2d9a4-216">以下條件之一必須至少為 true:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-216">At least one of the following conditions must be true:</span></span>

- <span data-ttu-id="2d9a4-217">正在設置的屬性必須是<xref:System.Windows.FrameworkElement>或<xref:System.Windows.FrameworkContentElement>上的屬性。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-217">The property being set must be a property on a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="2d9a4-218">該屬性必須由的支援<xref:System.Windows.DependencyProperty>。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-218">That property must be backed by a <xref:System.Windows.DependencyProperty>.</span></span>

- <span data-ttu-id="2d9a4-219">引用是針對中的值。 `StyleSetter`</span><span class="sxs-lookup"><span data-stu-id="2d9a4-219">The reference is for a value within a `StyleSetter`.</span></span>

- <span data-ttu-id="2d9a4-220">正在<xref:System.Windows.Freezable>設定的屬性必須是作為<xref:System.Windows.FrameworkElement><xref:System.Windows.FrameworkContentElement>或 屬性的值提供的<xref:System.Windows.Setter>屬性或值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-220">The property being set must be a property on a <xref:System.Windows.Freezable> that is provided as a value of either a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> property, or a <xref:System.Windows.Setter> value.</span></span>

<span data-ttu-id="2d9a4-221">由於正在設置的屬性必須是<xref:System.Windows.DependencyProperty><xref:System.Windows.Freezable>或 屬性,因此大多數屬性更改可以傳播到 UI,因為屬性系統確認屬性更改(更改的動態資源值)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-221">Because the property being set must be a <xref:System.Windows.DependencyProperty> or <xref:System.Windows.Freezable> property, most property changes can propagate to the UI because a property change (the changed dynamic resource value) is acknowledged by the property system.</span></span> <span data-ttu-id="2d9a4-222">大多數控件都包含邏輯,如果更改和該屬性可能會影響佈局,<xref:System.Windows.DependencyProperty>則該邏輯將強制控件的另一個佈局。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-222">Most controls include logic that will force another layout of a control if a <xref:System.Windows.DependencyProperty> changes and that property might affect layout.</span></span> <span data-ttu-id="2d9a4-223">但是,並非所有具有[動態資源標記擴展](../../framework/wpf/advanced/dynamicresource-markup-extension.md)的屬性(其值)都保證在 UI 中提供即時更新。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-223">However, not all properties that have a [DynamicResource Markup Extension](../../framework/wpf/advanced/dynamicresource-markup-extension.md) as their value are guaranteed to provide real time updates in the UI.</span></span> <span data-ttu-id="2d9a4-224">該功能可能仍因屬性而異,具體取決於擁有屬性的類型,甚至應用的邏輯結構。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-224">That functionality still might vary depending on the property, as well as depending on the type that owns the property, or even the logical structure of your app.</span></span>

## <a name="styles-datatemplates-and-implicit-keys"></a><span data-ttu-id="2d9a4-225">樣式、資料範本和隱式鍵</span><span class="sxs-lookup"><span data-stu-id="2d9a4-225">Styles, DataTemplates, and implicit keys</span></span>

<span data-ttu-id="2d9a4-226">儘管 中<xref:System.Windows.ResourceDictionary>的所有 項都必須具有鍵,但這並不意味著所有資源都必須`x:Key`具有顯式 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-226">Although all items in a <xref:System.Windows.ResourceDictionary> must have a key, that doesn't mean that all resources must have an explicit `x:Key`.</span></span> <span data-ttu-id="2d9a4-227">有幾種物件類型會在定義為資源時支援隱含索引鍵，其中索引鍵值會繫結至另一個屬性的值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-227">Several object types support an implicit key when defined as a resource, where the key value is tied to the value of another property.</span></span> <span data-ttu-id="2d9a4-228">這種類型的鍵稱為隱式鍵,而`x:Key`屬性是顯式鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-228">This type of key is known as an implicit key, whereas an `x:Key` attribute is an explicit key.</span></span> <span data-ttu-id="2d9a4-229">您可以藉由指定明確索引鍵，來覆寫任何隱含索引鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-229">You can overwrite any implicit key by specifying an explicit key.</span></span>

<span data-ttu-id="2d9a4-230">資源的一個重要機制是定義<xref:System.Windows.Style>時 。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-230">One important scenario for resources is when you define a <xref:System.Windows.Style>.</span></span> <span data-ttu-id="2d9a4-231">事實上,在資源<xref:System.Windows.Style>字典中,幾乎總是定義為條目,因為樣式本質上是要重用的。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-231">In fact, a <xref:System.Windows.Style> is almost always defined as an entry in a resource dictionary, because styles are inherently intended for reuse.</span></span> <span data-ttu-id="2d9a4-232">有關樣式的詳細資訊,請參閱[樣式和範本](styles-templates-overview.md)化。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-232">For more information about styles, see [Styling and Templating](styles-templates-overview.md).</span></span>

<span data-ttu-id="2d9a4-233">控制項的樣式可以透過隱含索引鍵來建立及參考。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-233">Styles for controls can be both created with and referenced with an implicit key.</span></span> <span data-ttu-id="2d9a4-234">定義預設控制項外觀的佈景主題樣式會依賴此隱含索引鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-234">The theme styles that define the default appearance of a control rely on this implicit key.</span></span> <span data-ttu-id="2d9a4-235">從請求的角度來看,隱式鍵是<xref:System.Type>控件本身。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-235">From the standpoint of requesting it, the implicit key is the <xref:System.Type> of the control itself.</span></span> <span data-ttu-id="2d9a4-236">從定義資源的角度來看,隱式鍵是<xref:System.Windows.Style.TargetType%2A>樣式的。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-236">From the standpoint of defining the resources, the implicit key is the <xref:System.Windows.Style.TargetType%2A> of the style.</span></span> <span data-ttu-id="2d9a4-237">因此,如果要為自訂控制件建立主題或建立與現有主題樣式互動的樣式,則無需為此<xref:System.Windows.Style>指定[x:Key 指令](../xaml-services/xkey-directive.md)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-237">Therefore, if you're creating themes for custom controls or creating styles that interact with existing theme styles, you do not need to specify an [x:Key Directive](../xaml-services/xkey-directive.md) for that <xref:System.Windows.Style>.</span></span> <span data-ttu-id="2d9a4-238">此外，如果您想要使用佈景主題樣式，則完全不需要指定任何樣式。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-238">And if you want to use the themed styles, you do not need to specify any style at all.</span></span> <span data-ttu-id="2d9a4-239">例如,以下樣式定義有效,即使<xref:System.Windows.Style>資源似乎沒有密鑰:</span><span class="sxs-lookup"><span data-stu-id="2d9a4-239">For instance, the following style definition works, even though the <xref:System.Windows.Style> resource doesn't appear to have a key:</span></span>

[!code-xaml[FEResourceSH_snip#ImplicitStyle](~/samples/snippets/csharp/VS_Snippets_Wpf/FEResourceSH_snip/CS/page2.xaml#implicitstyle)]

<span data-ttu-id="2d9a4-240">這種風格確實有一個鍵:隱式鍵`typeof(System.Windows.Controls.Button)`。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-240">That style really does have a key: the implicit key `typeof(System.Windows.Controls.Button)`.</span></span> <span data-ttu-id="2d9a4-241">在標記中,可以直接指定類型<xref:System.Windows.Style.TargetType%2A>名稱(也可以選擇使用[{x:Type...]](../xaml-services/xtype-markup-extension.md)</span><span class="sxs-lookup"><span data-stu-id="2d9a4-241">In markup, you can specify a <xref:System.Windows.Style.TargetType%2A> directly as the type name (or you can optionally use [{x:Type...}](../xaml-services/xtype-markup-extension.md)</span></span> <span data-ttu-id="2d9a4-242">返回<xref:System.Type>。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-242">to return a <xref:System.Type>.</span></span>

<span data-ttu-id="2d9a4-243">通過 WPF 使用的預設主題樣式機制,該樣式將應用於頁面上的<xref:System.Windows.Controls.Button>運行時<xref:System.Windows.Controls.Button>樣式,即使<xref:System.Windows.FrameworkElement.Style%2A>本身不嘗試指定其 屬性或對該樣式的特定資源引用。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-243">Through the default theme style mechanisms used by WPF, that style is applied as the runtime style of a <xref:System.Windows.Controls.Button> on the page, even though the <xref:System.Windows.Controls.Button> itself doesn't attempt to specify its <xref:System.Windows.FrameworkElement.Style%2A> property or a specific resource reference to the style.</span></span> <span data-ttu-id="2d9a4-244">在頁面中定義的樣式在查找序列中早於主題字典樣式中找到,使用主題詞典樣式具有的相同鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-244">Your style defined in the page is found earlier in the lookup sequence than the theme dictionary style, using the same key that the theme dictionary style has.</span></span> <span data-ttu-id="2d9a4-245">您可以指定`<Button>Hello</Button>`頁面中的任意位置,並且您<xref:System.Windows.Style.TargetType%2A>定義的樣式`Button`將應用於該按鈕。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-245">You could just specify `<Button>Hello</Button>` anywhere in the page, and the style you defined with <xref:System.Windows.Style.TargetType%2A> of `Button` would apply to that button.</span></span> <span data-ttu-id="2d9a4-246">如果需要,您仍然可以顯式鍵入樣式,其類型值與<xref:System.Windows.Style.TargetType%2A>標記中的明確性相同,但這是可選的。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-246">If you want, you can still explicitly key the style with the same type value as <xref:System.Windows.Style.TargetType%2A> for clarity in your markup, but that is optional.</span></span>

<span data-ttu-id="2d9a4-247">如果<xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A>`true`是 ,則樣式的隱式鍵不適用於控件。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-247">Implicit keys for styles do not apply on a control if <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> is `true`.</span></span> <span data-ttu-id="2d9a4-248">(另請注意,<xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A>可能設置為控制項類別的本機行為的一部分,而不是在控制項的實例上顯式設置。此外,為了支援派生類方案的隱式鍵,控件必須重寫<xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>(作為 WPF 的一部分提供的所有現有控制項都包括此覆蓋)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-248">(Also note that <xref:System.Windows.FrameworkElement.OverridesDefaultStyle%2A> might be set as part of native behavior for the control class, rather than explicitly on an instance of the control.) Also, in order to support implicit keys for derived class scenarios, the control must override <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A> (all existing controls provided as part of WPF include this override).</span></span> <span data-ttu-id="2d9a4-249">有關樣式、主題和控制設計的詳細資訊,請參閱[設計可手寫控制件的指南](../../framework/wpf/controls/guidelines-for-designing-stylable-controls.md)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-249">For more information about styles, themes, and control design, see [Guidelines for Designing Stylable Controls](../../framework/wpf/controls/guidelines-for-designing-stylable-controls.md).</span></span>

<span data-ttu-id="2d9a4-250"><xref:System.Windows.DataTemplate>也有一個隱式鍵。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-250"><xref:System.Windows.DataTemplate> also has an implicit key.</span></span> <span data-ttu-id="2d9a4-251">的隱式鍵<xref:System.Windows.DataTemplate><xref:System.Windows.DataTemplate.DataType%2A>是 屬性值。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-251">The implicit key for a <xref:System.Windows.DataTemplate> is the <xref:System.Windows.DataTemplate.DataType%2A> property value.</span></span> <span data-ttu-id="2d9a4-252"><xref:System.Windows.DataTemplate.DataType%2A>也可以指定為類型的名稱,而不是顯式使用[[x:Type...]](../xaml-services/xtype-markup-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-252"><xref:System.Windows.DataTemplate.DataType%2A> can also be specified as the name of the type rather than explicitly using [{x:Type...}](../xaml-services/xtype-markup-extension.md).</span></span> <span data-ttu-id="2d9a4-253">有關詳細資訊,請參閱[資料樣本概述](../../framework/wpf/data/data-templating-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="2d9a4-253">For details, see [Data Templating Overview](../../framework/wpf/data/data-templating-overview.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="2d9a4-254">另請參閱</span><span class="sxs-lookup"><span data-stu-id="2d9a4-254">See also</span></span>

- <xref:System.Windows.ResourceDictionary>
- [<span data-ttu-id="2d9a4-255">應用程式資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-255">Application resources</span></span>](../../framework/wpf/advanced/optimizing-performance-application-resources.md)
- [<span data-ttu-id="2d9a4-256">資源與代碼</span><span class="sxs-lookup"><span data-stu-id="2d9a4-256">Resources and code</span></span>](../../framework/wpf/advanced/resources-and-code.md)
- [<span data-ttu-id="2d9a4-257">定義及參考資源</span><span class="sxs-lookup"><span data-stu-id="2d9a4-257">Define and reference a resource</span></span>](../../framework/wpf/advanced/how-to-define-and-reference-a-resource.md)
- [<span data-ttu-id="2d9a4-258">應用程式管理概述</span><span class="sxs-lookup"><span data-stu-id="2d9a4-258">Application management overview</span></span>](../../framework/wpf/app-development/application-management-overview.md)
- [<span data-ttu-id="2d9a4-259">x:鍵入標記延伸</span><span class="sxs-lookup"><span data-stu-id="2d9a4-259">x:Type markup extension</span></span>](../xaml-services/xtype-markup-extension.md)
- [<span data-ttu-id="2d9a4-260">靜態資源標記延伸</span><span class="sxs-lookup"><span data-stu-id="2d9a4-260">StaticResource markup extension</span></span>](../../framework/wpf/advanced/staticresource-markup-extension.md)
- [<span data-ttu-id="2d9a4-261">動態資源標記延伸</span><span class="sxs-lookup"><span data-stu-id="2d9a4-261">DynamicResource markup extension</span></span>](../../framework/wpf/advanced/dynamicresource-markup-extension.md)
